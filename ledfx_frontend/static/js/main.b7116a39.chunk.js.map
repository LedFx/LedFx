{"version":3,"sources":["utils/api/index.js","proxies/device.js","modules/settings.js","modules/ui.js","modules/devices.js","utils/helpers.js","modules/selectedDevice.js","modules/presets.js","proxies/effects.js","modules/schemas.js","proxies/scenes.js","modules/scenes.js","modules/virtuals.js","proxies/integrations.js","modules/integrations.js","proxies/display.js","modules/displays.js","modules/selectedDisplay.js","modules/index.js","App/createStore.js","utils/style.js","utils/api/websocket.js","components/PixelColorGraph/index.jsx","components/DeviceMiniControl/index.jsx","components/AddSceneCard/index.jsx","components/MiniScenesCard/index.jsx","views/Dashboard/index.jsx","components/PopoverSure/index.js","components/DisplaySegmentsDialog/AddSegmentDialog.js","components/DisplaySegmentsDialog/PixelSlider.js","components/DisplaySegmentsDialog/Segment.js","components/DisplaySegmentsDialog/index.js","components/CustomIcons/Wled.js","components/DisplaysTable/DisplaysTableItem.jsx","components/DisplaysTable/index.jsx","components/forms/DropDown/index.jsx","components/DeviceConfigDialog/AdditionalProperties.jsx","components/DeviceConfigDialog/index.jsx","components/DisplayConfigDialog/AdditionalProperties.jsx","components/DisplayConfigDialog/index.jsx","views/Devices/index.jsx","components/SceneCard/SceneConfigTable.jsx","components/SceneCard/index.jsx","views/Scenes/index.jsx","components/SchemaForm/customFields/Slider.jsx","components/SchemaForm/mapper.js","components/EffectControl/DisplayEffectControl.jsx","components/PixelColorGraph/DisplayPixelColorGraph.jsx","components/PresetsCard/index.jsx","views/Display/MoreInfo.js","views/Display/index.jsx","components/VirtualComponents/PopoverNew.js","components/VirtualComponents/DialogAddSegment.js","components/VirtualComponents/PixelSlider.js","components/VirtualComponents/PopoverSure.js","components/VirtualComponents/UsedPixels.js","components/VirtualComponents/DragDropItem.js","components/VirtualComponents/index.jsx","components/VirtualComponents/Virtual.js","views/Virtuals/index.jsx","proxies/virtuals.js","components/IntegrationComponents/DialogAddIntegration.js","components/IntegrationComponents/Card.js","components/IntegrationComponents/CardB.js","components/IntegrationComponents/DataRow.js","components/IntegrationComponents/Row.js","views/Integrations/index.jsx","views/Advanced/LogCard.jsx","views/Advanced/ControlsCard.jsx","views/Advanced/ThemesCard.jsx","views/Advanced/ConfigEditor.jsx","views/Advanced/index.jsx","views/Settings/AudioInput.jsx","views/Settings/ConfigCard.jsx","views/Settings/LogCard.jsx","views/Settings/ThemesCard.jsx","views/Settings/index.jsx","proxies/settings.js","components/MelbankGraph/index.jsx","views/Developer/index.jsx","routes/views.jsx","layouts/Default/Header/index.jsx","layouts/Default/Sidebar/style.jsx","components/BugTracker/index.js","layouts/Default/Sidebar/BottomBar.js","layouts/Default/Sidebar/index.jsx","assets/img/icon/large_white_alpha.png","layouts/Default/index.jsx","routes/index.jsx","proxies/schema.js","App/theme.js","components/SnackbarDynamic/index.js","App/App.js","App/index.jsx","serviceWorker.js","index.js"],"names":["api","axios","create","baseURL","createDevice","config","post","setDeviceEffect","deviceId","data","deleteDeviceEffect","delete","updatePreset","put","addPreset","ACTION_ROOT","audioInputsFetching","createAction","audioInputsFetched","audioInputSaved","audioInputSaving","configFetching","configFetched","updateDevices","updateDisplays","handleActions","state","payload","devices","audioInputs","isLoading","options","value","error","isSaving","devMode","port","host","convertAudioInputsToList","Object","keys","map","key","index","snackbarSuccess","snackbarClear","snackbar","dynSnackbarOpen","dynSnackbarMessage","message","dynSnackbarType","type","showdynSnackbar","dispatch","a","devicesRequested","devicesReceived","deviceUpdated","scanProgressUpdated","scanProgress","list","convertDevicesDictionaryToList","dictionary","id","updatedDevices","mesasge","fetchDeviceList","get","response","statusText","forEach","effect","active","sleep","ms","Promise","resolve","setTimeout","handleActiveDeviceEffect","getState","device","currentDevice","name","convertDictionaryToList","presets","currentScene","camelToSnake","str","toLowerCase","slice","length","replace","letter","deviceRequested","deviceReceived","effectRequested","effectReceived","isDeviceLoading","isEffectLoading","presetsFetching","presetsFetched","presetAdding","presetAdded","defaultPresets","customPresets","effectType","isProcessing","getEffectPresets","effectId","default_presets","custom_presets","deviceProxies","preset","activatePreset","category","presetId","request","effect_id","preset_id","schemasFetching","schemasFetched","INITIAL_STATE","deviceTypes","undefined","effects","integrationTypes","displays","addScenes","deleteScenes","activateScenes","action","scenesFetching","scenesFetched","sceneAdding","sceneAdded","scenes","convertScenesDictionaryToList","getScenes","addScene","scenesProxies","scene","activateScene","sceneDevices","find","s","res","status","uiProxies","d","hasOwnProperty","JSON","stringify","addVirtual","renameVirtual","deleteVirtual","addSegment","changeSegmentPixel","changeSegmentInvert","changeSegmentPixelDensity","deleteSegment","postVirtuals","changeTheme","virtuals","new","pixel_count","items","reduxItem","old","filter","v","virtual","led_start","newValue","led_end","used_pixel","reduce","sum","part","invert","pixel_density","themeSelector","toggleIntegration","deleteIntegration","addIntegration","setIntegration","deleteAsyncIntegration","console","log","integrationsProxies","window","location","href","createDisplay","updateDisplay","displayId","getDisplay","then","display","updateDisplaySegments","getDisplayEffect","setDisplayEffect","updateDisplayEffect","deleteDisplayEffect","displaysRequested","handleSegmentChange","orderSegmentChange","displaysReceived","displayUpdated","segIndex","segments","order","temp","convertDisplaysDictionaryToList","updatedDisplays","fetchDisplayList","updateDisplayConfig","displayProxies","currentDisplay","displayRequested","displayReceived","modules","integrations","schemas","settings","selectedDevice","ui","selectedDisplay","isDisplayLoading","history","createBrowserHistory","store","createStore","combineReducers","reducers","router","connectRouter","composeWithDevTools","applyMiddleware","routerMiddleware","thunk","drawerWidth","hostname","wsBaseUrl","websocketUrl","createWebSocket","Sockette","timeout","maxAttempts","PixelColorGraph","props","handleMessage","e","messageData","parse","device_id","setState","chartData","datasets","pixels","handleOpen","enablePixelVisualization","websocketActive","handleClose","ws","json","websocketPacketId","event_type","event_filter","deviceUpdateSubscription","disablePixelVisualization","subscription_id","connectWebsocket","onopen","onmessage","onclose","onerror","disconnectWebsocket","close","getChartOptionsForDevice","labels","Array","apply","Function","call","Number","label","lineTension","backgroundColor","borderColor","pointRadius","fill","chartOptions","responsive","maintainAspectRatio","tooltips","enabled","hover","mode","animationDuration","animation","duration","responsiveAnimationDuration","scales","xAxes","gridLines","ticks","max","min","maxTicksLimit","yAxes","stepSize","color","legend","this","prevProps","classes","Box","className","content","React","Component","withStyles","theme","minWidth","maxWidth","height","button","margin","spacing","float","submitControls","width","tableCell","lineHeight","padding","verticalAlign","deviceLink","size","textDecoration","textLink","palette","primary","main","actionsContainer","justifyContent","toggleContainer","Grid","container","direction","justify","item","xs","to","Typography","variant","useStyles","makeStyles","alignItems","validateInput","input","some","p","AddSceneCard","useReducer","Card","CardHeader","title","subheader","CardContent","flexGrow","TextField","onChange","target","fullWidth","helperText","Button","aria-label","disabled","onClick","endIcon","sceneButton","flexWrap","useSelector","useEffect","alignContent","spinnerContainer","CircularProgress","DashboardView","handleUpdateDeviceEffect","clearDeviceEffect","lg","card","connect","root","overflowX","table","borderSpacing","typography","PopoverSure","onConfirm","text","icon","style","useState","anchorEl","setAnchorEl","open","Boolean","aria-describedby","event","currentTarget","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","ConfirmationDialogRaw","valueProp","other","setValue","radioGroupRef","useRef","deviceList","Dialog","disableBackdropClick","disableEscapeKeyDown","onEntering","current","focus","aria-labelledby","DialogTitle","DialogContent","dividers","RadioGroup","ref","FormControlLabel","control","Radio","DialogActions","autoFocus","background","paper","maxHeight","ConfirmationDialog","setOpen","useDispatch","role","keepMounted","test","t","PixelSlider","i","pixelRange","marks","Slider","valueLabelDisplay","segmentsWrapper","borderBottom","segmentsColOrder","segmentsButtonUp","borderTopRightRadius","borderBottomRightRadius","segmentsButtonDown","borderTopLeftRadius","borderBottomLeftRadius","marginRight","segmentsColPixelSlider","flex","segmentsColActions","flexDirection","position","right","Segment","reorder","appBar","marginBottom","default","marginLeft","dialog","Transition","forwardRef","Slide","FullScreenDialog","fullScreen","TransitionComponent","AppBar","Toolbar","startIcon","output","tmp","start","end","push","y","overlap","sort","startNew","endNew","getOverlapping","k","Wled","viewBox","deleteButton","editButton","displayLink","displaySettings","onDelete","onEditDevice","onEditDisplay","TableRow","TableCell","component","scope","Icon","icon_name","startsWith","split","max_brightness","crossfade","align","center_offset","valign","preview_only","is_device","borderCollapse","tableTitles","tableResponsive","onDeleteDisplay","Table","TableHead","TableBody","DropDown","FormControl","InputLabel","Select","MenuItem","select","defaultProps","schemaForm","AdditionalProperties","form","model","schema","Collapse","in","onModelChange","scheme","DeviceConfigDialog","handleTypeChange","initial","deviceType","val","utils","selectOrSet","toggleShowAdditional","prevState","additionalPropertiesOpen","handleCancel","handleSubmit","onAddDevice","onUpdateDevice","currentSchema","properties","requiredKeys","optionalKeys","required","rk","showAdditionalUi","cardResponsive","DialogContentText","onSubmit","bottomContainer","additionalButton","clsx","expandIcon","actionButtons","marginTop","transform","DisplayConfigDialog","onAddDisplay","onUpdateDisplay","DevicesView","openAddDeviceDialog","addDialogOpened","openAddDisplayDialog","addDisplayOpened","closeAddDeviceDialog","closeAddDisplayDialog","handleEditDevice","handleEditDisplay","handleFindDevices","findWLEDDevices","searchDevicesLoading","reject","displayList","deleteDisplay","addDevice","addDisplay","updateDeviceConfig","buttonWrapper","Tooltip","interactive","arrow","sec","dialogButton","renderRows","SceneConfigTable","SceneCard","deleteScene","CardActions","ScenesView","handleAddScene","md","bottom","valueLabel","valuetext","toString","ComposedComponent","onChangeValidate","debouncedOnChangeHandler","debounce","minimum","maximum","shrink","defaultValue","getAriaValueText","step","mapper","number","DisplayEffectControl","onTypeChange","selectedType","preventDefault","handleRandomize","handleClearEffect","onClear","DisplayPixelColorGraph","display_id","displayUpdateSubscription","getChartOptionsForDisplay","paddingBottom","presetButton","buttonGrid","actions","validateTextInput","concat","PresetsCard","setName","isNameValid","renderPresetsButton","CATEGORY","MoreInfo","join","renderPixelGraph","DisplayView","match","params","dispId","setDispId","loadDisplayInfo","Error","clearDisplayEffect","currentEffect","proxy","reason","parseInt","localStorage","getItem","PopoverNew","userInput","buttonText","buttonIcon","submitIcon","setItem","uuidv1","currentVirtual","SimplePopover","onDeleteVitem","listItem","UsedPixels","ListItemText","flexBasis","textAlign","secondary","DragDropItem","draggableId","border","provided","snapshot","ListItem","ContainerComponent","ContainerProps","innerRef","draggableProps","isDragging","draggableStyle","borderTop","ListItemIcon","dragHandleProps","ip_address","inputProps","handlePixelDensity","Switch","checked","handleInvert","ListItemSecondaryAction","DragDropContainer","memo","listItems","placeholder","DragDropWrapper","setdeviceListYz","listitems","b","order_number","onDragEnd","result","destination","source","startIndex","endIndex","from","splice","removed","vi","virt","vir","droppableId","RootRef","rootRef","Virtual","setSnackbarState","allPixels","newName","Alert","elevation","VirtualsView","snackbarState","virtualsProxies","Snackbar","autoHideDuration","severity","integration","integrationCard","fontSize","pos","IntegrationsCard","intTypes","int","gutterBottom","description","handleToggle","toggleAsyncIntegration","Chip","DataRow","dr","scene_name","IntegrationRow","installedIntegrations","installedIntegration","IntegrationsView","instInts","instInt","CardB","Row","LazyLog","require","saved","fontFamily","lineno","linetime","bar","wrapping","whiteSpace","not_wrapping","ws_log_url","LogCard","sessionStorage","logger","setLogger","logLength","setLogLength","wrap","setWrap","Accordion","expanded","AccordionSummary","aria-controls","heading","AccordionDetails","minHeight","enableSearch","url","websocket","follow","websocketOptions","onOpen","sock","send","formatMessage","line","levelno","levelname","saveLine","asctime","removeItem","Checkbox","labelPlacement","InputLabelProps","InputProps","l","ControlsCard","ThemesCard","setTheme","labelId","ConfigEditor","editorProps","$blockScrolling","AdvancedView","Divider","AudioCard","selectedOption","o","FormHelperText","ConfigCard","label-id","settings2","IconButton","navigator","userAgent","replaceAll","indexOf","encodeURIComponent","SettingsView","getAudioInputs","setAudioInput","overflow","AudioInput","active_device_index","frequencies","melbank","melbankMax","Math","graph_id","graphId","callback","values","DeveloperView","graphList","graphString","graphDom","graphIndex","c","toUpperCase","MelbankGraph","path","sidebarName","navbarName","DeviceHubIcon","PowerIcon","advanced","LockOpenIcon","viewRoutes","Dashboard","List","SaveAltIcon","Settings","BuildIcon","Tune","redirect","paddingLeft","breakpoints","up","left","fontWeight","getPageName","devicesDictionary","pathname","prop","easterEgg","setEasterEgg","toolBar","onDoubleClick","Fab","Hidden","mdUp","handleDrawerToggle","sidebarStyle","drawerPaper","logo","zIndex","logoLink","logoImage","img","top","backgroundSize","backgroundPosition","opacity","paddingTop","listStyle","itemLink","transition","borderRadius","itemIcon","itemText","devicesItemText","activeView","boxShadow","shadows","sidebarWrapper","overflowScrolling","bottomBar","grey","FormDialog","setDescription","infos","language","platform","sendMessage","avatar","XMLHttpRequest","setRequestHeader","username","avatar_url","BottomBar","Links","effectLinks","isViewActive","listItemClass","activeClassName","disableTypography","viewName","version","src","alt","Drawer","anchor","ModalProps","smDown","implementation","DefaultLayout","setRootRef","el","mobileOpen","createRef","getConfig","fetchSchemas","scrollTo","behavior","deviceDictionary","exact","render","routeProps","indexRoutes","responseInfo","dev_mode","toolbar","mixins","createMuiTheme","teal","overrides","MuiFormControl","MuiCard","darkTheme","bladeTheme","bladeDarkTheme","SnackbarDynamic","App","defaultTheme","CssBaseline","ReactDOM","Fragment","document","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.b7116a39.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = '/api';\r\n\r\nexport const api = axios.create({\r\n    baseURL,\r\n});\r\n","import { api } from 'utils/api';\r\n\r\nexport function scanForDevices() {\r\n    return api.post('/find_devices');\r\n}\r\n\r\nexport function getDevices() {\r\n    return api.get('/devices');\r\n}\r\n\r\nexport function deleteDevice(deviceId) {\r\n    return api.delete(`/devices/${deviceId}`);\r\n}\r\n\r\nexport function updateDevice(deviceId, data) {\r\n    return api.put(`/devices/${deviceId}`, data);\r\n}\r\n\r\nexport function createDevice(config) {\r\n    return api.post('/devices', config);\r\n}\r\n\r\nexport function getDevice(deviceId) {\r\n    return api.get(`/devices/${deviceId}`).then(response => {\r\n        const device = response.data;\r\n        return {\r\n            key: deviceId,\r\n            id: deviceId,\r\n            name: device.name,\r\n            config: device,\r\n        };\r\n    });\r\n}\r\n\r\nexport function getDeviceEffect(deviceId) {\r\n    return api.get(`devices/${deviceId}/effects`);\r\n}\r\n\r\nexport function setDeviceEffect(deviceId, data) {\r\n    return api.post(`devices/${deviceId}/effects`, data);\r\n}\r\n\r\nexport function updateDeviceEffect(deviceId, data) {\r\n    return api.put(`devices/${deviceId}/effects`, data);\r\n}\r\n\r\nexport function deleteDeviceEffect(deviceId) {\r\n    return api.delete(`devices/${deviceId}/effects`);\r\n}\r\n\r\nexport function getDevicePresets(deviceId) {\r\n    return api.get(`devices/${deviceId}/presets`);\r\n}\r\n\r\nexport function updatePreset(deviceId, data) {\r\n    return api.put(`devices/${deviceId}/presets`, data);\r\n}\r\n\r\nexport function addPreset(deviceId, data) {\r\n    return api.post(`devices/${deviceId}/presets`, data);\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as settingProxies from 'proxies/settings';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'settings';\r\nexport const audioInputsFetching = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_FETCHING`);\r\nexport const audioInputsFetched = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_FETCHED`);\r\nexport const audioInputSaved = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_SAVED`);\r\nexport const audioInputSaving = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_SAVING`);\r\nexport const configFetching = createAction(`${ACTION_ROOT}/CONFIG_FETCHING`);\r\nexport const configFetched = createAction(`${ACTION_ROOT}/CONFIG_FETCHED`);\r\nexport const updateDevices = createAction('settings/DEVICES_UPDATED');\r\nexport const updateDisplays = createAction('settings/DISPLAYS_UPDATED');\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    audioInputs: {\r\n        isLoading: false,\r\n        options: [],\r\n        isSaving: false,\r\n        value: '',\r\n        error: '',\r\n    },\r\n    isLoading: false,\r\n    devMode: false,\r\n    port: '',\r\n    host: '',\r\n    devices: [],\r\n    error: '',\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [updateDevices]: (state, { payload }) => ({\r\n            ...state,\r\n            devices: payload,\r\n        }),\r\n        [updateDisplays]: (state, { payload }) => ({\r\n            ...state,\r\n            devices: payload,\r\n        }),\r\n        [audioInputsFetching]: state => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                isLoading: true,\r\n            },\r\n        }),\r\n        [audioInputsFetched]: (\r\n            state,\r\n            { payload, payload: { options = [], value = '' }, error }\r\n        ) => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                isLoading: false,\r\n                options: error ? [] : options,\r\n                value: error ? '' : value,\r\n                error: error ? payload : '',\r\n            },\r\n        }),\r\n        [audioInputSaving]: state => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                isSaving: true,\r\n            },\r\n        }),\r\n        [audioInputSaved]: (state, { payload, error }) => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                value: error ? '' : payload,\r\n                isSaving: false,\r\n                error: error ? payload : '',\r\n            },\r\n        }),\r\n        [configFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [configFetched]: (state, { payload, error }) => ({\r\n            ...state,\r\n            ...payload,\r\n            isLoading: false,\r\n            error: error ? payload : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getAudioInputs() {\r\n    return async dispatch => {\r\n        dispatch(audioInputsFetching());\r\n        try {\r\n            const response = await settingProxies.getAudioInputs();\r\n            if (response.statusText !== 'OK') {\r\n                throw new Error('Error fetching audio Inputs');\r\n            }\r\n\r\n            const { devices: audioInputs, active_device_index } = response.data;\r\n            const options = convertAudioInputsToList(audioInputs);\r\n            const value = audioInputs[active_device_index];\r\n            dispatch(audioInputsFetched({ options, value }));\r\n        } catch (error) {\r\n            dispatch(audioInputsFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function setAudioInput({ value, index }) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(audioInputSaving());\r\n            const response = await settingProxies.updateSelectedAudioInput({\r\n                index: parseInt(index),\r\n            });\r\n            if (response.statusText !== 'OK') {\r\n                throw new Error('Audio Input failed to update');\r\n            }\r\n\r\n            dispatch(audioInputSaved(value));\r\n        } catch (error) {\r\n            dispatch(audioInputSaved(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function getConfig() {\r\n    return async dispatch => {\r\n        dispatch(configFetching());\r\n        try {\r\n            const response = await settingProxies.getSystemConfig();\r\n            if (response.statusText !== 'OK') {\r\n                throw new Error('Error fetching system config');\r\n            }\r\n            const responseInfo = await settingProxies.getSystemInfo();\r\n            if (responseInfo.statusText !== 'OK') {\r\n                throw new Error('Error fetching system config');\r\n            }\r\n            const { dev_mode: devMode, port, host, devices } = response.data.config;\r\n            const { version } = responseInfo.data;\r\n            dispatch(configFetched({ devMode, host, port, devices, version }));\r\n        } catch (error) {\r\n            dispatch(configFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nconst convertAudioInputsToList = audioInputs =>\r\n    Object.keys(audioInputs).map(key => {\r\n        return {\r\n            index: key,\r\n            value: audioInputs[key],\r\n        };\r\n    });\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'ui';\r\n\r\nexport const snackbarSuccess = createAction(`${ACTION_ROOT}/SNACKBAR_SUCCESS`);\r\nexport const snackbarClear = createAction(`${ACTION_ROOT}/SNACKBAR_CLEAR`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    snackbar: {\r\n        dynSnackbarOpen: false,\r\n        dynSnackbarType: 'error',\r\n        dynSnackbarMessage: 'NO MESSAGE',\r\n    },\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [snackbarSuccess]: (state, { payload }) => ({\r\n            ...state,\r\n            snackbar: {\r\n                ...state.snackbar,\r\n                dynSnackbarOpen: true,\r\n                dynSnackbarMessage: payload.message,\r\n                dynSnackbarType: payload.type ? payload.type : 'error',\r\n            },\r\n        }),\r\n        [snackbarClear]: state => ({\r\n            ...state,\r\n            snackbar: {\r\n                dynSnackbarOpen: false,\r\n                dynSnackbarType: state.snackbar.dynSnackbarType,\r\n                dynSnackbarMessage: state.snackbar.dynSnackbarMessage,\r\n            },\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport const showdynSnackbar = payload => {\r\n    // console.log(payload);\r\n    return async dispatch => {\r\n        dispatch(snackbarSuccess(payload));\r\n    };\r\n};\r\n\r\nexport const clearSnackbar = () => {\r\n    // console.log('WTF');\r\n    return dispatch => {\r\n        dispatch(snackbarClear());\r\n    };\r\n};\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as deviceProxies from 'proxies/device';\r\nimport { updateDevices } from './settings';\r\nimport { showdynSnackbar } from './ui';\r\n// Actions\r\nconst ACTION_ROOT = 'devices';\r\n\r\nexport const devicesRequested = createAction(`${ACTION_ROOT}/DEVICES_REQUESTED`);\r\nexport const devicesReceived = createAction(`${ACTION_ROOT}/DEVICES_RECEIVED`);\r\nexport const deviceUpdated = createAction(`${ACTION_ROOT}/DEVICE_UPDATED`);\r\nexport const scanProgressUpdated = createAction(`${ACTION_ROOT}/DEVICE_SCAN_PROGRESS_UPDATED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    list: [],\r\n    dictionary: {},\r\n    scanProgress: 0,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [devicesRequested]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [scanProgressUpdated]: (state, { payload }) => ({\r\n            ...state,\r\n            scanProgress: payload,\r\n        }),\r\n        [devicesReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            list: error ? state.list : convertDevicesDictionaryToList(payload),\r\n            dictionary: error ? state.dictionary : payload,\r\n            isLoading: false,\r\n            error: error ? payload.message : '',\r\n        }),\r\n        [deviceUpdated]: (state, { payload, payload: { id, ...data }, error }) => {\r\n            const updatedDevices = {\r\n                ...state.dictionary,\r\n                [id]: {\r\n                    ...state.dictionary[id],\r\n                    ...data,\r\n                },\r\n            };\r\n            return {\r\n                ...state,\r\n                list: error ? state.list : convertDevicesDictionaryToList(updatedDevices),\r\n                dictionary: error ? state.dictionary : updatedDevices,\r\n                error: error ? payload.mesasge : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function fetchDeviceList() {\r\n    return async dispatch => {\r\n        dispatch(devicesRequested());\r\n        try {\r\n            const response = await deviceProxies.getDevices();\r\n\r\n            if (response.statusText === 'OK') {\r\n                const { devices } = response.data;\r\n                // console.log(devices);\r\n                Object.keys(devices).forEach(key => {\r\n                    const data = devices[key];\r\n\r\n                    data.effect = { active: false };\r\n                });\r\n                // console.log('WTF', devices);\r\n                dispatch(devicesReceived(devices));\r\n                dispatch(updateDevices(convertDevicesDictionaryToList(devices)));\r\n            }\r\n        } catch (error) {\r\n            dispatch(devicesReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addDevice(type, config) {\r\n    return async dispatch => {\r\n        const data = {\r\n            type: type,\r\n            config: config,\r\n        };\r\n        try {\r\n            const response = await deviceProxies.createDevice(data);\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDeviceList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error adding device', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nconst sleep = ms => {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n};\r\n\r\nexport function findWLEDDevices({ resolve, reject }) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await deviceProxies.scanForDevices();\r\n            if (response.statusText === 'OK') {\r\n                for (let sec = 1; sec <= 10; sec++) {\r\n                    await sleep(1000).then(() => {\r\n                        dispatch(fetchDeviceList());\r\n                        dispatch(scanProgressUpdated(sec));\r\n                    });\r\n                }\r\n\r\n                resolve();\r\n                dispatch(scanProgressUpdated(0));\r\n            }\r\n        } catch (error) {\r\n            console.log('WLED device scan failed', error.message);\r\n            reject(error.message);\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateDeviceConfig(id, type, config) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await deviceProxies.updateDevice(id, {\r\n                config: { ...config, type },\r\n            });\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDeviceList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error adding device', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nexport function setDeviceEffect(id, data) {\r\n    return async (dispatch, getState) => {\r\n        const device = getState().devices.dictionary[id];\r\n        try {\r\n            dispatch(\r\n                deviceUpdated({ id, ...device, effect: { ...device.effect, isProcessing: true } })\r\n            );\r\n\r\n            const response = await deviceProxies.setDeviceEffect(id, {\r\n                type: data.type || 'wavelength(Reactive)',\r\n                config: data,\r\n            });\r\n\r\n            dispatch(\r\n                deviceUpdated({\r\n                    id,\r\n                    effect: { ...data, ...response.data.effect, isProcessing: false },\r\n                })\r\n            );\r\n            dispatch(showdynSnackbar('Success!'));\r\n        } catch (error) {\r\n            deviceUpdated(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function handleActiveDeviceEffect(id, payload) {\r\n    return async (dispatch, getState) => {\r\n        const device = getState().devices.dictionary[id];\r\n        if (device)\r\n            dispatch(\r\n                deviceUpdated({ id, ...device, effect: { ...device.effect, active: payload } })\r\n            );\r\n    };\r\n}\r\n\r\nexport function clearDeviceEffect(id) {\r\n    return async (dispatch, getState) => {\r\n        const device = getState().devices.dictionary[id];\r\n        try {\r\n            dispatch(\r\n                deviceUpdated({ id, ...device, effect: { ...device.effect, isProcessing: true } })\r\n            );\r\n\r\n            await deviceProxies.deleteDeviceEffect(id);\r\n            dispatch(\r\n                deviceUpdated({\r\n                    id,\r\n                    effect: { ...device.effect, active: false, isProcessing: false },\r\n                })\r\n            );\r\n        } catch (error) {\r\n            deviceUpdated(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function deleteDevice(id) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await deviceProxies.deleteDevice(id);\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDeviceList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error deleting device', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nconst convertDevicesDictionaryToList = (devices = {}) =>\r\n    Object.keys(devices).map(key => {\r\n        const currentDevice = devices[key];\r\n        return {\r\n            ...currentDevice,\r\n            key,\r\n            id: key,\r\n            name: currentDevice.config.name,\r\n        };\r\n    });\r\n","export const includeKeyInObject = (key, object) => ({ id: key, ...object });\r\n\r\nexport const mapIncludeKey = scenes => {\r\n    const keys = Object.keys(scenes);\r\n    return keys.map(k => includeKeyInObject(k, scenes[k]));\r\n};\r\n\r\nexport const convertDictionaryToList = (presets = {}) =>\r\n    Object.keys(presets).map(key => {\r\n        const currentScene = presets[key];\r\n        return {\r\n            ...currentScene,\r\n            id: key,\r\n        };\r\n    });\r\n\r\nexport const camelToSnake = str =>\r\n    str[0].toLowerCase() +\r\n    str.slice(1, str.length).replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as deviceProxies from 'proxies/device';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'selectedDevice';\r\n\r\nexport const deviceRequested = createAction(`${ACTION_ROOT}/DEVICE_REQUESTED`);\r\nexport const deviceReceived = createAction(`${ACTION_ROOT}/DEVICE_RECEIVED`);\r\nexport const effectRequested = createAction(`${ACTION_ROOT}/DEVICE_EFFECT_REQUESTED`);\r\nexport const effectReceived = createAction(`${ACTION_ROOT}/DEVICE_EFFECT_RECEIVED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isDeviceLoading: false,\r\n    device: null,\r\n    isEffectLoading: false,\r\n    effect: {},\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [deviceRequested]: state => ({\r\n            ...state,\r\n            isDeviceLoading: true,\r\n        }),\r\n        [deviceReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            isDeviceLoading: false,\r\n            device: error ? null : payload,\r\n            error: error ? payload.message : '',\r\n        }),\r\n        [effectRequested]: state => ({\r\n            ...state,\r\n            isEffectLoading: true,\r\n        }),\r\n        [effectReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            isEffectLoading: false,\r\n            effect: error ? {} : payload,\r\n            error: error ? payload.message : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function clearDeviceEffect(deviceId) {\r\n    return async dispatch => {\r\n        try {\r\n            const {\r\n                statusText,\r\n                data: { effect },\r\n            } = await deviceProxies.deleteDeviceEffect(deviceId);\r\n            if (statusText !== 'OK') {\r\n                throw new Error(`Error Clearing Device:${deviceId} Effect`);\r\n            }\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function setDeviceEffect(deviceId, { type, config }) {\r\n    return async (dispatch, getState) => {\r\n        const currentEffect = getState().selectedDevice.effect;\r\n        const proxy = currentEffect.type\r\n            ? deviceProxies.updateDeviceEffect\r\n            : deviceProxies.setDeviceEffect;\r\n        try {\r\n            const {\r\n                statusText,\r\n                data: { effect },\r\n            } = await proxy(deviceId, {\r\n                type,\r\n                config,\r\n            });\r\n\r\n            if (statusText !== 'OK') {\r\n                throw new Error(`Error Clearing Device:${deviceId} Effect`);\r\n            }\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function loadDeviceInfo(deviceId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let device = getState().devices.dictionary;\r\n            dispatch(deviceRequested());\r\n            device = await deviceProxies.getDevice(deviceId);\r\n            dispatch(deviceReceived(device));\r\n\r\n            dispatch(effectRequested());\r\n            const {\r\n                data: { effect },\r\n            } = await deviceProxies.getDeviceEffect(deviceId);\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as deviceProxies from 'proxies/device';\r\nimport * as effectsProxies from 'proxies/effects';\r\nimport { convertDictionaryToList } from 'utils/helpers';\r\nimport { effectReceived } from 'modules/selectedDevice';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'sceneManagement';\r\nexport const presetsFetching = createAction(`${ACTION_ROOT}/PRESETS_FETCHING`);\r\nexport const presetsFetched = createAction(`${ACTION_ROOT}/PRESETS_FETCHED`);\r\nexport const presetAdding = createAction(`${ACTION_ROOT}/PRESET_ADDING`);\r\nexport const presetAdded = createAction(`${ACTION_ROOT}/PRESET_ADDED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    isProcessing: false,\r\n    defaultPresets: [],\r\n    customPresets: [],\r\n    effectType: '',\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [presetsFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [presetsFetched]: (\r\n            state,\r\n            { payload, payload: { defaultPresets = [], customPresets = [], effectType }, error }\r\n        ) => {\r\n            return {\r\n                ...state,\r\n                defaultPresets: error ? [] : defaultPresets,\r\n                customPresets: error ? [] : customPresets,\r\n                effectType,\r\n                isLoading: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n        [presetAdding]: state => ({\r\n            ...state,\r\n            isProcessing: true,\r\n        }),\r\n\r\n        [presetAdded]: (state, { payload, payload: { id, name, config }, error }) => {\r\n            const customPresets = [\r\n                ...state.customPresets,\r\n                {\r\n                    id,\r\n                    name,\r\n                    config,\r\n                },\r\n            ];\r\n            return {\r\n                ...state,\r\n                customPresets: error ? state.customPresets : customPresets,\r\n                isProcessing: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getEffectPresets(effectType) {\r\n    return async dispatch => {\r\n        dispatch(presetsFetching());\r\n        try {\r\n            const response = await effectsProxies.getEffectPresets(effectType);\r\n\r\n            if (response.statusText === 'OK') {\r\n                const { default_presets, custom_presets, effect } = response.data;\r\n                const defaultPresets = convertDictionaryToList(default_presets);\r\n                const customPresets = convertDictionaryToList(custom_presets);\r\n                dispatch(presetsFetched({ defaultPresets, customPresets, effectType: effect }));\r\n            }\r\n        } catch (error) {\r\n            dispatch(presetsFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addPreset(deviceId, name) {\r\n    return async dispatch => {\r\n        dispatch(presetAdding());\r\n        try {\r\n            const { data, statusText } = await deviceProxies.addPreset(deviceId, { name });\r\n            if (statusText === 'OK') {\r\n                dispatch(presetAdded(data.preset));\r\n            }\r\n        } catch (error) {\r\n            dispatch(presetAdded(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function activatePreset(deviceId, category, effectId, presetId) {\r\n    return async dispatch => {\r\n        try {\r\n            const request = {\r\n                category: category,\r\n                effect_id: effectId,\r\n                preset_id: presetId,\r\n            };\r\n\r\n            const { data, statusText } = await deviceProxies.updatePreset(deviceId, request);\r\n            if (statusText === 'OK') {\r\n                dispatch(effectReceived(data.effect));\r\n            }\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n","import { api } from 'utils/api';\r\n\r\nexport function getEffectPresets(effectId) {\r\n    return api.get(`effects/${effectId}/presets`);\r\n}\r\n\r\nexport function updateEffectPreset(effectId, data) {\r\n    return api.put(`effects/${effectId}/presets`, data);\r\n}\r\n\r\nexport function addEffectPreset(effectId, data) {\r\n    return api.post(`effects/${effectId}/presets`, data);\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as schemaProxies from 'proxies/schema';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'schemas';\r\nexport const schemasFetching = createAction(`${ACTION_ROOT}/SCHEMAS_FETCHING`);\r\nexport const schemasFetched = createAction(`${ACTION_ROOT}/SCHEMAS_FETCHED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    deviceTypes: undefined,\r\n    effects: undefined,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [schemasFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [schemasFetched]: (\r\n            state,\r\n            { payload, payload: { deviceTypes, effects, integrationTypes, displays }, error }\r\n        ) => ({\r\n            ...state,\r\n            isLoading: false,\r\n            effects: error ? {} : effects,\r\n            displays: error ? {} : displays,\r\n            deviceTypes: error ? {} : deviceTypes,\r\n            integrationTypes: error ? {} : integrationTypes,\r\n            error: error ? payload.message : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function fetchSchemas() {\r\n    return async dispatch => {\r\n        dispatch(schemasFetching());\r\n        try {\r\n            const response = await schemaProxies.getSchemas();\r\n            if (response.statusText === 'OK') {\r\n                const {\r\n                    devices: deviceTypes,\r\n                    effects,\r\n                    integrations: integrationTypes,\r\n                    displays,\r\n                } = response.data;\r\n                dispatch(schemasFetched({ deviceTypes, effects, integrationTypes, displays }));\r\n            }\r\n        } catch (error) {\r\n            dispatch(schemasFetched(error));\r\n        }\r\n    };\r\n}\r\n","import { api } from 'utils/api';\r\n\r\nexport function getScenes() {\r\n    return api.get('/scenes');\r\n}\r\nexport function addScenes(name) {\r\n    return api.post('/scenes', { name });\r\n}\r\n\r\nexport function deleteScenes(id) {\r\n    return api.delete('/scenes', { data: { id } });\r\n}\r\n\r\nexport function activateScenes(id) {\r\n    return api.put('/scenes', {\r\n        id,\r\n        action: 'activate',\r\n    });\r\n}\r\nexport function renameScene({ id, name }) {\r\n    return api.put('/scenes', {\r\n        action: 'rename',\r\n        id,\r\n        name,\r\n    });\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as scenesProxies from 'proxies/scenes';\r\nimport * as deviceProxies from './devices';\r\nimport * as uiProxies from './ui';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'sceneManagement';\r\nexport const scenesFetching = createAction(`${ACTION_ROOT}/SCENES_FETCHING`);\r\nexport const scenesFetched = createAction(`${ACTION_ROOT}/SCENES_FETCHED`);\r\nexport const sceneAdding = createAction(`${ACTION_ROOT}/SCENE_ADDING`);\r\nexport const sceneAdded = createAction(`${ACTION_ROOT}/SCENE_ADDED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    isProcessing: false,\r\n    dictionary: {},\r\n    list: [],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [scenesFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [scenesFetched]: (state, { payload, payload: { scenes = {}, list = [] }, error }) => {\r\n            return {\r\n                ...state,\r\n                dictionary: error ? {} : scenes,\r\n                list: error ? [] : list,\r\n                isLoading: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n        [sceneAdding]: state => ({\r\n            ...state,\r\n            isProcessing: true,\r\n        }),\r\n\r\n        [sceneAdded]: (state, { payload, payload: { id, config, error = '' } }) => {\r\n            const scenes = {\r\n                ...state.dictionary,\r\n                [id]: config,\r\n            };\r\n            return {\r\n                ...state,\r\n                dictionary: error ? {} : scenes,\r\n                list: error ? [] : convertScenesDictionaryToList(scenes),\r\n                isProcessing: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getScenes() {\r\n    return async dispatch => {\r\n        dispatch(scenesFetching());\r\n        try {\r\n            const response = await scenesProxies.getScenes();\r\n\r\n            if (response.statusText === 'OK') {\r\n                const { scenes } = response.data;\r\n                const list = convertScenesDictionaryToList(scenes);\r\n                dispatch(scenesFetched({ scenes, list }));\r\n            }\r\n        } catch (error) {\r\n            dispatch(scenesFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addScene(name) {\r\n    return async dispatch => {\r\n        dispatch(sceneAdding());\r\n        try {\r\n            const { data, statusText } = await scenesProxies.addScenes(name);\r\n            if (statusText === 'OK') {\r\n                dispatch(sceneAdded(data.scene));\r\n            }\r\n        } catch (error) {\r\n            dispatch(sceneAdded(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function deleteScene(id) {\r\n    return async dispatch => {\r\n        await scenesProxies.deleteScenes(id);\r\n        dispatch(getScenes());\r\n    };\r\n}\r\n\r\nexport function activateScene(id) {\r\n    return async (dispatch, getState) => {\r\n        const sceneDevices = getState().scenes.list.find(s => s.id === id).devices;\r\n        const res = await scenesProxies.activateScenes(id);\r\n        if (res.status && res.status === 200) {\r\n            if (res.data.payload) {\r\n                dispatch(uiProxies.showdynSnackbar(res.data.payload));\r\n            }\r\n\r\n            Object.keys(sceneDevices).map(d => {\r\n                dispatch(\r\n                    deviceProxies.handleActiveDeviceEffect(\r\n                        d,\r\n                        sceneDevices[d].hasOwnProperty('config')\r\n                    )\r\n                );\r\n                return false;\r\n            });\r\n        } else {\r\n            dispatch(uiProxies.showdynSnackbar(JSON.stringify(res)));\r\n        }\r\n    };\r\n}\r\n\r\nexport function renameScene(id, name) {\r\n    return async dispatch => {\r\n        await scenesProxies.renameScene({ id, name });\r\n        dispatch(getScenes());\r\n    };\r\n}\r\n\r\nconst convertScenesDictionaryToList = (scenes = {}) =>\r\n    Object.keys(scenes).map(key => {\r\n        const currentScene = scenes[key];\r\n        return {\r\n            ...currentScene,\r\n            key,\r\n            id: key,\r\n            name: currentScene.name,\r\n        };\r\n    });\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as virtualsProxies from 'proxies/virtuals';\r\n// Actions\r\nconst ACTION_ROOT = 'virtuals';\r\n\r\nexport const addVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_ADD`);\r\nexport const renameVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_RENAME`);\r\nexport const deleteVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_DELETE`);\r\nexport const addSegment = createAction(`${ACTION_ROOT}/ADD_SEGMENT`);\r\nexport const changeSegmentPixel = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_PXEL`);\r\nexport const changeSegmentInvert = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_INVERT`);\r\nexport const changeSegmentPixelDensity = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_PIXELDENSITY`);\r\nexport const deleteSegment = createAction(`${ACTION_ROOT}/DELETE_SEGMENT`);\r\nexport const getVirtualsPixel = createAction(`${ACTION_ROOT}/VIRTUALS_GET_PIXELS`);\r\nexport const postVirtuals = createAction(`${ACTION_ROOT}/VIRTUALS_SET`);\r\nexport const changeTheme = createAction(`${ACTION_ROOT}/CHANGE_THEME`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    list: [\r\n        {\r\n            name: 'Loading virtuals...',\r\n            pixel_count: 0,\r\n            items: [],\r\n        },\r\n    ],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [postVirtuals]: (state, { payload }) => {\r\n            const newState = { list: payload.virtuals.list };\r\n            return newState;\r\n        },\r\n        [addVirtual]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: [\r\n                    ...state.list,\r\n                    {\r\n                        name: payload.new,\r\n                        pixel_count: 0,\r\n                        items: [],\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        [renameVirtual]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.old) {\r\n                        reduxItem.name = payload.new;\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n        },\r\n        [deleteVirtual]: (state, { payload }) => {\r\n            return { ...state, list: state.list.filter(v => v.name !== payload) };\r\n        },\r\n        [addSegment]: (state, { payload }) => {\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items = [...reduxItem.items, payload.device];\r\n                        reduxItem.pixel_count =\r\n                            reduxItem.pixel_count + payload.device.config.pixel_count;\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeSegmentPixel]: (state, { payload }) => {\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items.map(device => {\r\n                            if (device.id === payload.device) {\r\n                                device.led_start = payload.newValue[0];\r\n                                device.led_end = payload.newValue[1];\r\n                                device.used_pixel = payload.newValue[1] - payload.newValue[0] + 1;\r\n                            }\r\n\r\n                            return device;\r\n                        });\r\n                    }\r\n                    reduxItem.pixel_count = reduxItem.items\r\n                        .map(d => d.used_pixel)\r\n                        .reduce((sum, part) => sum + part);\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeSegmentInvert]: (state, { payload }) => {\r\n            // console.log('YZ', payload);\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items.map(device => {\r\n                            if (device.id === payload.device.id) {\r\n                                device.invert = !!!device.invert;\r\n                            }\r\n\r\n                            return device;\r\n                        });\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeSegmentPixelDensity]: (state, { payload }) => {\r\n            // console.log('YZ', payload);\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items.map(device => {\r\n                            if (device.id === payload.device.id) {\r\n                                device.pixel_density = payload.newValue;\r\n                            }\r\n\r\n                            return device;\r\n                        });\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [deleteSegment]: (state, { payload }) => {\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items = reduxItem.items.filter(\r\n                            device => device.id !== payload.device.id\r\n                        );\r\n                    }\r\n                    reduxItem.pixel_count = reduxItem.items\r\n                        .map(d => d.used_pixel)\r\n                        .reduce((sum, part) => sum + part, 0);\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeTheme]: (state, { payload }) => {\r\n            // console.log('START', payload);\r\n            return {\r\n                ...state,\r\n                themeSelector: payload,\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getAsyncVirtuals() {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await virtualsProxies.getVirtuals();\r\n            if (response.statusText === 'OK') {\r\n                dispatch(postVirtuals(response.data));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n","import { api } from 'utils/api';\r\n\r\nexport function getIntegrations() {\r\n    return api.get(`/integrations`);\r\n}\r\n\r\nexport function getIntegrationsStatuses() {\r\n    return api.get(`/integrations`, { info: 'status' });\r\n}\r\n\r\nexport function toggleIntegration(data) {\r\n    return api.put(`/integrations`, data);\r\n}\r\n\r\nexport function createIntegration(data) {\r\n    return api.post(`/integrations`, data);\r\n}\r\n\r\nexport function deleteIntegration(data) {\r\n    // console.log('YZ', data);\r\n    return api.delete(`/integrations`, data);\r\n}\r\n\r\n// QLC+ Proxies\r\n\r\nexport function getQLCInfo(integrationId, data) {\r\n    return api.get(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\nexport function toggleQLCListener(integrationId, data) {\r\n    return api.put(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\nexport function createQLCListener(integrationId, data) {\r\n    return api.post(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\nexport function deleteQLCListener(integrationId, data) {\r\n    return api.delete(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\n// Spotify proxies\r\n\r\nexport function getSpotifyTriggers(integrationId) {\r\n    return api.get(`/integrations/spotify/${integrationId}`);\r\n}\r\n\r\nexport function updateSpotifyTrigger(integrationId, data) {\r\n    return api.put(`/integrations/spotify/${integrationId}`, data);\r\n}\r\n\r\nexport function createSpotifyTrigger(integrationId, data) {\r\n    return api.post(`/integrations/spotify/${integrationId}`, data);\r\n}\r\n\r\nexport function deleteSpotifyTrigger(integrationId, data) {\r\n    return api.delete(`/integrations/spotify/${integrationId}`, data);\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as integrationsProxies from 'proxies/integrations';\r\n\r\nconst ACTION_ROOT = 'integrations';\r\n\r\nexport const addIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_ADD`);\r\nexport const setIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_SET`);\r\nexport const deleteIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_DELETE`);\r\n\r\nconst INITIAL_STATE = {\r\n    list: [],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [addIntegration]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: [\r\n                    ...state.list,\r\n                    {\r\n                        payload,\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        [setIntegration]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: payload,\r\n            };\r\n        },\r\n        [deleteIntegration]: (state, { payload }) => {\r\n            return { ...state, list: state.list.filter(v => v.id !== payload.id) };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getAsyncIntegrations() {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await integrationsProxies.getIntegrations();\r\n            if (response.statusText === 'OK') {\r\n                dispatch(setIntegration(response.data.integrations));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport async function deleteAsyncIntegration(data) {\r\n    console.log('damn', data);\r\n    const response = await integrationsProxies.deleteIntegration({ data });\r\n    console.log('damn', response);\r\n    window.location = window.location.href;\r\n    // integrationsProxies.deleteIntegration(data);\r\n    return async dispatch => {\r\n        try {\r\n            console.log('damn', data);\r\n            const response = await integrationsProxies.deleteIntegration(data);\r\n            if (response.statusText === 'OK') {\r\n                console.log('OMG', response.data);\r\n                // dispatch(deleteIntegration(response.data.integrations));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport async function toggleAsyncIntegration(data) {\r\n    console.log('damn', data);\r\n    const response = await integrationsProxies.toggleIntegration(data);\r\n    console.log('damn', response);\r\n    // window.location = window.location.href;\r\n    // integrationsProxies.deleteIntegration(data);\r\n    return async dispatch => {\r\n        try {\r\n            console.log('damn', data);\r\n            const response = await integrationsProxies.toggleIntegration(data);\r\n            if (response.statusText === 'OK') {\r\n                console.log('OMG', response.data);\r\n                // dispatch(deleteIntegration(response.data.integrations));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n","import { api } from 'utils/api';\r\n\r\nexport function getDisplays() {\r\n    return api.get('/displays');\r\n}\r\n\r\n// If display id is given in config, this will UPDATE an existing display\r\n// If no id is given, this will create a new display\r\nexport function createDisplay(config) {\r\n    return api.post('/displays', config);\r\n}\r\nexport function updateDisplay(displayId, config) {\r\n    return api.post('/displays', {\r\n        id: displayId,\r\n        config: config,\r\n    });\r\n}\r\n\r\n// Get info on a display, including its segments\r\nexport function getDisplay(displayId) {\r\n    return api.get(`/displays/${displayId}`).then(response => {\r\n        const display = response.data;\r\n        return {\r\n            key: displayId,\r\n            id: displayId,\r\n            name: display.name,\r\n            config: display,\r\n        };\r\n    });\r\n}\r\n\r\n// Set a display to on or off using {\"active\": true/false}\r\nexport function toggleDisplay(displayId, data) {\r\n    return api.put(`/displays/${displayId}`, data);\r\n}\r\n\r\n// Update a display's segments\r\nexport function updateDisplaySegments(displayId, data) {\r\n    return api.post(`/displays/${displayId}`, data);\r\n}\r\n\r\n// Delete a display\r\nexport function deleteDisplay(displayId) {\r\n    return api.delete(`/displays/${displayId}`);\r\n}\r\n\r\nexport function getDisplayEffect(displayId) {\r\n    return api.get(`displays/${displayId}/effects`);\r\n}\r\n\r\nexport function setDisplayEffect(displayId, data) {\r\n    return api.post(`displays/${displayId}/effects`, data);\r\n}\r\n\r\nexport function updateDisplayEffect(displayId, data) {\r\n    return api.put(`displays/${displayId}/effects`, data);\r\n}\r\n\r\nexport function deleteDisplayEffect(displayId) {\r\n    return api.delete(`displays/${displayId}/effects`);\r\n}\r\n\r\nexport function getDisplayPresets(displayId) {\r\n    return api.get(`displays/${displayId}/presets`);\r\n}\r\n\r\nexport function updatePreset(displayId, data) {\r\n    return api.put(`displays/${displayId}/presets`, data);\r\n}\r\n\r\nexport function addPreset(displayId, data) {\r\n    return api.post(`displays/${displayId}/presets`, data);\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as displayProxies from 'proxies/display';\r\n// import { updateDisplays } from './settings';\r\nimport { showdynSnackbar } from './ui';\r\n// Actions\r\nconst ACTION_ROOT = 'displays';\r\n\r\nexport const displaysRequested = createAction(`${ACTION_ROOT}/DISPLAYS_REQUESTED`);\r\nexport const deleteSegment = createAction(`${ACTION_ROOT}/DISPLAY_DELETE_SEGMENT`);\r\nexport const handleSegmentChange = createAction(`${ACTION_ROOT}/DISPLAY_HANDLE_SEGMENTS`);\r\nexport const orderSegmentChange = createAction(`${ACTION_ROOT}/DISPLAY_ORDER_SEGMENTS`);\r\nexport const displaysReceived = createAction(`${ACTION_ROOT}/DISPLAYS_RECEIVED`);\r\nexport const displayUpdated = createAction(`${ACTION_ROOT}/DISPLAY_UPDATED`);\r\nexport const scanProgressUpdated = createAction(`${ACTION_ROOT}/DISPLAY_SCAN_PROGRESS_UPDATED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    scanProgress: 0,\r\n    list: [],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [deleteSegment]: (state, { payload }) => {\r\n            const { displayId, segIndex } = payload;\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.id === displayId) {\r\n                        reduxItem.segments = [\r\n                            ...reduxItem.segments.slice(0, segIndex),\r\n                            ...reduxItem.segments.slice(segIndex + 1),\r\n                        ];\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [handleSegmentChange]: (state, { payload }) => {\r\n            const { displayId, newValue, segIndex, invert } = payload;\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.id === displayId) {\r\n                        if (newValue) {\r\n                            reduxItem.segments[segIndex][1] = newValue[0];\r\n                            reduxItem.segments[segIndex][2] = newValue[1];\r\n                        }\r\n                        if (invert) {\r\n                            reduxItem.segments[segIndex][3] = !reduxItem.segments[segIndex][3];\r\n                        }\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [orderSegmentChange]: (state, { payload }) => {\r\n            const { displayId, segIndex, order } = payload;\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.id === displayId) {\r\n                        let data = [...reduxItem.segments];\r\n\r\n                        if (order === 'UP') {\r\n                            let temp = data[segIndex - 1];\r\n                            data[segIndex - 1] = data[segIndex];\r\n                            data[segIndex] = temp;\r\n\r\n                            reduxItem.segments = data;\r\n                        }\r\n                        if (order === 'DOWN') {\r\n                            let temp = data[segIndex + 1];\r\n                            data[segIndex + 1] = data[segIndex];\r\n                            data[segIndex] = temp;\r\n\r\n                            reduxItem.segments = data;\r\n                        }\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [displaysRequested]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [scanProgressUpdated]: (state, { payload }) => ({\r\n            ...state,\r\n            scanProgress: payload,\r\n        }),\r\n        [displaysReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            list: error ? state.list : convertDisplaysDictionaryToList(payload),\r\n            dictionary: error ? state.dictionary : payload,\r\n            isLoading: false,\r\n            error: error ? payload.message : '',\r\n        }),\r\n        [displayUpdated]: (state, { payload, payload: { id, ...data }, error }) => {\r\n            const updatedDisplays = {\r\n                ...state.dictionary,\r\n                [id]: {\r\n                    ...state.dictionary[id],\r\n                    ...data,\r\n                },\r\n            };\r\n            return {\r\n                ...state,\r\n                list: error ? state.list : convertDisplaysDictionaryToList(updatedDisplays),\r\n                dictionary: error ? state.dictionary : updatedDisplays,\r\n                error: error ? payload.mesasge : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function fetchDisplayList() {\r\n    return async dispatch => {\r\n        dispatch(displaysRequested());\r\n        try {\r\n            const response = await displayProxies.getDisplays();\r\n            if (response.statusText === 'OK') {\r\n                const { displays } = response.data;\r\n                Object.keys(displays).forEach(key => {\r\n                    const data = displays[key];\r\n                    data.effect.active = !!data.effect.name;\r\n                });\r\n                dispatch(displaysReceived(displays));\r\n                // dispatch(updateDisplays(convertDisplaysDictionaryToList(displays)));\r\n            }\r\n        } catch (error) {\r\n            dispatch(displaysReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addDisplay(config) {\r\n    return async dispatch => {\r\n        const data = config;\r\n        try {\r\n            const response = await displayProxies.createDisplay(data);\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDisplayList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error adding display', error.message);\r\n        }\r\n    };\r\n}\r\n\r\n// const sleep = ms => {\r\n//     return new Promise(resolve => setTimeout(resolve, ms));\r\n// };\r\n\r\nexport function findWLEDDisplays({ resolve, reject }) {\r\n    return async dispatch => {\r\n        try {\r\n            // const response = await displayProxies.scanForDisplays();\r\n            // if (response.statusText === 'OK') {\r\n            //     for (let sec = 1; sec <= 10; sec++) {\r\n            //         await sleep(1000).then(() => {\r\n            //             dispatch(fetchDisplayList());\r\n            //             dispatch(scanProgressUpdated(sec));\r\n            //         });\r\n            //     }\r\n            //     resolve();\r\n            //     dispatch(scanProgressUpdated(0));\r\n            // }\r\n        } catch (error) {\r\n            console.log('WLED display scan failed', error.message);\r\n            reject(error.message);\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateDisplayConfig({ id, data }) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await displayProxies.updateDisplaySegments(id, {\r\n                segments: [...data],\r\n            });\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDisplayList());\r\n                dispatch(\r\n                    showdynSnackbar({ message: 'Successfully saved segments!', type: 'success' })\r\n                );\r\n            }\r\n        } catch (error) {\r\n            showdynSnackbar({ message: error.message });\r\n            console.log('Error updating display', error.message);\r\n        }\r\n    };\r\n}\r\n// export function updateDisplayConfig(id, type, config) {\r\n//     return async dispatch => {\r\n//         try {\r\n//             const response = await displayProxies.updateDisplaySegments(id, {\r\n//                 config: { ...config, type },\r\n//             });\r\n//             if (response.statusText === 'OK') {\r\n//                 dispatch(fetchDisplayList());\r\n//             }\r\n//         } catch (error) {\r\n//             console.log('Error updating display', error.message);\r\n//         }\r\n//     };\r\n// }\r\n\r\nexport function setDisplayEffect(id, data) {\r\n    return async (dispatch, getState) => {\r\n        const display = getState().displays.dictionary[id];\r\n        try {\r\n            dispatch(\r\n                displayUpdated({\r\n                    id,\r\n                    ...display,\r\n                    effect: { ...display.effect, isProcessing: true },\r\n                })\r\n            );\r\n\r\n            const response = await displayProxies.setDisplayEffect(id, {\r\n                type: data.type || 'wavelength(Reactive)',\r\n                config: data,\r\n            });\r\n\r\n            dispatch(\r\n                displayUpdated({\r\n                    id,\r\n                    effect: { ...data, ...response.data.effect, isProcessing: false },\r\n                })\r\n            );\r\n            dispatch(showdynSnackbar('Success!'));\r\n        } catch (error) {\r\n            displayUpdated(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function handleActiveDisplayEffect(id, payload) {\r\n    return async (dispatch, getState) => {\r\n        const display = getState().displays.dictionary[id];\r\n        if (display)\r\n            dispatch(\r\n                displayUpdated({ id, ...display, effect: { ...display.effect, active: payload } })\r\n            );\r\n    };\r\n}\r\n\r\nexport function clearDisplayEffect(id) {\r\n    return async (dispatch, getState) => {\r\n        const display = getState().displays.dictionary[id];\r\n        try {\r\n            dispatch(\r\n                displayUpdated({\r\n                    id,\r\n                    ...display,\r\n                    effect: { ...display.effect, isProcessing: true },\r\n                })\r\n            );\r\n\r\n            await displayProxies.deleteDisplayEffect(id);\r\n            dispatch(\r\n                displayUpdated({\r\n                    id,\r\n                    effect: { ...display.effect, active: false, isProcessing: false },\r\n                })\r\n            );\r\n        } catch (error) {\r\n            displayUpdated(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function deleteDisplay(id) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await displayProxies.deleteDisplay(id);\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDisplayList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error deleting display', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nconst convertDisplaysDictionaryToList = (displays = {}) =>\r\n    Object.keys(displays).map(key => {\r\n        const currentDisplay = displays[key];\r\n        return {\r\n            ...currentDisplay,\r\n            key,\r\n            id: key,\r\n            name: currentDisplay.config.name,\r\n        };\r\n    });\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as displayProxies from 'proxies/display';\r\nimport { showdynSnackbar } from './ui';\r\n// Actions\r\nconst ACTION_ROOT = 'selectedDisplay';\r\n\r\nexport const displayRequested = createAction(`${ACTION_ROOT}/DISPLAY_REQUESTED`);\r\nexport const displayReceived = createAction(`${ACTION_ROOT}/DISPLAY_RECEIVED`);\r\nexport const effectRequested = createAction(`${ACTION_ROOT}/DISPLAY_EFFECT_REQUESTED`);\r\nexport const effectReceived = createAction(`${ACTION_ROOT}/DISPLAY_EFFECT_RECEIVED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isDisplayLoading: false,\r\n    display: null,\r\n    isEffectLoading: false,\r\n    effect: {},\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [displayRequested]: state => ({\r\n            ...state,\r\n            isDisplayLoading: true,\r\n        }),\r\n        [displayReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            isDisplayLoading: false,\r\n            display: error ? null : payload,\r\n            error: error ? payload.message : '',\r\n        }),\r\n        [effectRequested]: state => ({\r\n            ...state,\r\n            isEffectLoading: true,\r\n        }),\r\n        [effectReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            isEffectLoading: false,\r\n            effect: error ? {} : payload,\r\n            error: error ? payload.message : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function clearDisplayEffect(displayId) {\r\n    return async dispatch => {\r\n        try {\r\n            const {\r\n                statusText,\r\n                data: { effect },\r\n            } = await displayProxies.deleteDisplayEffect(displayId);\r\n            if (statusText !== 'OK') {\r\n                throw new Error(`Error Clearing Display:${displayId} Effect`);\r\n            }\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function setDisplayEffect(displayId, { type, config }) {\r\n    return async (dispatch, getState) => {\r\n        const currentEffect = getState().selectedDisplay.effect;\r\n        const proxy = currentEffect.type\r\n            ? displayProxies.updateDisplayEffect\r\n            : displayProxies.setDisplayEffect;\r\n        try {\r\n            const {\r\n                statusText,\r\n                data: { effect, payload },\r\n            } = await proxy(displayId, {\r\n                type,\r\n                config,\r\n            });\r\n            if (payload) {\r\n                dispatch(\r\n                    showdynSnackbar({\r\n                        message: payload.reason,\r\n                        type: payload.type,\r\n                    })\r\n                );\r\n            }\r\n            if (statusText !== 'OK') {\r\n                throw new Error(`Error setting Display:${displayId} Effect`);\r\n            }\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function loadDisplayInfo(displayId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let display = getState().displays.dictionary;\r\n            dispatch(displayRequested());\r\n            display = await displayProxies.getDisplay(displayId);\r\n            dispatch(displayReceived(display));\r\n\r\n            dispatch(effectRequested());\r\n            const {\r\n                data: { effect },\r\n            } = await displayProxies.getDisplayEffect(displayId);\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n","import devices from './devices';\r\nimport presets from './presets';\r\nimport selectedDevice from './selectedDevice';\r\nimport schemas from './schemas';\r\nimport scenes from './scenes';\r\nimport settings from './settings';\r\nimport virtuals from './virtuals';\r\nimport integrations from './integrations';\r\nimport ui from './ui';\r\nimport displays from './displays';\r\nimport selectedDisplay from './selectedDisplay';\r\nconst modules = {\r\n    devices,\r\n    integrations,\r\n    presets,\r\n    schemas,\r\n    scenes,\r\n    settings,\r\n    selectedDevice,\r\n    virtuals,\r\n    ui,\r\n    displays,\r\n    selectedDisplay,\r\n};\r\n\r\nexport default modules","import thunk from 'redux-thunk'\r\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\r\nimport { createBrowserHistory } from 'history'\r\nimport reducers from '../modules'\r\n\r\nexport const history = createBrowserHistory()\r\n\r\nconst store = () => {\r\n    const store = createStore(\r\n        combineReducers({\r\n            ...reducers,\r\n            router: connectRouter(history),\r\n        }),\r\n        composeWithDevTools(applyMiddleware(routerMiddleware(history), thunk))\r\n    )\r\n    return store\r\n}\r\n\r\nexport default store","export const drawerWidth = 260;\r\n","import Sockette from 'sockette';\r\n\r\nconst { NODE_ENV } = process.env;\r\nconst { hostname, port } = window.location;\r\n\r\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\r\n\r\nexport const websocketUrl = `ws://${wsBaseUrl}/api/websocket`;\r\n\r\nexport const createWebSocket = options =>\r\n    new Sockette(websocketUrl, {\r\n        timeout: 5e3,\r\n        maxAttempts: 10,\r\n        ...options,\r\n    });\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { createWebSocket } from 'utils/api/websocket';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst styles = theme => ({\r\n    content: {\r\n        minWidth: 120,\r\n        maxWidth: '100%',\r\n        height: 200,\r\n    },\r\n});\r\n\r\nclass PixelColorGraph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.ws = undefined;\r\n        this.websocketActive = false;\r\n        this.websocketPacketId = 1;\r\n        this.deviceUpdateSubscription = null;\r\n        this.state = this.getChartOptionsForDevice(props.device);\r\n    }\r\n\r\n    getChartOptionsForDevice(device) {\r\n        // console.log(\r\n        //     'AND AGAAAAIN: Hole 99999 display.config.pixel_count missing...',\r\n        //     device.config[device.id]\r\n        // );\r\n        const { pixel_count } = device.config;\r\n        // const { pixel_count } = { pixel_count: 50 };\r\n\r\n        return {\r\n            chartData: {\r\n                labels: Array.apply(null, { length: pixel_count }).map(Function.call, Number),\r\n                datasets: [\r\n                    {\r\n                        label: 'Red',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(255,0,0,0.3)',\r\n                        borderColor: 'rgba(255,0,0,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                    {\r\n                        label: 'Green',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,255,0,0.3)',\r\n                        borderColor: 'rgba(0,255,0,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                    {\r\n                        label: 'Blue',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,0,255,0.3)',\r\n                        borderColor: 'rgba(0,0,255,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                ],\r\n            },\r\n            chartOptions: {\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                tooltips: { enabled: false },\r\n                hover: { mode: null, animationDuration: 0 },\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                responsiveAnimationDuration: 0,\r\n                scales: {\r\n                    xAxes: [\r\n                        {\r\n                            gridLines: {\r\n                                display: false,\r\n                            },\r\n                            ticks: {\r\n                                max: pixel_count,\r\n                                min: 0,\r\n                                maxTicksLimit: 7,\r\n                            },\r\n                        },\r\n                    ],\r\n                    yAxes: [\r\n                        {\r\n                            // stacked: true,\r\n                            ticks: {\r\n                                display: false,\r\n                                min: 0,\r\n                                max: 256,\r\n                                stepSize: 64,\r\n                            },\r\n                            gridLines: {\r\n                                display: false,\r\n                                color: 'rgba(0, 0, 0, .125)',\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n                legend: {\r\n                    display: false,\r\n                },\r\n            },\r\n        };\r\n    }\r\n\r\n    handleMessage = e => {\r\n        var messageData = JSON.parse(e.data);\r\n\r\n        // Ensure this message is for the current device. This can happen\r\n        // during transistions between devices where the component stays\r\n        // loaded\r\n        if (messageData.device_id !== this.props.device.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState(({ chartData, chartData: { datasets } }) => ({\r\n            chartData: {\r\n                ...chartData,\r\n                datasets: [\r\n                    { ...datasets[0], data: messageData.pixels[0] },\r\n                    { ...datasets[1], data: messageData.pixels[1] },\r\n                    { ...datasets[2], data: messageData.pixels[2] },\r\n                ],\r\n            },\r\n        }));\r\n    };\r\n\r\n    handleOpen = e => {\r\n        this.enablePixelVisualization(this.props.device);\r\n        this.websocketActive = true;\r\n    };\r\n\r\n    handleClose = e => {\r\n        this.websocketActive = false;\r\n    };\r\n\r\n    enablePixelVisualization = device => {\r\n        if (this.ws) {\r\n            this.ws.json({\r\n                id: this.websocketPacketId,\r\n                type: 'subscribe_event',\r\n                event_type: 'device_update',\r\n                event_filter: { device_id: device.id },\r\n            });\r\n            this.deviceUpdateSubscription = this.websocketPacketId;\r\n            this.websocketPacketId++;\r\n        }\r\n    };\r\n\r\n    disablePixelVisualization = () => {\r\n        this.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'unsubscribe_event',\r\n            subscription_id: this.deviceUpdateSubscription,\r\n        });\r\n        this.deviceUpdateSubscription = null;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    connectWebsocket = () => {\r\n        this.ws = createWebSocket({\r\n            timeout: 5e3,\r\n            maxAttempts: 10,\r\n            onopen: this.handleOpen,\r\n            onmessage: this.handleMessage,\r\n            onclose: this.handleClose,\r\n            onerror: e => console.log('WebSocket Error:', e),\r\n        });\r\n    };\r\n\r\n    disconnectWebsocket = () => {\r\n        if (this.ws !== undefined && this.websocketActive) {\r\n            this.ws.close(1000);\r\n            this.ws = undefined;\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.connectWebsocket();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disconnectWebsocket();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { device } = this.props;\r\n        if (prevProps.device.id !== device.id && this.websocketActive) {\r\n            this.disablePixelVisualization();\r\n            this.enablePixelVisualization(device);\r\n            this.setState(this.getChartOptionsForDevice(device));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Line data={this.state.chartData} options={this.state.chartOptions} />\r\n            </Box>\r\n        );\r\n    }\r\n}\r\n\r\nPixelColorGraph.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    device: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PixelColorGraph);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = theme => ({\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right',\r\n    },\r\n    submitControls: {\r\n        margin: theme.spacing(1),\r\n        display: 'block',\r\n        width: '100%',\r\n    },\r\n    tableCell: {\r\n        lineHeight: '1.2',\r\n        padding: '12px 8px',\r\n        verticalAlign: 'middle',\r\n    },\r\n    deviceLink: {\r\n        size: 'large',\r\n        margin: theme.spacing(1),\r\n        textDecoration: 'none',\r\n        '&,&:hover': {\r\n            color: 'inherit',\r\n        },\r\n    },\r\n    textLink: {\r\n        textDecoration: 'none',\r\n        color: 'inherit',\r\n        '&:hover': {\r\n            color: theme.palette.primary.main,\r\n        },\r\n    },\r\n    actionsContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n    },\r\n    toggleContainer: {\r\n        width: '70px',\r\n    },\r\n});\r\n\r\nconst DeviceMiniControl = props => {\r\n    const {\r\n        classes,\r\n        device: { id, config, effect },\r\n    } = props;\r\n\r\n    return (\r\n        <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\r\n            <Grid item xs=\"auto\">\r\n                <NavLink to={`/displays/${id}`} className={classes.textLink} key={id}>\r\n                    <Typography variant=\"h5\">{config.name}</Typography>\r\n                </NavLink>\r\n                <Typography variant=\"body1\" color=\"textSecondary\">\r\n                    Effect: {effect.name ? effect.name : 'None'}\r\n                </Typography>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nDeviceMiniControl.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    device: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DeviceMiniControl);\r\n","import React, { useReducer } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Box from '@material-ui/core/Box';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n        margin: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst INITIAL_STATE = {\r\n    name: '',\r\n    error: '',\r\n};\r\n\r\nconst AddSceneCard = ({ scenes = {}, addScene }) => {\r\n    const classes = useStyles();\r\n    const [state, dispatch] = useReducer(\r\n        (state, payload) => ({\r\n            ...state,\r\n            ...payload,\r\n        }),\r\n        INITIAL_STATE\r\n    );\r\n    const { name, error } = state;\r\n\r\n    const handleSave = () => {\r\n        addScene(name);\r\n    };\r\n\r\n    const handleNameChanged = ({ target: { value } }) => {\r\n        const error = validateInput(value, scenes.list) ? '' : 'Scene name already in use!';\r\n        dispatch({ name: value, error });\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader\r\n                title=\"Add Scene\"\r\n                subheader=\"Save current effects of all devices as a Scene\"\r\n            />\r\n            <CardContent>\r\n                <Box display=\"flex\">\r\n                    <Box item=\"true\" flexGrow={1}>\r\n                        <TextField\r\n                            error={!!error}\r\n                            id=\"SceneNameInput\"\r\n                            label=\"Scene Name\"\r\n                            onChange={handleNameChanged}\r\n                            fullWidth\r\n                            helperText={error}\r\n                        />\r\n                    </Box>\r\n                    <Box item=\"true\">\r\n                        <Button\r\n                            className={classes.button}\r\n                            color=\"primary\"\r\n                            size=\"medium\"\r\n                            aria-label=\"Save\"\r\n                            disabled={!!error || !name.length}\r\n                            variant=\"contained\"\r\n                            onClick={handleSave}\r\n                            endIcon={<SaveIcon />}\r\n                        >\r\n                            Save Scene\r\n                        </Button>\r\n                    </Box>\r\n                </Box>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst validateInput = (input, scenes) =>\r\n    !scenes.some(p => p.name.toLowerCase() === input.toLowerCase());\r\n\r\nAddSceneCard.propTypes = {\r\n    addScene: PropTypes.func.isRequired,\r\n    scenes: PropTypes.shape({\r\n        isLoading: PropTypes.bool.isRequired,\r\n        list: PropTypes.array.isRequired,\r\n        dictionary: PropTypes.object.isRequired,\r\n    }).isRequired,\r\n};\r\n\r\nexport default AddSceneCard;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { getScenes } from 'modules/scenes';\r\nconst styles = theme => ({\r\n    sceneButton: {\r\n        size: 'large',\r\n        margin: theme.spacing(1),\r\n    },\r\n    submitControls: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n});\r\n\r\nconst MiniScenesCard = ({ classes, activateScene }) => {\r\n    const scenes = useSelector(state => state.scenes);\r\n    useEffect(() => {\r\n        getScenes();\r\n    }, []);\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Scenes\" subheader=\"Easily deploy effects across multiple devices\" />\r\n            <CardContent className={classes.submitControls}>\r\n                {scenes.isLoading ? (\r\n                    <Grid\r\n                        container\r\n                        justify=\"center\"\r\n                        alignContent=\"center\"\r\n                        className={classes.spinnerContainer}\r\n                    >\r\n                        <CircularProgress size={80} />\r\n                    </Grid>\r\n                ) : (\r\n                    scenes.list.map(scene => (\r\n                        <Button\r\n                            key={scene.id}\r\n                            variant={'text'}\r\n                            color={'inherit'}\r\n                            className={classes.sceneButton}\r\n                            onClick={() => {\r\n                                activateScene(scene.id);\r\n                            }}\r\n                        >\r\n                            {scene.name}\r\n                        </Button>\r\n                    ))\r\n                )}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default withStyles(styles)(MiniScenesCard);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport PixelColorGraph from 'components/PixelColorGraph';\r\nimport DeviceMiniControl from 'components/DeviceMiniControl';\r\nimport AddSceneCard from 'components/AddSceneCard';\r\nimport MiniScenesCard from 'components/MiniScenesCard';\r\nimport { addScene, getScenes, activateScene } from 'modules/scenes';\r\nimport { setDeviceEffect, clearDeviceEffect, fetchDeviceList } from 'modules/devices';\r\nimport { fetchDisplayList } from 'modules/displays';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    card: {\r\n        width: '100%',\r\n        overflowX: 'auto',\r\n    },\r\n    table: {\r\n        width: '100%',\r\n        maxWidth: '100%',\r\n        backgroundColor: 'transparent',\r\n        borderSpacing: '0',\r\n    },\r\n});\r\n\r\nclass DashboardView extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getScenes();\r\n        this.props.fetchDeviceList();\r\n        this.props.fetchDisplayList();\r\n    }\r\n\r\n    handleUpdateDeviceEffect = (deviceId, data) => {\r\n        const { setDeviceEffect, clearDeviceEffect } = this.props;\r\n\r\n        if (data.active) {\r\n            setDeviceEffect(deviceId, data);\r\n        } else {\r\n            clearDeviceEffect(deviceId);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { classes, devices, scenes, addScene, activateScene } = this.props;\r\n\r\n        if (!devices.list.length) {\r\n            return (\r\n                <Card>\r\n                    <CardContent>\r\n                        <p>Looks like you have no devices! Go to 'Device Management' to add them</p>\r\n                    </CardContent>\r\n                </Card>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Grid container direction=\"row\" spacing={4}>\r\n                    {devices.list.map(device => {\r\n                        return (\r\n                            <Grid key={device.id} item lg={6}>\r\n                                <Card className={classes.card}>\r\n                                    <CardContent>\r\n                                        <DeviceMiniControl device={device} />\r\n                                        <PixelColorGraph device={device} />\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                        );\r\n                    })}\r\n                </Grid>\r\n                <Grid container direction=\"row\" spacing={4}>\r\n                    <Grid item lg={6}>\r\n                        <MiniScenesCard activateScene={activateScene} />\r\n                    </Grid>\r\n                    <Grid item lg={6}>\r\n                        <AddSceneCard scenes={scenes} addScene={addScene} />\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDashboardView.propTypes = {\r\n    devices: PropTypes.object.isRequired,\r\n    scenes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        devices: state.devices,\r\n        scenes: state.scenes,\r\n    }),\r\n    {\r\n        addScene,\r\n        activateScene,\r\n        getScenes,\r\n        setDeviceEffect,\r\n        clearDeviceEffect,\r\n        fetchDeviceList,\r\n        fetchDisplayList,\r\n    }\r\n)(withStyles(styles)(DashboardView));\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    typography: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nexport default function PopoverSure({\r\n    onConfirm,\r\n    variant = 'contained',\r\n    color = 'secondary',\r\n    label,\r\n    text = 'Are you sure?',\r\n    direction = 'left',\r\n    size = 'small',\r\n    icon = <DeleteIcon />,\r\n    className,\r\n    style = {},\r\n}) {\r\n    const classes = useStyles();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n\r\n    return (\r\n        <div style={{ display: 'initial' }}>\r\n            <Button\r\n                aria-describedby={id}\r\n                variant={variant}\r\n                color={color}\r\n                onClick={handleClick}\r\n                size={size}\r\n                className={className}\r\n                style={style}\r\n            >\r\n                {label}\r\n                {icon}\r\n            </Button>\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: direction,\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'right',\r\n                }}\r\n            >\r\n                {' '}\r\n                <div style={{ display: 'flex' }}>\r\n                    <Typography className={classes.typography}>{text}</Typography>\r\n                    <Button\r\n                        aria-describedby={id}\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                            onConfirm();\r\n                            setAnchorEl(null);\r\n                        }}\r\n                    >\r\n                        <CheckIcon />\r\n                    </Button>\r\n                    <Button\r\n                        aria-describedby={id}\r\n                        variant=\"contained\"\r\n                        color=\"default\"\r\n                        onClick={() => {\r\n                            setAnchorEl(null);\r\n                        }}\r\n                    >\r\n                        <CloseIcon />\r\n                    </Button>\r\n                </div>\r\n            </Popover>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateDisplayConfig } from 'modules/displays';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);\r\n    const radioGroupRef = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        if (!open) {\r\n            setValue(valueProp);\r\n        }\r\n    }, [valueProp, open]);\r\n\r\n    const handleEntering = () => {\r\n        if (radioGroupRef.current != null) {\r\n            radioGroupRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n    };\r\n\r\n    const handleChange = event => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            onEntering={handleEntering}\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\r\n            <DialogContent dividers>\r\n                <RadioGroup\r\n                    ref={radioGroupRef}\r\n                    aria-label=\"ringtone\"\r\n                    name=\"ringtone\"\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                >\r\n                    {props.deviceList.map(device => (\r\n                        <FormControlLabel\r\n                            value={device.name}\r\n                            key={device.name}\r\n                            control={<Radio />}\r\n                            label={device.name}\r\n                        />\r\n                    ))}\r\n                </RadioGroup>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        margin: '1rem auto',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 435,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ display, config }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const dispatch = useDispatch();\r\n    const deviceList = useSelector(state => state.devices.list) || [];\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n        if (newValue) {\r\n            const device = { ...deviceList.find(d => d.name === newValue) };\r\n            const temp = [\r\n                ...display.segments,\r\n                [device.id, 0, device.config.pixel_count - 1, false],\r\n            ];\r\n            const test = temp.filter(t => t.length === 4);\r\n            dispatch(updateDisplayConfig({ id: display.id, data: test }));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {deviceList.length > 0 ? (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-label=\"Add\"\r\n                        className={classes.button}\r\n                        endIcon={<AddCircleIcon />}\r\n                        onClick={handleClickListItem}\r\n                        role=\"listitem\"\r\n                    >\r\n                        ADD SEGMENT\r\n                    </Button>\r\n\r\n                    <ConfirmationDialogRaw\r\n                        classes={{\r\n                            paper: classes.paper,\r\n                        }}\r\n                        config={config}\r\n                        id=\"ringtone-menu\"\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        value={deviceList[0].name}\r\n                        deviceList={deviceList}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <></>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchDeviceList } from 'modules/devices';\r\nimport { handleSegmentChange } from 'modules/displays';\r\nconst PixelSlider = ({ s, i, display }) => {\r\n    const dispatch = useDispatch();\r\n    const devices = useSelector(state => state.devices.list);\r\n    useEffect(() => {\r\n        dispatch(fetchDeviceList);\r\n    }, [dispatch]);\r\n\r\n    const currentDevice = devices.find(reduxItem => reduxItem.id === s[0]);\r\n    if (!currentDevice) {\r\n        return <></>;\r\n    }\r\n    const pixelRange = [s[1], s[2]];\r\n\r\n    const handleChange = (event, newValue) => {\r\n        if (newValue !== pixelRange) {\r\n            dispatch(handleSegmentChange({ newValue, displayId: display.id, segIndex: i }));\r\n        }\r\n    };\r\n\r\n    const marks = [\r\n        { value: 0, label: 0 },\r\n        {\r\n            value: currentDevice.config.pixel_count - 1,\r\n            label: currentDevice.config.pixel_count - 1,\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <Slider\r\n            value={pixelRange}\r\n            marks={marks}\r\n            min={0}\r\n            max={currentDevice.config.pixel_count - 1}\r\n            onChange={handleChange}\r\n            aria-labelledby=\"range-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n        />\r\n    );\r\n};\r\n\r\nexport default PixelSlider;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PixelSlider from './PixelSlider';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PopoverSure from 'components/PopoverSure';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\r\nimport { handleSegmentChange, orderSegmentChange, deleteSegment } from 'modules/displays';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    segmentsWrapper: {\r\n        display: 'flex',\r\n        borderBottom: '1px dashed #aaa',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '0.5rem 0',\r\n    },\r\n    segmentsColOrder: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    segmentsButtonUp: {\r\n        borderTopRightRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n        minWidth: '50px',\r\n    },\r\n    segmentsButtonDown: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        minWidth: '50px',\r\n        marginRight: '1rem',\r\n    },\r\n    segmentsColPixelSlider: {\r\n        flex: '0 1 70%',\r\n    },\r\n    segmentsColActions: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    '@media (max-width: 600px)': {\r\n        segmentsColPixelSlider: {\r\n            order: 3,\r\n            width: 'calc(100% - 2rem)',\r\n            margin: '2rem auto 0 auto',\r\n        },\r\n\r\n        segmentsWrapper: {\r\n            flexDirection: 'column',\r\n            alignItems: 'flex-start',\r\n        },\r\n        segmentsColActions: {\r\n            position: 'absolute',\r\n            right: '1rem',\r\n        },\r\n    },\r\n}));\r\n\r\nconst Segment = ({ s, i, display }) => {\r\n    const devices = useSelector(state => state.devices.list);\r\n    const title = devices.find(d => d.id === s[0])['name'];\r\n    const classes = useStyles();\r\n\r\n    const dispatch = useDispatch();\r\n    const handleInvert = () => {\r\n        dispatch(handleSegmentChange({ segIndex: i, displayId: display.id, invert: true }));\r\n    };\r\n    const reorder = direction => {\r\n        dispatch(orderSegmentChange({ segIndex: i, displayId: display.id, order: direction }));\r\n    };\r\n    const handleDeleteSegment = direction => {\r\n        dispatch(deleteSegment({ segIndex: i, displayId: display.id }));\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '0 1rem' }}>\r\n            <div className={classes.segmentsWrapper}>\r\n                <div className={classes.segmentsColOrder}>\r\n                    <div style={{ display: 'flex' }}>\r\n                        <div>\r\n                            <Button\r\n                                disabled={i === 0}\r\n                                variant={'outlined'}\r\n                                color={'inherit'}\r\n                                onClick={() => reorder('UP')}\r\n                                size={'small'}\r\n                                className={classes.segmentsButtonUp}\r\n                            >\r\n                                <ExpandLess />\r\n                            </Button>\r\n                        </div>\r\n                        <div>\r\n                            <Button\r\n                                disabled={i === display.segments.length - 1}\r\n                                variant={'outlined'}\r\n                                color={'inherit'}\r\n                                onClick={() => reorder('DOWN')}\r\n                                size={'small'}\r\n                                className={classes.segmentsButtonDown}\r\n                            >\r\n                                <ExpandMore />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ minWidth: '120px' }}>\r\n                        <Typography color=\"textSecondary\">{title}</Typography>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.segmentsColPixelSlider}>\r\n                    <PixelSlider s={s} i={i} display={display} />\r\n                </div>\r\n                <div className={classes.segmentsColActions}>\r\n                    <div>\r\n                        <Button\r\n                            variant={s[3] ? 'contained' : 'outlined'}\r\n                            color={s[3] ? 'primary' : 'default'}\r\n                            endIcon={<SwapHorizIcon />}\r\n                            onClick={handleInvert}\r\n                            style={{ margin: '0 1rem 0 1.5rem' }}\r\n                        >\r\n                            Flip\r\n                        </Button>\r\n                    </div>\r\n                    <PopoverSure\r\n                        variant=\"outlined\"\r\n                        color=\"default\"\r\n                        onConfirm={handleDeleteSegment}\r\n                        style={{ padding: '5px' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Segment;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddSegmentDialog from './AddSegmentDialog';\r\nimport Segment from './Segment';\r\nimport { updateDisplayConfig } from 'modules/displays';\r\nimport { showdynSnackbar } from 'modules/ui';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    appBar: {\r\n        position: 'relative',\r\n        marginBottom: '1rem',\r\n        background: theme.palette.background.default,\r\n        color: theme.palette.text.primary,\r\n    },\r\n    title: {\r\n        marginLeft: theme.spacing(2),\r\n        flex: 1,\r\n    },\r\n    dialog: {\r\n        background: theme.palette.background.default,\r\n    },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog({ display, icon, className }) {\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    function getOverlapping(data) {\r\n        const tmp = {};\r\n        data.forEach(([name, start, end]) => {\r\n            if (!tmp[name]) {\r\n                tmp[name] = {};\r\n                data.forEach(y => {\r\n                    tmp[name].items = [];\r\n                    tmp[name].overlap = false;\r\n                    tmp[name].items.push([start, end]);\r\n                });\r\n            } else {\r\n                tmp[name].items.push([start, end]);\r\n            }\r\n        });\r\n        Object.keys(tmp).forEach(e =>\r\n            tmp[e].items\r\n                .sort(([startA], [startB]) => startA > startB)\r\n                .forEach(([start, end], i) => {\r\n                    if (tmp[e].items[i + 1]) {\r\n                        const [startNew, endNew] = tmp[e].items[i + 1];\r\n                        if (startNew <= end && endNew >= start) {\r\n                            tmp[e].overlap = true;\r\n                        }\r\n                    }\r\n                })\r\n        );\r\n        return tmp;\r\n    }\r\n\r\n    const handleSave = () => {\r\n        const output = getOverlapping(display.segments);\r\n        const overlap = Object.keys(output).find(k => output[k].overlap);\r\n        if (overlap) {\r\n            dispatch(\r\n                showdynSnackbar({\r\n                    message: `Overlapping in ${overlap} detected! Please Check your config`,\r\n                })\r\n            );\r\n        } else {\r\n            dispatch(updateDisplayConfig({ id: display.id, data: display.segments }));\r\n            // setOpen(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                variant=\"contained\"\r\n                color={'default'}\r\n                onClick={handleClickOpen}\r\n                size=\"small\"\r\n                className={className}\r\n            >\r\n                {icon || <AddCircleIcon />}\r\n            </Button>\r\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n                <AppBar className={classes.appBar}>\r\n                    <Toolbar>\r\n                        <Button\r\n                            autoFocus\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            startIcon={<NavigateBeforeIcon />}\r\n                            onClick={handleClose}\r\n                            style={{ marginRight: '1rem' }}\r\n                        >\r\n                            back\r\n                        </Button>\r\n                        <Typography variant=\"h6\" className={classes.title}>\r\n                            {display.config.name}{' '}\r\n                        </Typography>\r\n                        <div>\r\n                            <Button\r\n                                autoFocus\r\n                                color=\"primary\"\r\n                                variant=\"contained\"\r\n                                endIcon={<SaveIcon />}\r\n                                onClick={handleSave}\r\n                            >\r\n                                save\r\n                            </Button>\r\n                        </div>\r\n                    </Toolbar>\r\n                </AppBar>\r\n\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        borderBottom: '1px dashed #aaa',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '0.5rem 0',\r\n                        margin: '0 1rem',\r\n                    }}\r\n                >\r\n                    <Typography variant=\"caption\">Segments-Settings</Typography>\r\n                </div>\r\n                {display.segments.length > 0 &&\r\n                    display.segments.map((s, i) => (\r\n                        <Segment s={s} i={i} key={i} display={display} />\r\n                    ))}\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '0.5rem 0',\r\n                        margin: '0 1rem',\r\n                    }}\r\n                >\r\n                    <AddSegmentDialog display={display} />\r\n                </div>\r\n            </Dialog>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nconst Wled = () => {\r\n    return (\r\n        <svg viewBox=\"1.2738999999999998 0.896900000000001 21.511300000000002 17.9544\">\r\n            <path\r\n                d=\"m 15.5751 0.919 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8159 -0.0141 1.6377 0.0106 2.45 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0419 0 -2.0839 0 -3.1258 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -3.5569 3.5569 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c -0.0036 0.8041 0.0083 1.6156 -0.016 2.4153 c -1.1386 0.0401 -2.2792 0.0095 -3.4186 0.0193 c -0.2245 -0.0414 -0.1307 0.2381 -0.1493 0.3678 c 0 2.2635 0 4.527 0 6.7905 c 0.0782 0.1466 0.3085 0.0379 0.4487 0.0714 c 1.0508 0 2.1016 0 3.1524 0 c 0.1465 -0.078 0.0388 -0.3084 0.0729 -0.4484 c 0.004 -1.0408 0.008 -2.0815 0.0121 -3.1223 c 1.1575 -0.0046 2.3151 -0.0091 3.4726 -0.0136 c 0.1462 -0.0786 0.0376 -0.3085 0.0712 -0.4487 c 0 -2.2364 0 -4.4729 0 -6.7093 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -1.0419 0 -2.0839 0 -3.1258 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -10.7247 10.7247 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8249 -0.0142 1.6556 0.0106 2.4769 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0509 0 -2.1018 0 -3.1527 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z\"\r\n                fill=\"currentColor\"\r\n            />\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Wled;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Button from '@material-ui/core/Button';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { Switch } from '@material-ui/core';\r\nimport PopoverSure from 'components/PopoverSure';\r\nimport DisplaySegmentsDialog from 'components/DisplaySegmentsDialog';\r\nimport { camelToSnake } from 'utils/helpers';\r\nimport TuneIcon from '@material-ui/icons/Tune';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport Wled from 'components/CustomIcons/Wled';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst styles = theme => ({\r\n    deleteButton: {\r\n        minWidth: 32,\r\n    },\r\n    editButton: {\r\n        minWidth: 32,\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    displayLink: {\r\n        textDecoration: 'none',\r\n        color: 'inherit',\r\n        '&:hover': {\r\n            color: theme.palette.primary.main,\r\n        },\r\n    },\r\n    displaySettings: {\r\n        '@media (max-width: 1200px)': {\r\n            display: 'none',\r\n        },\r\n    },\r\n});\r\n\r\nfunction DisplaysTableItem({\r\n    display,\r\n    device,\r\n    onDelete,\r\n    classes,\r\n    onEditDevice,\r\n    onEditDisplay,\r\n    deviceList,\r\n}) {\r\n    const handleDeleteDevice = () => {\r\n        onDelete(display.id);\r\n    };\r\n\r\n    const handleEditDisplay = () => {\r\n        onEditDisplay(display);\r\n    };\r\n    const handleEditDevice = () => {\r\n        onEditDevice(deviceList.find(d => d.id === display.is_device));\r\n    };\r\n\r\n    return (\r\n        <TableRow key={display.id}>\r\n            <TableCell component=\"th\" scope=\"row\" width=\"35px\">\r\n                <Icon\r\n                    color={display.effect && display.effect.active === true ? 'primary' : 'inherit'}\r\n                >\r\n                    {display.config.icon_name && display.config.icon_name.startsWith('wled') ? (\r\n                        <Wled />\r\n                    ) : display.config.icon_name.startsWith('mdi:') ? (\r\n                        <span\r\n                            className={`mdi mdi-${display.config.icon_name.split('mdi:')[1]}`}\r\n                        ></span>\r\n                    ) : (\r\n                        camelToSnake(display.config.icon_name || 'SettingsInputComponent')\r\n                    )}\r\n                </Icon>\r\n            </TableCell>\r\n            <TableCell>\r\n                <NavLink\r\n                    to={'/displays/' + display.id}\r\n                    className={classes.displayLink}\r\n                    key={display.id}\r\n                    color=\"inherit\"\r\n                >\r\n                    {display.config.name}\r\n                </NavLink>\r\n            </TableCell>\r\n            <TableCell className={classes.displaySettings}>\r\n                {display.config.max_brightness * 100 + '%'}\r\n            </TableCell>\r\n            <TableCell className={classes.displaySettings}>{display.config.crossfade}</TableCell>\r\n            <TableCell align=\"center\" className={classes.displaySettings}>\r\n                {display.config.center_offset}\r\n            </TableCell>\r\n            <TableCell valign=\"bottom\" className={classes.displaySettings}>\r\n                {display.config.preview_only ? <DoneIcon /> : <ClearIcon />}\r\n            </TableCell>\r\n            <TableCell align=\"right\" valign=\"bottom\">\r\n                <PopoverSure onConfirm={handleDeleteDevice} className={classes.deleteButton} />\r\n\r\n                {display.is_device ? (\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        className={classes.editButton}\r\n                        onClick={handleEditDevice}\r\n                    >\r\n                        <BuildIcon />\r\n                    </Button>\r\n                ) : (\r\n                    <DisplaySegmentsDialog\r\n                        display={display}\r\n                        className={classes.editButton}\r\n                        icon={<TuneIcon />}\r\n                    />\r\n                )}\r\n                <Button\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    className={classes.editButton}\r\n                    onClick={handleEditDisplay}\r\n                >\r\n                    <SettingsIcon />\r\n                </Button>\r\n            </TableCell>\r\n        </TableRow>\r\n    );\r\n}\r\n\r\nDisplaysTableItem.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    display: PropTypes.object.isRequired,\r\n    onDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DisplaysTableItem);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nimport DisplaysTableItem from './DisplaysTableItem.jsx';\r\n\r\nconst styles = theme => ({\r\n    table: {\r\n        borderSpacing: '0',\r\n        borderCollapse: 'collapse',\r\n    },\r\n    tableTitles: {\r\n        '@media (max-width: 1200px)': {\r\n            display: 'none',\r\n        },\r\n    },\r\n    tableResponsive: {\r\n        overflowX: 'auto',\r\n    },\r\n});\r\n\r\nfunction DisplaysTable({\r\n    onDeleteDisplay,\r\n    classes,\r\n    items,\r\n    onEditDevice,\r\n    onEditDisplay,\r\n    deviceList,\r\n}) {\r\n    return (\r\n        <div className={classes.tableResponsive}>\r\n            <Table className={classes.table}>\r\n                <TableHead>\r\n                    <TableRow className={classes.tableTitles}>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell>Max Brightness</TableCell>\r\n                        <TableCell>Crossfade</TableCell>\r\n                        <TableCell>Center-Offset</TableCell>\r\n                        <TableCell>Preview-Only</TableCell>\r\n                        <TableCell />\r\n                    </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                    {items.map(display => (\r\n                        <DisplaysTableItem\r\n                            key={display.id}\r\n                            display={display}\r\n                            deviceList={deviceList}\r\n                            onDelete={onDeleteDisplay}\r\n                            onEditDevice={onEditDevice}\r\n                            onEditDisplay={onEditDisplay}\r\n                        />\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nDisplaysTable.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    items: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DisplaysTable);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    control: {\r\n        margin: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nfunction DropDown({ onChange, value, options, label }) {\r\n    const classes = useStyles();\r\n\r\n    const handleChange = ({ target: { value } }) => {\r\n        if (onChange) {\r\n            onChange(value);\r\n        }\r\n    };\r\n    return (\r\n        <FormControl className={classes.control}>\r\n            {label && <InputLabel>{label}</InputLabel>}\r\n            <Select value={value} onChange={handleChange}>\r\n                <MenuItem value=\"\" select=\"selected\">\r\n                    <Typography>None</Typography>\r\n                </MenuItem>\r\n\r\n                {options.map(({ display, value }) => {\r\n                    return (\r\n                        <MenuItem key={value} value={value}>\r\n                            <Typography>{display}</Typography>\r\n                        </MenuItem>\r\n                    );\r\n                })}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nDropDown.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    options: PropTypes.array,\r\n    value: PropTypes.string,\r\n};\r\nDropDown.defaultProps = {\r\n    classes: '',\r\n    options: [],\r\n    value: '',\r\n};\r\n\r\nexport default DropDown;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm } from 'react-schema-form';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Collapse from '@material-ui/core/Collapse';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    flexWrap: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n}));\r\n\r\nfunction AdditionalProperties({ form, model, schema, onChange, open }) {\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (...args) => {\r\n        if (onChange) {\r\n            onChange(...args);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Collapse in={open}>\r\n            <div className={classes.flexWrap}>\r\n                <SchemaForm\r\n                    className={classes.schemaForm}\r\n                    schema={schema}\r\n                    form={form}\r\n                    model={model}\r\n                    onModelChange={handleChange}\r\n                />\r\n            </div>\r\n        </Collapse>\r\n    );\r\n}\r\n\r\nAdditionalProperties.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    form: PropTypes.array,\r\n    model: PropTypes.object,\r\n    scheme: PropTypes.object,\r\n};\r\nAdditionalProperties.defaultProps = {\r\n    classes: '',\r\n    form: [],\r\n    model: {},\r\n    scheme: {},\r\n};\r\n\r\nexport default AdditionalProperties;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport clsx from 'clsx';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Box from '@material-ui/core/Box';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport DropDown from 'components/forms/DropDown';\r\nimport AdditionalProperties from './AdditionalProperties';\r\n\r\nconst styles = theme => ({\r\n    form: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n    },\r\n    bottomContainer: {\r\n        flex: 1,\r\n        marginTop: 8,\r\n    },\r\n    actionButtons: {\r\n        '& > *': {\r\n            marginLeft: theme.spacing(2),\r\n        },\r\n    },\r\n    expandIcon: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n});\r\n\r\nclass DeviceConfigDialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            deviceType: '',\r\n            model: {},\r\n            additionalPropertiesOpen: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { initial } = this.props;\r\n        if (initial.type) {\r\n            this.handleTypeChange(initial.type, initial.config);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { initial } = this.props;\r\n        if (initial !== prevProps.initial) {\r\n            this.handleTypeChange(initial.type, initial.config);\r\n        }\r\n    }\r\n\r\n    handleTypeChange = (value, initial = {}) => {\r\n        this.setState({ deviceType: value, model: initial });\r\n    };\r\n\r\n    onModelChange = (key, val) => {\r\n        utils.selectOrSet(key, this.state.model, val);\r\n    };\r\n\r\n    toggleShowAdditional = e => {\r\n        this.setState(prevState => ({\r\n            additionalPropertiesOpen: !prevState.additionalPropertiesOpen,\r\n        }));\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        const { initial, onAddDevice, onUpdateDevice } = this.props;\r\n        const { deviceType, model: config } = this.state;\r\n\r\n        if (initial.id) {\r\n            onUpdateDevice(initial.id, deviceType, config);\r\n        } else {\r\n            onAddDevice(deviceType, config);\r\n        }\r\n\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        const { classes, deviceTypes, open, initial } = this.props;\r\n        const { model, additionalPropertiesOpen, deviceType } = this.state;\r\n\r\n        const currentSchema = {\r\n            type: 'object',\r\n            title: 'Configuration',\r\n            properties: {},\r\n            ...(deviceType ? deviceTypes[deviceType].schema : {}),\r\n        };\r\n        let requiredKeys = [];\r\n        let optionalKeys = [];\r\n        if (initial.id) {\r\n            requiredKeys =\r\n                currentSchema.required && currentSchema.required.filter(k => k !== 'name');\r\n            optionalKeys = Object.keys(currentSchema.properties)\r\n                .filter(key => !(requiredKeys && requiredKeys.some(rk => key === rk)))\r\n                .filter(k => k !== 'icon_name')\r\n                .filter(k => k !== 'name');\r\n        } else {\r\n            requiredKeys = currentSchema.required;\r\n            optionalKeys = Object.keys(currentSchema.properties).filter(\r\n                key => !(requiredKeys && requiredKeys.some(rk => key === rk))\r\n            );\r\n        }\r\n\r\n        const showAdditionalUi = optionalKeys.length > 0;\r\n\r\n        return (\r\n            <Dialog\r\n                onClose={this.handleClose}\r\n                className={classes.cardResponsive}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                disableBackdropClick\r\n                open={open}\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {initial.id ? 'Edit Device' : 'Add Device'}\r\n                </DialogTitle>\r\n                <DialogContent className={classes.cardResponsive}>\r\n                    <DialogContentText>\r\n                        {initial.id\r\n                            ? ` Edit your device configuration.`\r\n                            : ` To add a device to LedFx, please first select the type of device you wish to\r\n                                add then provide the necessary configuration.`}\r\n                    </DialogContentText>\r\n\r\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\r\n                        <DropDown\r\n                            label=\"Type\"\r\n                            value={deviceType}\r\n                            options={Object.keys(deviceTypes).map(key => ({\r\n                                value: key,\r\n                                display: key,\r\n                            }))}\r\n                            onChange={this.handleTypeChange}\r\n                        />\r\n\r\n                        <SchemaForm\r\n                            className={classes.schemaForm}\r\n                            schema={currentSchema}\r\n                            form={requiredKeys}\r\n                            model={model}\r\n                            onModelChange={this.onModelChange}\r\n                        />\r\n\r\n                        {showAdditionalUi && (\r\n                            <>\r\n\r\n                                <AdditionalProperties\r\n                                    schema={currentSchema}\r\n                                    form={optionalKeys}\r\n                                    model={model}\r\n                                    onChange={this.onModelChange}\r\n                                    open={additionalPropertiesOpen}\r\n                                />\r\n                                <DialogContentText>\r\n                                    {additionalPropertiesOpen &&\r\n                                        'You can choose between 2 sets of icons'}\r\n                                </DialogContentText>\r\n                            </>\r\n                        )}\r\n\r\n                        <DialogActions className={classes.bottomContainer}>\r\n                            {showAdditionalUi && (\r\n                                <Button\r\n                                    size=\"medium\"\r\n                                    className={classes.additionalButton}\r\n                                    onClick={this.toggleShowAdditional}\r\n                                >\r\n                                    <ExpandMoreIcon\r\n                                        color=\"disabled\"\r\n                                        className={clsx({\r\n                                            [classes.expandIcon]: additionalPropertiesOpen,\r\n                                        })}\r\n                                    />\r\n                                    {`Show ${!additionalPropertiesOpen ? 'More' : 'Less'}`}\r\n                                </Button>\r\n                            )}\r\n                            <Box\r\n                                flex={1}\r\n                                display=\"flex\"\r\n                                justifyContent=\"flex-end\"\r\n                                className={classes.actionButtons}\r\n                            >\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    onClick={this.handleCancel}\r\n                                    color=\"primary\"\r\n                                >\r\n                                    {'Cancel'}\r\n                                </Button>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    type=\"submit\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled={!deviceType}\r\n                                >\r\n                                    {'Submit'}\r\n                                </Button>\r\n                            </Box>\r\n                        </DialogActions>\r\n                    </form>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(DeviceConfigDialog);\r\n\r\nDeviceConfigDialog.propTypes = {\r\n    deviceTypes: PropTypes.object,\r\n};\r\n\r\nDeviceConfigDialog.defaultProps = {\r\n    deviceTypes: {},\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm } from 'react-schema-form';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Collapse from '@material-ui/core/Collapse';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    flexWrap: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n}));\r\n\r\nfunction AdditionalProperties({ form, model, schema, onChange, open }) {\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (...args) => {\r\n        if (onChange) {\r\n            onChange(...args);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Collapse in={open}>\r\n            <div className={classes.flexWrap}>\r\n                <SchemaForm\r\n                    className={classes.schemaForm}\r\n                    schema={schema}\r\n                    form={form}\r\n                    model={model}\r\n                    onModelChange={handleChange}\r\n                />\r\n            </div>\r\n        </Collapse>\r\n    );\r\n}\r\n\r\nAdditionalProperties.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    form: PropTypes.array,\r\n    model: PropTypes.object,\r\n    schema: PropTypes.object,\r\n};\r\nAdditionalProperties.defaultProps = {\r\n    classes: '',\r\n    form: [],\r\n    model: {},\r\n    schema: {},\r\n};\r\n\r\nexport default AdditionalProperties;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport clsx from 'clsx';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Box from '@material-ui/core/Box';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\n// import DropDown from 'components/forms/DropDown';\r\nimport AdditionalProperties from './AdditionalProperties';\r\n\r\nconst styles = theme => ({\r\n    form: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n    },\r\n    bottomContainer: {\r\n        flex: 1,\r\n        marginTop: 8,\r\n    },\r\n    actionButtons: {\r\n        '& > *': {\r\n            marginLeft: theme.spacing(2),\r\n        },\r\n    },\r\n    expandIcon: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n});\r\n\r\nclass DisplayConfigDialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            model: {},\r\n            additionalPropertiesOpen: true,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        const { initial } = this.props;\r\n\r\n        this.handleTypeChange(initial.config);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { initial } = this.props;\r\n        if (initial !== prevProps.initial) {\r\n            this.handleTypeChange(initial.config);\r\n        }\r\n    }\r\n    handleTypeChange = (initial = {}) => {\r\n        this.setState({ model: initial });\r\n    };\r\n    toggleShowAdditional = e => {\r\n        this.setState(prevState => ({\r\n            additionalPropertiesOpen: !prevState.additionalPropertiesOpen,\r\n        }));\r\n    };\r\n    onModelChange = (key, val) => {\r\n        utils.selectOrSet(key, this.state.model, val);\r\n    };\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        const { initial, onAddDisplay, onUpdateDisplay } = this.props;\r\n        const { model: config } = this.state;\r\n\r\n        if (initial.id) {\r\n            onUpdateDisplay(initial.id, config);\r\n        } else {\r\n            onAddDisplay({ config });\r\n        }\r\n        // alert(\"NOT YET BROO\")\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        const { classes, open, displays, initial } = this.props;\r\n        const { model, additionalPropertiesOpen } = this.state;\r\n\r\n        const currentSchema = {\r\n            type: 'object',\r\n            title: 'Configuration',\r\n            properties: {},\r\n            ...(displays ? displays.schema : {}),\r\n        };\r\n\r\n        const requiredKeys = currentSchema.required;\r\n        const optionalKeys = Object.keys(currentSchema.properties).filter(\r\n            key => !(requiredKeys && requiredKeys.some(rk => key === rk))\r\n        );\r\n        const showAdditionalUi = optionalKeys.length > 0;\r\n\r\n        return (\r\n            <Dialog\r\n                onClose={this.handleClose}\r\n                className={classes.cardResponsive}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                disableBackdropClick\r\n                open={open}\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {initial.id ? 'Edit Device Settings' : 'Add Virtual Device'}\r\n                </DialogTitle>\r\n                <DialogContent className={classes.cardResponsive}>\r\n                    <DialogContentText>\r\n                        {initial.id\r\n                            ? ` Inside Virtual-Devices, you can split devices into segments and merge\r\n                             several segments over several devices into one VirtualDevice.`\r\n                            : ` Inside Virtual-Devices, you can split devices into segments and merge\r\n                             several segments over several devices into one VirtualDevice.`}\r\n                    </DialogContentText>\r\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\r\n                        <SchemaForm\r\n                            className={classes.schemaForm}\r\n                            schema={currentSchema}\r\n                            form={requiredKeys}\r\n                            model={model}\r\n                            onModelChange={this.onModelChange}\r\n                        />\r\n\r\n                        {showAdditionalUi && (\r\n                            <AdditionalProperties\r\n                                schema={currentSchema}\r\n                                form={optionalKeys}\r\n                                model={model}\r\n                                onChange={this.onModelChange}\r\n                                open={additionalPropertiesOpen}\r\n                            />\r\n                        )}\r\n\r\n                        <DialogActions className={classes.bottomContainer}>\r\n                            <Box\r\n                                flex={1}\r\n                                display=\"flex\"\r\n                                justifyContent=\"flex-end\"\r\n                                className={classes.actionButtons}\r\n                            >\r\n                                {showAdditionalUi && (\r\n                                    <Button\r\n                                        size=\"medium\"\r\n                                        className={classes.additionalButton}\r\n                                        onClick={this.toggleShowAdditional}\r\n                                    >\r\n                                        <ExpandMoreIcon\r\n                                            color=\"disabled\"\r\n                                            className={clsx({\r\n                                                [classes.expandIcon]: additionalPropertiesOpen,\r\n                                            })}\r\n                                        />\r\n                                        {`Show ${!additionalPropertiesOpen ? 'More' : 'Less'}`}\r\n                                    </Button>\r\n                                )}\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    onClick={this.handleCancel}\r\n                                    color=\"primary\"\r\n                                >\r\n                                    {'Cancel'}\r\n                                </Button>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    type=\"submit\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                >\r\n                                    {'Submit'}\r\n                                </Button>\r\n                            </Box>\r\n                        </DialogActions>\r\n                    </form>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(DisplayConfigDialog);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport DisplaysTable from 'components/DisplaysTable';\r\nimport DeviceConfigDialog from 'components/DeviceConfigDialog';\r\nimport DisplayConfigDialog from 'components/DisplayConfigDialog';\r\nimport { addDevice, updateDeviceConfig, fetchDeviceList, findWLEDDevices } from 'modules/devices';\r\nimport { deleteDisplay, fetchDisplayList, addDisplay } from 'modules/displays';\r\nimport { updateDisplay } from 'proxies/display';\r\n\r\nconst styles = theme => ({\r\n    cardResponsive: {\r\n        width: '100%',\r\n        overflowX: 'auto',\r\n    },\r\n    button: {\r\n        size: 'large',\r\n        margin: theme.spacing(1),\r\n    },\r\n    dialogButton: {\r\n        float: 'right',\r\n    },\r\n    buttonWrapper: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        '@media (max-width: 540px)': {\r\n            flexDirection: 'column',\r\n            alignItems: 'stretch',\r\n        },\r\n    },\r\n});\r\n\r\nclass DevicesView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            addDialogOpened: false,\r\n            addDisplayOpened: false,\r\n            selectedDevice: {},\r\n            selectedDisplay: {},\r\n            searchDevicesLoading: false,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        const { fetchDeviceList, fetchDisplayList } = this.props;\r\n        fetchDeviceList();\r\n\r\n        fetchDisplayList();\r\n    }\r\n\r\n    openAddDeviceDialog = () => {\r\n        this.setState({ selectedDevice: {}, addDialogOpened: true });\r\n    };\r\n    openAddDisplayDialog = () => {\r\n        this.setState({ selectedDisplay: {}, addDisplayOpened: true });\r\n    };\r\n\r\n    closeAddDeviceDialog = () => {\r\n        this.setState({ selectedDevice: {}, addDialogOpened: false });\r\n    };\r\n    closeAddDisplayDialog = () => {\r\n        this.setState({ selectedDisplay: {}, addDisplayOpened: false });\r\n    };\r\n\r\n    handleEditDevice = device => {\r\n        this.setState({ selectedDevice: device, addDialogOpened: true });\r\n    };\r\n    handleEditDisplay = display => {\r\n        this.setState({ selectedDisplay: display, addDisplayOpened: true });\r\n    };\r\n    handleFindDevices = () => {\r\n        const { findWLEDDevices } = this.props;\r\n        this.setState({ searchDevicesLoading: true });\r\n        new Promise((resolve, reject) => {\r\n            findWLEDDevices({ resolve, reject });\r\n        }).then(() => {\r\n            this.setState({ searchDevicesLoading: false });\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            deviceList,\r\n            displayList,\r\n            deleteDisplay,\r\n            schemas,\r\n            addDevice,\r\n            addDisplay,\r\n            updateDeviceConfig,\r\n            scanProgress,\r\n        } = this.props;\r\n        const { addDialogOpened, selectedDevice } = this.state;\r\n        const { addDisplayOpened, selectedDisplay } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12}>\r\n                        <Card>\r\n                            <CardContent>\r\n                                <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\r\n                                    <Grid item xs=\"auto\">\r\n                                        <Typography variant=\"h5\">Devices</Typography>\r\n                                        <Typography\r\n                                            variant=\"body1\"\r\n                                            color=\"textSecondary\"\r\n                                        ></Typography>\r\n                                    </Grid>\r\n                                    {!schemas.isLoading && (\r\n                                        <>\r\n                                            <Grid item>\r\n                                                <Box className={classes.buttonWrapper}>\r\n                                                    {this.state.searchDevicesLoading && (\r\n                                                        <CircularProgress\r\n                                                            variant=\"determinate\"\r\n                                                            value={scanProgress * 10}\r\n                                                            size={35}\r\n                                                        />\r\n                                                    )}\r\n\r\n                                                    <Tooltip\r\n                                                        title={\r\n                                                            <ul style={{ padding: '0.5rem' }}>\r\n                                                                <li>\r\n                                                                    Ensure WLED Devices are on and\r\n                                                                    connected to your WiFi.\r\n                                                                </li>\r\n                                                                <li>\r\n                                                                    If not detected, check WLED\r\n                                                                    device mDNS setting. Go to:\r\n                                                                </li>\r\n                                                                <li>\r\n                                                                    WLED device ip - Config - WiFi\r\n                                                                    Setup - mDNS Address{' '}\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                        }\r\n                                                        interactive\r\n                                                        arrow\r\n                                                    >\r\n                                                        <Button\r\n                                                            variant=\"contained\"\r\n                                                            color=\"primary\"\r\n                                                            aria-label=\"Scan\"\r\n                                                            disabled={\r\n                                                                this.state.searchDevicesLoading\r\n                                                            }\r\n                                                            className={classes.button}\r\n                                                            onClick={this.handleFindDevices}\r\n                                                            endIcon={<WifiTetheringIcon />}\r\n                                                        >\r\n                                                            Find WLED Devices\r\n                                                        </Button>\r\n                                                    </Tooltip>\r\n                                                    <Tooltip\r\n                                                        title={\r\n                                                            <ul style={{ padding: '0.5rem' }}>\r\n                                                                <li>\r\n                                                                    A virtual device lets you\r\n                                                                    control the mapping of an effect\r\n                                                                    onto devices. You can:\r\n                                                                </li>\r\n                                                                <li>\r\n                                                                    Split a device to show multiple\r\n                                                                    effects\r\n                                                                </li>\r\n                                                                <li>\r\n                                                                    Combine devices to show a single\r\n                                                                    effect\r\n                                                                </li>\r\n                                                                <li>\r\n                                                                    Or any combination of the two!\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                        }\r\n                                                        interactive\r\n                                                        arrow\r\n                                                    >\r\n                                                        <Button\r\n                                                            variant=\"contained\"\r\n                                                            color=\"primary\"\r\n                                                            aria-label=\"Scan\"\r\n                                                            className={classes.button}\r\n                                                            onClick={this.openAddDisplayDialog}\r\n                                                            endIcon={<AddCircleIcon />}\r\n                                                        >\r\n                                                            Add Virtual Device\r\n                                                        </Button>\r\n                                                    </Tooltip>\r\n                                                    <Button\r\n                                                        variant=\"contained\"\r\n                                                        color=\"primary\"\r\n                                                        aria-label=\"Add\"\r\n                                                        className={classes.button}\r\n                                                        onClick={this.openAddDeviceDialog}\r\n                                                        endIcon={<AddCircleIcon />}\r\n                                                    >\r\n                                                        Add Device\r\n                                                    </Button>\r\n                                                    <DeviceConfigDialog\r\n                                                        open={addDialogOpened}\r\n                                                        onClose={this.closeAddDeviceDialog}\r\n                                                        deviceTypes={schemas.deviceTypes}\r\n                                                        onAddDevice={addDevice}\r\n                                                        initial={selectedDevice}\r\n                                                        onUpdateDevice={updateDeviceConfig}\r\n                                                    />\r\n                                                    <DisplayConfigDialog\r\n                                                        open={addDisplayOpened}\r\n                                                        displays={schemas.displays}\r\n                                                        onClose={this.closeAddDisplayDialog}\r\n                                                        onAddDisplay={addDisplay}\r\n                                                        initial={selectedDisplay}\r\n                                                        onUpdateDisplay={updateDisplay}\r\n                                                    />\r\n                                                </Box>\r\n                                            </Grid>\r\n                                        </>\r\n                                    )}\r\n                                </Grid>\r\n\r\n                                <DisplaysTable\r\n                                    items={displayList}\r\n                                    deviceList={deviceList}\r\n                                    onEditDevice={this.handleEditDevice}\r\n                                    onDeleteDisplay={deleteDisplay}\r\n                                    onEditDisplay={this.handleEditDisplay}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        deviceList: state.devices.list,\r\n        displayList: state.displays.list || [],\r\n        schemas: state.schemas,\r\n        scanProgress: state.devices.scanProgress,\r\n    }),\r\n    {\r\n        addDevice,\r\n        addDisplay,\r\n        deleteDisplay,\r\n        updateDeviceConfig,\r\n        fetchDeviceList,\r\n        findWLEDDevices,\r\n        fetchDisplayList,\r\n    }\r\n)(withStyles(styles)(DevicesView));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nconst SceneConfigTable = ({ devices }) => (\r\n    <Table>\r\n        <TableHead>\r\n            <TableRow>\r\n                <TableCell>Device</TableCell>\r\n                <TableCell>Effect</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        <TableBody>{renderRows(devices)}</TableBody>\r\n    </Table>\r\n);\r\n\r\nconst renderRows = devices =>\r\n    Object.keys(devices)\r\n        .filter(id => !!devices[id].type)\r\n        .map(id => (\r\n            <TableRow key={id}>\r\n                <TableCell>{id}</TableCell>\r\n                <TableCell>{devices[id].type}</TableCell>\r\n            </TableRow>\r\n        ));\r\n\r\nSceneConfigTable.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    devices: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default SceneConfigTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nimport SceneConfigTable from 'components/SceneCard/SceneConfigTable';\r\nimport PopoverSure from 'components/PopoverSure';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    deleteButton: {\r\n        margin: theme.spacing(1),\r\n        size: 'medium',\r\n    },\r\n    button: {\r\n        color: 'primary',\r\n        margin: theme.spacing(1),\r\n        size: 'medium',\r\n        variant: 'contained',\r\n    },\r\n    submitControls: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n    },\r\n}));\r\n\r\nexport default function SceneCard({ scene, activateScene, deleteScene }) {\r\n    const classes = useStyles();\r\n\r\n    const handleActivate = () => {\r\n        activateScene(scene.id);\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        deleteScene(scene.id);\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title={scene.name} />\r\n            <CardContent>\r\n                {scene.devices && <SceneConfigTable classes={classes} devices={scene.devices} />}\r\n            </CardContent>\r\n            <CardActions className={classes.submitControls}>\r\n                <PopoverSure onConfirm={handleDelete} label=\"delete\" size=\"medium\" />\r\n                <Button\r\n                    className={classes.button}\r\n                    aria-label=\"Activate\"\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    onClick={handleActivate}\r\n                    endIcon={<CheckCircleIcon />}\r\n                >\r\n                    Activate\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n\r\nSceneCard.propTypes = {\r\n    scene: PropTypes.object.isRequired,\r\n    deleteScene: PropTypes.func.isRequired,\r\n    activateScene: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport ScenesCard from 'components/SceneCard';\r\nimport AddSceneCard from 'components/AddSceneCard';\r\nimport { getScenes, addScene, activateScene, deleteScene } from 'modules/scenes';\r\nimport { fetchDisplayList } from 'modules/displays';\r\n\r\nconst styles = theme => ({\r\n    cardResponsive: {\r\n        width: '100%',\r\n        overflowX: 'auto',\r\n    },\r\n    button: {\r\n        position: 'absolute',\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2),\r\n    },\r\n    dialogButton: {\r\n        float: 'right',\r\n    },\r\n    spinnerContainer: {\r\n        height: '10rem',\r\n    },\r\n});\r\n\r\nclass ScenesView extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getScenes();\r\n        this.props.fetchDisplayList();\r\n    }\r\n\r\n    handleAddScene = name => {\r\n        const { addScene } = this.props;\r\n        addScene(name);\r\n    };\r\n\r\n    render() {\r\n        const { scenes, classes, deleteScene, activateScene } = this.props;\r\n\r\n        return (\r\n            <Grid container direction=\"row\" spacing={4}>\r\n                <Grid item xs={12}>\r\n                    <AddSceneCard scenes={scenes} addScene={this.handleAddScene} />\r\n                </Grid>\r\n                {scenes.isLoading ? (\r\n                    <Grid\r\n                        container\r\n                        justify=\"center\"\r\n                        alignContent=\"center\"\r\n                        className={classes.spinnerContainer}\r\n                    >\r\n                        <CircularProgress size={80} />\r\n                    </Grid>\r\n                ) : (\r\n                    scenes.list.map(scene => (\r\n                        <Grid key={scene.name} item xs={12} md={4}>\r\n                            <ScenesCard\r\n                                key={scene.id}\r\n                                scene={scene}\r\n                                deleteScene={deleteScene}\r\n                                activateScene={activateScene}\r\n                            />\r\n                        </Grid>\r\n                    ))\r\n                )}\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        scenes: state.scenes,\r\n    }),\r\n    { getScenes, addScene, activateScene, deleteScene, fetchDisplayList }\r\n)(withStyles(styles)(ScenesView));\r\n","import React from 'react';\r\nimport {ComposedComponent} from 'react-schema-form';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Box from '@material-ui/core/Box';\r\nimport debounce from 'debounce';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        margin: theme.spacing(1),\r\n        padding: theme.spacing(1),\r\n        width: '100%',\r\n        flex: '1 0 30%',\r\n    },\r\n    valueLabel: {\r\n        transformOrigin: 'top right',\r\n    }\r\n}));\r\n\r\nfunction valuetext(value) {\r\n    return value.toString();\r\n}\r\n\r\nconst SliderComponent = props => {\r\n    const {\r\n        form: { schema },\r\n        value,\r\n        onChangeValidate,\r\n    } = props;\r\n\r\n    const debouncedOnChangeHandler = debounce(onChangeValidate, 200)\r\n\r\n    const onChange = (e, newValue) => {\r\n        debouncedOnChangeHandler(newValue);\r\n    };\r\n\r\n    const classes = useStyles();\r\n\r\n    const marks = [\r\n        {\r\n            value: schema.minimum,\r\n            label: schema.minimum,\r\n        },\r\n        {\r\n            value: schema.maximum,\r\n            label: schema.maximum,\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Box display=\"flex\" justifyContent=\"space-between\">\r\n                <InputLabel id=\"discrete-slider\" shrink>\r\n                    {schema.title}\r\n                </InputLabel>\r\n                <InputLabel shrink className={classes.valueLabel}>\r\n                    {value}\r\n                </InputLabel>\r\n            </Box>\r\n            <Slider\r\n                defaultValue={schema.default}\r\n                getAriaValueText={valuetext}\r\n                aria-labelledby=\"discrete-slider\"\r\n                step={0.001}\r\n                marks={marks}\r\n                valueLabelDisplay=\"auto\"\r\n                min={schema.minimum}\r\n                max={schema.maximum}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n// export default SliderComponent;\r\nexport default ComposedComponent(SliderComponent);\r\n","import React from 'react';\r\n// import  {NumberField as DefaultNumberField} from 'react-schema-form/core';\r\n\r\nimport Slider from './customFields/Slider';\r\n\r\nconst mapper = {\r\n    number: props => {\r\n        const {\r\n            form: {\r\n                schema\r\n            },\r\n        } = props;\r\n\r\n        if (schema.minimum !== undefined && schema.maximum !== undefined) {\r\n            return <Slider {...props} />;\r\n        }\r\n\r\n        return <div {...props}/>\r\n    },\r\n};\r\n\r\nexport default mapper;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CasinoIcon from '@material-ui/icons/Casino';\r\n\r\nimport DropDown from 'components/forms/DropDown';\r\nimport mapper from 'components/SchemaForm/mapper';\r\n\r\nconst styles = theme => ({\r\n    form: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n    },\r\n    bottomContainer: {\r\n        flex: 1,\r\n        marginTop: 8,\r\n    },\r\n    actionButtons: {\r\n        '& > *': {\r\n            marginLeft: theme.spacing(2),\r\n        },\r\n    },\r\n    expandIcon: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n});\r\n\r\nclass DisplayEffectControl extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedType: '',\r\n            model: {},\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { effect } = this.props;\r\n        if (effect.type) {\r\n            this.handleTypeChange(effect?.type, effect.config);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { effect } = this.props;\r\n        if (effect.type !== prevProps.effect.type || effect?.config !== prevProps.effect?.config) {\r\n            this.handleTypeChange(effect.type, effect.config);\r\n        }\r\n    }\r\n\r\n    handleTypeChange = (value = '', initial = {}) => {\r\n        const { onTypeChange } = this.props;\r\n        this.setState({ selectedType: value, model: initial });\r\n        if (onTypeChange) {\r\n            onTypeChange(value);\r\n        }\r\n    };\r\n\r\n    onModelChange = (key, val) => {\r\n        const model = utils.selectOrSet(key, this.state.model, val);\r\n        this.setState({ model });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        const { onSubmit, display } = this.props;\r\n        const { selectedType, model } = this.state;\r\n\r\n        e.preventDefault();\r\n        if (onSubmit) {\r\n            onSubmit({ displayId: display.id, type: selectedType, config: model });\r\n        }\r\n    };\r\n\r\n    handleRandomize = e => {\r\n        const { onSubmit, display } = this.props;\r\n        const { selectedType } = this.state;\r\n\r\n        e.preventDefault();\r\n        if (onSubmit) {\r\n            onSubmit({ displayId: display.id, type: selectedType, config: 'RANDOMIZE' });\r\n        }\r\n    };\r\n\r\n    handleClearEffect = () => {\r\n        const { onClear, display } = this.props;\r\n        onClear(display.id);\r\n    };\r\n\r\n    render() {\r\n        const { classes, schemas } = this.props;\r\n        const { model, selectedType } = this.state;\r\n\r\n        const currentSchema = {\r\n            type: 'object',\r\n            title: 'Configuration',\r\n            properties: {},\r\n            ...(selectedType ? schemas.effects[selectedType].schema : {}),\r\n        };\r\n\r\n        const requiredKeys = Object.keys(currentSchema.properties);\r\n\r\n        if (schemas.effects) {\r\n            return (\r\n                <>\r\n                    <Typography variant=\"h5\">Effect Control</Typography>\r\n                    <Typography variant=\"body1\" color=\"textSecondary\">\r\n                        Set and configure effects\r\n                    </Typography>\r\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\r\n                        <DropDown\r\n                            label=\"Type\"\r\n                            value={selectedType}\r\n                            options={Object.keys(schemas?.effects).map(key => ({\r\n                                value: key,\r\n                                display: key,\r\n                            }))}\r\n                            onChange={this.handleTypeChange}\r\n                        />\r\n\r\n                        <SchemaForm\r\n                            className={classes.schemaForm}\r\n                            schema={currentSchema}\r\n                            form={requiredKeys}\r\n                            model={model}\r\n                            onModelChange={this.onModelChange}\r\n                            mapper={mapper}\r\n                        />\r\n\r\n                        <DialogActions className={classes.bottomContainer}>\r\n                            {selectedType && (\r\n                                <Button\r\n                                    onClick={this.handleRandomize}\r\n                                    endIcon={<CasinoIcon />}\r\n                                    color=\"primary\"\r\n                                >\r\n                                    Randomize\r\n                                </Button>\r\n                            )}\r\n                            <Box\r\n                                flex={1}\r\n                                display=\"flex\"\r\n                                justifyContent=\"flex-end\"\r\n                                className={classes.actionButtons}\r\n                            >\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    onClick={this.handleClearEffect}\r\n                                    color=\"primary\"\r\n                                    endIcon={<CancelIcon />}\r\n                                >\r\n                                    Clear Effect\r\n                                </Button>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    type=\"submit\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled={!selectedType}\r\n                                    endIcon={<CheckCircleIcon />}\r\n                                >\r\n                                    Set Effect\r\n                                </Button>\r\n                            </Box>\r\n                        </DialogActions>\r\n                    </form>\r\n                </>\r\n            );\r\n        }\r\n\r\n        return <p>Loading</p>;\r\n    }\r\n}\r\n\r\nDisplayEffectControl.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    schemas: PropTypes.object.isRequired,\r\n    display: PropTypes.object.isRequired,\r\n    effect: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DisplayEffectControl);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { createWebSocket } from 'utils/api/websocket';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst styles = theme => ({\r\n    content: {\r\n        minWidth: 120,\r\n        maxWidth: '100%',\r\n        height: 200,\r\n    },\r\n});\r\n\r\nclass DisplayPixelColorGraph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.ws = undefined;\r\n        this.websocketActive = false;\r\n        this.websocketPacketId = 1;\r\n        this.displayUpdateSubscription = null;\r\n        this.state = this.getChartOptionsForDisplay(props.display);\r\n    }\r\n\r\n    getChartOptionsForDisplay(display) {\r\n        const { pixel_count } = display.config[display.id];\r\n\r\n        return {\r\n            chartData: {\r\n                labels: Array.apply(null, { length: pixel_count }).map(Function.call, Number),\r\n                datasets: [\r\n                    {\r\n                        label: 'Red',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(255,0,0,0.3)',\r\n                        borderColor: 'rgba(255,0,0,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                    {\r\n                        label: 'Green',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,255,0,0.3)',\r\n                        borderColor: 'rgba(0,255,0,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                    {\r\n                        label: 'Blue',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,0,255,0.3)',\r\n                        borderColor: 'rgba(0,0,255,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                ],\r\n            },\r\n            chartOptions: {\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                tooltips: { enabled: false },\r\n                hover: { mode: null, animationDuration: 0 },\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                responsiveAnimationDuration: 0,\r\n                scales: {\r\n                    xAxes: [\r\n                        {\r\n                            gridLines: {\r\n                                display: false,\r\n                            },\r\n                            ticks: {\r\n                                max: pixel_count,\r\n                                min: 0,\r\n                                maxTicksLimit: 7,\r\n                            },\r\n                        },\r\n                    ],\r\n                    yAxes: [\r\n                        {\r\n                            // stacked: true,\r\n                            ticks: {\r\n                                display: false,\r\n                                min: 0,\r\n                                max: 256,\r\n                                stepSize: 64,\r\n                            },\r\n                            gridLines: {\r\n                                display: false,\r\n                                color: 'rgba(0, 0, 0, .125)',\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n                legend: {\r\n                    display: false,\r\n                },\r\n            },\r\n        };\r\n    }\r\n\r\n    handleMessage = e => {\r\n        var messageData = JSON.parse(e.data);\r\n\r\n        // Ensure this message is for the current display. This can happen\r\n        // during transistions between displays where the component stays\r\n        // loaded\r\n        if (messageData.display_id !== this.props.display.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState(({ chartData, chartData: { datasets } }) => ({\r\n            chartData: {\r\n                ...chartData,\r\n                datasets: [\r\n                    { ...datasets[0], data: messageData.pixels[0] },\r\n                    { ...datasets[1], data: messageData.pixels[1] },\r\n                    { ...datasets[2], data: messageData.pixels[2] },\r\n                ],\r\n            },\r\n        }));\r\n    };\r\n\r\n    handleOpen = e => {\r\n        this.enablePixelVisualization(this.props.display);\r\n        this.websocketActive = true;\r\n    };\r\n\r\n    handleClose = e => {\r\n        this.websocketActive = false;\r\n    };\r\n\r\n    enablePixelVisualization = display => {\r\n        if (this.ws) {\r\n            this.ws.json({\r\n                id: this.websocketPacketId,\r\n                type: 'subscribe_event',\r\n                event_type: 'display_update',\r\n                event_filter: { display_id: display.id },\r\n            });\r\n            this.displayUpdateSubscription = this.websocketPacketId;\r\n            this.websocketPacketId++;\r\n        }\r\n    };\r\n\r\n    disablePixelVisualization = () => {\r\n        this.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'unsubscribe_event',\r\n            subscription_id: this.displayUpdateSubscription,\r\n        });\r\n        this.displayUpdateSubscription = null;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    connectWebsocket = () => {\r\n        this.ws = createWebSocket({\r\n            timeout: 5e3,\r\n            maxAttempts: 10,\r\n            onopen: this.handleOpen,\r\n            onmessage: this.handleMessage,\r\n            onclose: this.handleClose,\r\n            onerror: e => console.log('WebSocket Error:', e),\r\n        });\r\n    };\r\n\r\n    disconnectWebsocket = () => {\r\n        if (this.ws !== undefined && this.websocketActive) {\r\n            this.ws.close(1000);\r\n            this.ws = undefined;\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.connectWebsocket();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disconnectWebsocket();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { display } = this.props;\r\n        if (prevProps.display.id !== display.id && this.websocketActive) {\r\n            this.disablePixelVisualization();\r\n            this.enablePixelVisualization(display);\r\n            this.setState(this.getChartOptionsForDisplay(display));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Line data={this.state.chartData} options={this.state.chartOptions} />\r\n            </Box>\r\n        );\r\n    }\r\n}\r\n\r\nDisplayPixelColorGraph.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    display: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DisplayPixelColorGraph);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\n// CONSTANT device categories\r\nexport const DEFAULT_CAT = 'default_presets';\r\nexport const CUSTOM_CAT = 'custom_presets';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        padding: theme.spacing(2),\r\n        paddingBottom: 0,\r\n    },\r\n    presetButton: {\r\n        margin: theme.spacing(1),\r\n        textDecoration: 'none',\r\n    },\r\n    buttonGrid: {\r\n        direction: 'row',\r\n    },\r\n    actions: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        paddingBottom: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst PresetsCard = ({ device, presets, effect, activatePreset, getEffectPresets, addPreset }) => {\r\n    const classes = useStyles();\r\n    const [name, setName] = useState('');\r\n    const isNameValid = validateTextInput(name, presets);\r\n\r\n    useEffect(() => {\r\n        getEffectPresets(effect.type);\r\n    }, [effect.type, getEffectPresets]);\r\n\r\n    const handleActivatePreset = (deviceId, category, type, presetId) => () => {\r\n        activatePreset(deviceId, category, type, presetId);\r\n        setName('');\r\n    };\r\n\r\n    const renderPresetsButton = (list, CATEGORY) => {\r\n        if (!list?.length)\r\n            return (\r\n                <Button className={classes.presetButton} disabled>\r\n                    No Saved Presets\r\n                </Button>\r\n            );\r\n        return list.map(preset => {\r\n            return (\r\n                <Grid item key={preset.id}>\r\n                    <Button\r\n                        className={classes.presetButton}\r\n                        onClick={handleActivatePreset(\r\n                            device.id,\r\n                            CATEGORY,\r\n                            presets.effectType,\r\n                            preset.id\r\n                        )}\r\n                    >\r\n                        {preset.name}\r\n                    </Button>\r\n                </Grid>\r\n            );\r\n        });\r\n    };\r\n\r\n    const handleAddPreset = () => {\r\n        addPreset(device.id, name);\r\n    };\r\n\r\n    return (\r\n        <Card variant=\"outlined\">\r\n            <CardHeader title=\"Presets\" subheader=\"Explore different effect configurations\" />\r\n            <CardContent className={classes.content}>\r\n                <Typography variant=\"subtitle2\">LedFx Presets</Typography>\r\n                <Grid container className={classes.buttonGrid}>\r\n                    {renderPresetsButton(presets?.defaultPresets, DEFAULT_CAT)}\r\n                </Grid>\r\n                <Typography variant=\"subtitle2\">My Presets</Typography>\r\n                <Grid container className={classes.buttonGrid}>\r\n                    {renderPresetsButton(presets?.customPresets, CUSTOM_CAT)}\r\n                </Grid>\r\n                <Typography variant=\"h6\">Add Preset</Typography>\r\n                <Typography variant=\"body1\" color=\"textSecondary\">\r\n                    Save this effect configuration as a preset\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions className={classes.actions}>\r\n                <TextField\r\n                    error={!isNameValid}\r\n                    id=\"presetNameInput\"\r\n                    label=\"Preset Name\"\r\n                    onChange={e => setName(e.target.value)}\r\n                />\r\n                <Button\r\n                    className={classes.presetButton}\r\n                    color=\"primary\"\r\n                    aria-label=\"Save Preset\"\r\n                    disabled={name.length === 0 || !isNameValid}\r\n                    variant=\"contained\"\r\n                    onClick={handleAddPreset}\r\n                    endIcon={<SaveIcon />}\r\n                >\r\n                    Save Preset\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst validateTextInput = (input, presets) => {\r\n    const used = presets.customPresets.concat(presets.defaultPresets);\r\n    return !used.some(p => p.name === input);\r\n};\r\n\r\nexport default PresetsCard;\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n// import EffectControlBlade from 'components/EffectControl/blade';\r\n\r\nconst MoreInfo = ({ display }) => {\r\n    return (\r\n        <>\r\n            {' '}\r\n            {/* {parseInt(window.localStorage.getItem('BladeMod')) > 2 && (\r\n            <Grid item xs={12} lg={6}>\r\n                <Card>\r\n                    <CardContent>\r\n                        <EffectControlBlade\r\n                            display={display}\r\n                            effect={effect}\r\n                            schemas={schemas}\r\n                            onClear={handleClearEffect}\r\n                            onSubmit={handleSetEffect}\r\n                            onTypeChange={handleTypeChange}\r\n                        />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n        )} */}\r\n            <Grid item xs={6} lg={6}>\r\n                <Card>\r\n                    <CardContent>\r\n                        <Typography variant=\"h5\">Display Config</Typography>\r\n                        <Typography variant=\"subtitle1\">\r\n                            Total Pixels: {display.config[display.id].pixel_count}\r\n                        </Typography>\r\n                        <br />\r\n                        <Typography variant=\"caption\">\r\n                            Active: {JSON.stringify(display.config[display.id].active)}\r\n                            <br />\r\n                            Center Offset: {display.config[display.id].config.center_offset}\r\n                            <br />\r\n                            Crossfade: {display.config[display.id].config.crossfade}\r\n                            <br />\r\n                            Max Brightness: {display.config[display.id].config.max_brightness * 100 + '%'}\r\n                            <br />\r\n                            Preview only:{' '}\r\n                            {JSON.stringify(display.config[display.id].config.preview_only)}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n            <Grid item xs={6} lg={6}>\r\n                <Card>\r\n                    <CardContent>\r\n                        <Typography variant=\"h5\">Display Segments</Typography>\r\n                        <Typography variant=\"subtitle1\">\r\n                            Segments: {display.config[display.id].segments.length}\r\n                        </Typography>\r\n                        <br />\r\n                        {display.config[display.id].segments.map((s, i) => (\r\n                            <li key={i}>{s.join(',')}</li>\r\n                        ))}\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MoreInfo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport { loadDisplayInfo, setDisplayEffect, clearDisplayEffect } from 'modules/selectedDisplay';\r\nimport { activatePreset, getEffectPresets, addPreset } from 'modules/presets';\r\nimport DisplayEffectControl from 'components/EffectControl/DisplayEffectControl';\r\nimport DisplayPixelColorGraph from 'components/PixelColorGraph/DisplayPixelColorGraph';\r\nimport PixelColorGraph from 'components/PixelColorGraph';\r\nimport PresetsCard from 'components/PresetsCard';\r\nimport { fetchDisplayList } from 'modules/displays';\r\nimport { fetchDeviceList } from 'modules/devices';\r\nimport MoreInfo from './MoreInfo';\r\n\r\nconst DisplayView = ({\r\n    match: {\r\n        params: { displayId },\r\n    },\r\n}) => {\r\n    const schemas = useSelector(state => state.schemas);\r\n    const selectedDisplay = useSelector(state => state.selectedDisplay);\r\n    const { display, effect, isDisplayLoading } = selectedDisplay;\r\n    const presets = useSelector(state => state.presets);\r\n    const devices = useSelector(state => state.devices.list);\r\n    const deviceId = display && display.config[display.id].is_device;\r\n    const device = devices.find(d => d.id === deviceId);\r\n    const dispatch = useDispatch();\r\n    const [dispId, setDispId] = useState();\r\n\r\n    useEffect(() => {\r\n        if (displayId !== dispId) {\r\n            dispatch(loadDisplayInfo(displayId));\r\n            setDispId(displayId);\r\n        }\r\n    }, [displayId, dispId, dispatch]);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchDisplayList());\r\n        dispatch(fetchDeviceList());\r\n    }, [dispatch]);\r\n\r\n    if (schemas.isLoading || isDisplayLoading || !display) {\r\n        return <p>Loading...</p>;\r\n    }\r\n    return (\r\n        <>\r\n            <Grid container direction=\"row\" spacing={4}>\r\n                {renderPixelGraph(display, effect, device)}\r\n                <Grid item xs={12} lg={6}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <DisplayEffectControl\r\n                                display={display}\r\n                                effect={effect}\r\n                                schemas={schemas}\r\n                                onClear={() => dispatch(clearDisplayEffect(displayId))}\r\n                                onSubmit={data => dispatch(setDisplayEffect(data.displayId, data))}\r\n                                onTypeChange={effectType => dispatch(getEffectPresets(effectType))}\r\n                            />\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} lg={6}>\r\n                    {effect.type && (\r\n                        <PresetsCard\r\n                            device={display}\r\n                            presets={presets}\r\n                            effect={effect}\r\n                            activatePreset={() => dispatch(activatePreset)}\r\n                            getEffectPresets={() => dispatch(getEffectPresets)}\r\n                            addPreset={() => dispatch(addPreset)}\r\n                        />\r\n                    )}\r\n                </Grid>\r\n\r\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 && (\r\n                    <MoreInfo display={display} />\r\n                )}\r\n            </Grid>\r\n        </>\r\n    );\r\n};\r\n\r\nconst renderPixelGraph = (display, effect, device) => {\r\n    if (display) {\r\n        return (\r\n            <Grid item xs={12}>\r\n                <Card>\r\n                    <CardContent className={`effect-${!!effect}`}>\r\n                        {device ? (\r\n                            <PixelColorGraph device={device} />\r\n                        ) : (\r\n                            <DisplayPixelColorGraph display={display} />\r\n                        )}\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n        );\r\n    }\r\n};\r\n\r\nexport default DisplayView;\r\n","import React from 'react';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function PopoverNew({\r\n    old,\r\n    onSubmit,\r\n    variant = 'contained',\r\n    userInput = 'name',\r\n    buttonText = 'Add Virtual',\r\n    buttonIcon = <AddCircleIcon />,\r\n    submitIcon = <AddCircleIcon />,\r\n}) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n    const [name, setName] = React.useState('');\r\n    const handleChange = event => {\r\n        setName(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button aria-describedby={id} variant={variant} color=\"primary\" onClick={handleClick}>\r\n                {buttonText}\r\n                {buttonIcon}\r\n            </Button>\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                {' '}\r\n                <div style={{ display: 'flex' }}>\r\n                    <TextField\r\n                        id=\"outlined-basic\"\r\n                        label={userInput}\r\n                        value={name}\r\n                        onChange={handleChange}\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Button\r\n                        aria-describedby={id}\r\n                        variant=\"contained\"\r\n                        style={{ margin: '8px' }}\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                            if (name === 'BladeMod') {\r\n                                window.localStorage.setItem('BladeMod', '1');\r\n                            }\r\n                            onSubmit({ old: old, new: name });\r\n                            setAnchorEl(null);\r\n                        }}\r\n                    >\r\n                        {submitIcon}\r\n                    </Button>\r\n                </div>\r\n            </Popover>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { v1 as uuidv1 } from 'uuid';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);\r\n    const radioGroupRef = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        if (!open) {\r\n            setValue(valueProp);\r\n        }\r\n    }, [valueProp, open]);\r\n\r\n    const handleEntering = () => {\r\n        if (radioGroupRef.current != null) {\r\n            radioGroupRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n    };\r\n\r\n    const handleChange = event => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            onEntering={handleEntering}\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\r\n            <DialogContent dividers>\r\n                <RadioGroup\r\n                    ref={radioGroupRef}\r\n                    aria-label=\"ringtone\"\r\n                    name=\"ringtone\"\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                >\r\n                    {props.deviceList.map(device => (\r\n                        <FormControlLabel\r\n                            value={device.name}\r\n                            key={device.name}\r\n                            control={<Radio />}\r\n                            label={device.name}\r\n                        />\r\n                    ))}\r\n                </RadioGroup>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 435,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ virtual, deviceList, config }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const dispatch = useDispatch();\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n\r\n    const addSegment = data => {\r\n        dispatch({ type: 'virtuals/ADD_SEGMENT', payload: data });\r\n    };\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n        if (newValue) {\r\n            const id = uuidv1();\r\n            const output = { ...deviceList.find(d => d.name === newValue) };\r\n            output['device_key'] = output.key;\r\n            output['id'] = '' + output.key + '_' + id;\r\n            output['key'] = output['id'];\r\n            output['led_start'] = 1;\r\n            output['led_end'] = output.config.pixel_count;\r\n            output['order_number'] = virtuals.find(v => v.name === virtual).items.length;\r\n            output['used_pixel'] = output.config.pixel_count;\r\n            output['invert'] = false;\r\n            output['pixel_density'] = 30;\r\n            addSegment({ virtual: virtual, device: output });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {deviceList.length > 0 ? (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-label=\"Add\"\r\n                        className={classes.button}\r\n                        endIcon={<AddCircleIcon />}\r\n                        onClick={handleClickListItem}\r\n                        role=\"listitem\"\r\n                    >\r\n                        ADD SEGMENT\r\n                    </Button>\r\n\r\n                    <ConfirmationDialogRaw\r\n                        classes={{\r\n                            paper: classes.paper,\r\n                        }}\r\n                        config={config}\r\n                        id=\"ringtone-menu\"\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        value={deviceList[0].name}\r\n                        deviceList={deviceList}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <></>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst PixelSlider = ({ virtual, device }) => {\r\n    const dispatch = useDispatch();\r\n    const virtualsList = useSelector(state => state.virtuals.list);\r\n    const currentVirtual = virtualsList\r\n        .find(reduxItem => reduxItem.name === virtual)\r\n        .items.find(d => d.id === device.id);\r\n    if (!currentVirtual) {\r\n        return <></>;\r\n    }\r\n    const pixelRange = [currentVirtual.led_start, currentVirtual.led_end];\r\n\r\n    const handleChange = (event, newValue) => {\r\n        if (newValue !== pixelRange) {\r\n            dispatch({\r\n                type: 'virtuals/CHANGE_SEGMENT_PXEL',\r\n                payload: { virtual: virtual, device: device.id, newValue: newValue },\r\n            });\r\n        }\r\n    };\r\n\r\n    const marks = [\r\n        { value: 1, label: 1 },\r\n        { value: currentVirtual.config.pixel_count, label: currentVirtual.config.pixel_count },\r\n    ];\r\n\r\n    return (\r\n        <Slider\r\n            value={pixelRange}\r\n            marks={marks}\r\n            min={1}\r\n            max={currentVirtual.config.pixel_count}\r\n            onChange={handleChange}\r\n            aria-labelledby=\"range-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n            style={{ marginBottom: '15px' }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default PixelSlider;\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Popover from '@material-ui/core/Popover'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport CloseIcon from \"@material-ui/icons/Close\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    typography: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}))\r\n\r\nexport default function SimplePopover({ onDeleteVitem, listItem, variant = \"contained\", color = \"secondary\" }) {\r\n    const classes = useStyles()\r\n    const [anchorEl, setAnchorEl] = React.useState(null)\r\n    const handleClick = (event) => { setAnchorEl(event.currentTarget) }\r\n    const handleClose = () => { setAnchorEl(null) }\r\n    const open = Boolean(anchorEl)\r\n    const id = open ? 'simple-popover' : undefined\r\n\r\n    return (\r\n        <div>\r\n            <Button aria-describedby={id} variant={variant} color={color} onClick={handleClick}>\r\n                <DeleteIcon />\r\n            </Button>\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'right',\r\n                }}\r\n            >   <div style={{ display: \"flex\" }}>\r\n                    <Typography className={classes.typography}>Are you sure?</Typography>\r\n                    <Button aria-describedby={id} variant=\"contained\" color=\"primary\" onClick={() => { onDeleteVitem(listItem) }}>\r\n                        <DeleteIcon />\r\n                    </Button>\r\n                    <Button aria-describedby={id} variant=\"contained\" color=\"default\" onClick={() => { setAnchorEl(null) }}>\r\n                        <CloseIcon />\r\n                    </Button>\r\n                </div>\r\n            </Popover>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { ListItemText } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UsedPixels = ({ virtual, device }) => {\r\n  const list = useSelector(state => state.virtuals.list)\r\n  const test = list.find(reduxItem => reduxItem.name === virtual).items.find(d => d.id === device.id)\r\n  const pixels = test && test.used_pixel\r\n  return (\r\n    <ListItemText style={{ flexBasis: \"20%\", flexGrow: 'unset', width: \"20%\", textAlign: 'center' }} secondary={'Used Pixels'} primary={pixels}\r\n    />\r\n  )\r\n}\r\n\r\nexport default UsedPixels\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    ListItem,\r\n    ListItemText,\r\n    ListItemIcon,\r\n    ListItemSecondaryAction,\r\n    Switch,\r\n    TextField,\r\n} from '@material-ui/core';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport FormatLineSpacingIcon from '@material-ui/icons/FormatLineSpacing';\r\nimport PixelSlider from './PixelSlider';\r\nimport PopoverSure from './PopoverSure';\r\nimport UsedPixels from './UsedPixels';\r\n\r\nconst DragDropItem = ({ listItem, virtual, index }) => {\r\n    const dispatch = useDispatch();\r\n    const onDeleteVitem = () => {\r\n        dispatch({\r\n            type: 'virtuals/DELETE_SEGMENT',\r\n            payload: { virtual: virtual, device: listItem },\r\n        });\r\n    };\r\n\r\n    const getItemStyle = (isDragging, draggableStyle) => ({\r\n        // styles we need to apply on draggables\r\n        ...draggableStyle,\r\n        borderTop: '1px dashed grey',\r\n        borderBottom: '1px dashed grey',\r\n        ...(isDragging && {\r\n            background: 'rgb(235,235,235)',\r\n        }),\r\n    });\r\n\r\n    const handleInvert = (virtual, listItem) => {\r\n        dispatch({\r\n            type: 'virtuals/CHANGE_SEGMENT_INVERT',\r\n            payload: { virtual: virtual, device: listItem },\r\n        });\r\n    };\r\n    const handlePixelDensity = (virtual, listItem, newValue) => {\r\n        dispatch({\r\n            type: 'virtuals/CHANGE_SEGMENT_PIXELDENSITY',\r\n            payload: { virtual: virtual, device: listItem, newValue: parseInt(newValue) },\r\n        });\r\n    };\r\n    return (\r\n        <Draggable\r\n            key={`${listItem.id}-${index}`}\r\n            draggableId={listItem.id}\r\n            index={index}\r\n            style={{ border: '2px solid red' }}\r\n        >\r\n            {(provided, snapshot) => (\r\n                <ListItem\r\n                    ContainerComponent=\"li\"\r\n                    ContainerProps={{ ref: provided.innerRef }}\r\n                    {...provided.draggableProps}\r\n                    style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\r\n                >\r\n                    <ListItemIcon {...provided.dragHandleProps}>\r\n                        <FormatLineSpacingIcon color=\"secondary\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                        primary={listItem.name}\r\n                        secondary={listItem.config.ip_address}\r\n                        style={{ flexBasis: '30%', flexGrow: 'unset', width: '30%' }}\r\n                    />\r\n                    <ListItemText style={{ flexBasis: '20%', flexGrow: 'unset', width: '20%' }}>\r\n                        <PixelSlider virtual={virtual} device={listItem} />\r\n                    </ListItemText>\r\n                    <UsedPixels virtual={virtual} device={listItem} />\r\n                    <ListItemText\r\n                        primary={\r\n                            <TextField\r\n                                label=\"\"\r\n                                defaultValue={listItem.pixel_density || 30}\r\n                                style={{\r\n                                    minWidth: 'unset',\r\n                                    maxWidth: '80%',\r\n                                    margin: '0 1em 0 0',\r\n                                    textAlign: 'center',\r\n                                }}\r\n                                inputProps={{ style: { textAlign: 'center' } }}\r\n                                type=\"number\"\r\n                                onChange={e =>\r\n                                    handlePixelDensity(virtual, listItem, e.target.value)\r\n                                }\r\n                            />\r\n                        }\r\n                        secondary={'PixelDensity'}\r\n                        style={{\r\n                            maxWidth: '10%',\r\n                            textAlign: 'center',\r\n                        }}\r\n                    />\r\n                    <ListItemText\r\n                        primary={\r\n                            <Switch\r\n                                color=\"primary\"\r\n                                checked={listItem.invert}\r\n                                onChange={() => handleInvert(virtual, listItem)}\r\n                            />\r\n                        }\r\n                        secondary={'Invert'}\r\n                        style={{ flexGrow: 0, textAlign: 'center' }}\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                        <PopoverSure onDeleteVitem={onDeleteVitem} listItem={listItem} />\r\n                    </ListItemSecondaryAction>\r\n                </ListItem>\r\n            )}\r\n        </Draggable>\r\n    );\r\n};\r\n\r\nexport default DragDropItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { List } from '@material-ui/core';\r\nimport RootRef from '@material-ui/core/RootRef';\r\nimport DragDropItem from './DragDropItem';\r\n\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n};\r\n\r\nconst DragDropContainer = React.memo(function DragDropContainer({\r\n    listItems,\r\n    provided,\r\n    style,\r\n    virtual,\r\n    device,\r\n}) {\r\n    const dispatch = useDispatch();\r\n    const onDeleteVitem = () => {\r\n        dispatch({\r\n            type: 'virtuals/DELETE_SEGMENT',\r\n            payload: { virtual: virtual, device: device },\r\n        });\r\n    };\r\n    return (\r\n        <List style={style}>\r\n            {listItems.map((listItem, index) => (\r\n                <DragDropItem\r\n                    virtual={virtual}\r\n                    listItem={listItem}\r\n                    index={index}\r\n                    key={`${listItem.id}-${index}`}\r\n                    onDeleteVitem={onDeleteVitem}\r\n                    style={{ marginBottom: '5em' }}\r\n                />\r\n            ))}\r\n            {provided.placeholder}\r\n        </List>\r\n    );\r\n});\r\n\r\nexport default function DragDropWrapper({ items, virtual, device, setdeviceListYz }) {\r\n    const [state, setState] = useState({\r\n        listitems: items.sort((a, b) => (a.order_number > b.order_number ? 1 : -1)),\r\n    });\r\n    const dispatch = useDispatch();\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n\r\n    function onDragEnd(result) {\r\n        if (!result.destination) {\r\n            return;\r\n        }\r\n        if (result.destination.index === result.source.index) {\r\n            return;\r\n        }\r\n        const listitems = reorder(state.listitems, result.source.index, result.destination.index);\r\n        listitems.map((item, index) => {\r\n            const [vir] = virtuals\r\n                .map(v => v.items.find(vi => vi.id === item.id))\r\n                .filter(virt => virt !== undefined);\r\n            vir.order_number = index;\r\n            return dispatch({\r\n                type: 'virtuals/CHANGE_SEGMENT_PXEL',\r\n                payload: { virtual: virtual, device: { id: vir.id }, newValue: vir },\r\n            });\r\n        });\r\n        setState({ listitems });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setState({ listitems: items });\r\n    }, [items]);\r\n\r\n    return (\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId=\"list\">\r\n                {(provided, snapshot) => (\r\n                    <RootRef rootRef={provided.innerRef}>\r\n                        <DragDropContainer\r\n                            listItems={state.listitems}\r\n                            provided={provided}\r\n                            virtual={virtual.name}\r\n                            device={device}\r\n                            setdeviceListYz={setdeviceListYz}\r\n                        />\r\n                    </RootRef>\r\n                )}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PopoverNew from 'components/VirtualComponents/PopoverNew';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport AddSegmentDialog from 'components/VirtualComponents/DialogAddSegment';\r\nimport VirtualComponents from 'components/VirtualComponents';\r\nimport PopoverSure from './PopoverSure';\r\n\r\nfunction Virtual({ v, setSnackbarState }) {\r\n    const dispatch = useDispatch();\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n    const deviceList = useSelector(state => state.devices.list);\r\n    const allPixels = virtuals\r\n        .filter(vi => vi.name === v.name)\r\n        .map(\r\n            vir =>\r\n                vir.items &&\r\n                vir.items.length > 0 &&\r\n                vir.items.map(d => d.led_end - d.led_start + 1).reduce((sum, part) => sum + part)\r\n        )[0];\r\n\r\n    const deleteVirtual = virtual => {\r\n        dispatch({ type: 'virtuals/VIRTUAL_DELETE', payload: virtual });\r\n    };\r\n    const changeNameVirtual = newName => {\r\n        if (virtuals.find(e => e.name === newName.new)) {\r\n            setSnackbarState({\r\n                open: true,\r\n                message: 'Name already existing! Please choose a different one.',\r\n                type: 'warning',\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: 'virtuals/VIRTUAL_RENAME',\r\n                payload: { old: newName.old, new: newName.new },\r\n            });\r\n            setSnackbarState({ open: true, message: 'Virtual Device renamed', type: 'success' });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card style={{ marginBottom: '2em' }}>\r\n            <CardContent>\r\n                <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\r\n                    <Grid item xs=\"auto\" style={{ display: 'flex' }}>\r\n                        <Typography variant=\"h5\">{v.name}</Typography>\r\n                        <PopoverNew\r\n                            old={v.name}\r\n                            buttonText=\"\"\r\n                            onSubmit={changeNameVirtual}\r\n                            variant=\"text\"\r\n                            buttonIcon={<EditIcon />}\r\n                            submitIcon={<CheckIcon />}\r\n                        />\r\n                        <PopoverSure\r\n                            onDeleteVitem={() => deleteVirtual(v.name)}\r\n                            color=\"primary\"\r\n                            variant=\"text\"\r\n                            listItem={v.name}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs=\"auto\">\r\n                        <Typography variant=\"body1\" color=\"textSecondary\">\r\n                            Total Pixels: {allPixels}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <AddSegmentDialog deviceList={deviceList} virtual={v.name} />\r\n                    </Grid>\r\n                </Grid>\r\n                {v.items && v.items.length > 0 && <VirtualComponents items={v.items} virtual={v} />}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default Virtual;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport PopoverNew from 'components/VirtualComponents/PopoverNew';\r\nimport Virtual from 'components/VirtualComponents/Virtual';\r\nimport { fetchDeviceList } from 'modules/devices';\r\nimport { getAsyncVirtuals } from 'modules/virtuals';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport * as virtualsProxies from 'proxies/virtuals';\r\nimport { fetchDisplayList } from 'modules/displays';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst VirtualsView = () => {\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n    const dispatch = useDispatch();\r\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\r\n\r\n    const addNewVirtual = newName => {\r\n        if (virtuals.find(e => e.name === newName.new)) {\r\n            setSnackbarState({\r\n                ...snackbarState,\r\n                open: true,\r\n                message: 'Name already existing! Please choose a different one.',\r\n                type: 'warning',\r\n            });\r\n        } else {\r\n            dispatch({ type: 'virtuals/VIRTUAL_ADD', payload: newName });\r\n            setSnackbarState({\r\n                ...snackbarState,\r\n                open: true,\r\n                message: 'Virtual Device added',\r\n                type: 'success',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setSnackbarState({ ...snackbarState, open: false });\r\n    };\r\n    useEffect(() => {\r\n        dispatch(fetchDeviceList());\r\n        dispatch(fetchDisplayList());\r\n        dispatch(getAsyncVirtuals());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12} md={12}>\r\n                {virtuals.map((v, i) => (\r\n                    <Virtual v={v} key={i} setSnackbarState={setSnackbarState} />\r\n                ))}\r\n                <div style={{ display: 'flex', marginTop: '1em', justifyContent: 'space-between' }}>\r\n                    <PopoverNew onSubmit={addNewVirtual} />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        style={{ margin: '8px' }}\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                            virtualsProxies.setVirtuals({ virtuals: { list: virtuals } });\r\n                        }}\r\n                    >\r\n                        Save\r\n                        <SaveIcon style={{ marginLeft: '0.5em' }} />\r\n                    </Button>\r\n                </div>\r\n            </Grid>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                autoHideDuration={1000 + snackbarState.message.length * 60}\r\n                open={snackbarState.open}\r\n                onClose={handleClose}\r\n                key={'bottomcenter'}\r\n            >\r\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\r\n            </Snackbar>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default VirtualsView;\r\n","import { api } from 'utils/api';\r\n\r\nexport function getVirtuals() {\r\n    return api.get('/virtuals');\r\n}\r\nexport function setVirtuals({ virtuals }) {\r\n    return api.post('/virtuals', { virtuals: virtuals });\r\n}\r\n\r\n// export function deleteVirtuals(id) {\r\n//     return api.delete('/virtuals', { data: { id } });\r\n// }\r\n\r\n// export function activateVirtuals(id) {\r\n//     return api.put('/virtuals', {\r\n//         id,\r\n//         action: 'activate',\r\n//     });\r\n// }\r\n// export function renameScene({ id, virtual }) {\r\n//     return api.put('/virtuals', {\r\n//         action: 'rename',\r\n//         id,\r\n//         virtual,\r\n//     });\r\n// }\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useSelector } from 'react-redux';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport * as integrationsProxies from 'proxies/integrations';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);\r\n    const radioGroupRef = React.useRef(null);\r\n    const integrationTypes = useSelector(state => state.schemas.integrationTypes || {});\r\n    const integration = props.integration;\r\n    const [model] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        if (!open) {\r\n            setValue(valueProp);\r\n        }\r\n    }, [valueProp, open]);\r\n\r\n    const handleEntering = () => {\r\n        if (radioGroupRef.current != null) {\r\n            radioGroupRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n        integrationsProxies.createIntegration({ config: model, type: 'qlc' });\r\n        window.location = window.location.href;\r\n    };\r\n\r\n    // const handleChange = event => {\r\n    //     // setValue(event.target.value);\r\n    // };\r\n    const onModelChange = (key, val) => {\r\n        utils.selectOrSet(key, model, val);\r\n\r\n        // setModel(val);\r\n    };\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            onEntering={handleEntering}\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">\r\n                {integrationTypes[integration].name} Integration Setup\r\n            </DialogTitle>\r\n            <DialogContent dividers>\r\n                <SchemaForm\r\n                    // className={classes.schemaForm}\r\n                    schema={{\r\n                        type: 'object',\r\n                        title: 'Configuration',\r\n                        properties: {},\r\n                        ...(integrationTypes ? integrationTypes[integration].schema : {}),\r\n                    }}\r\n                    form={\r\n                        integrationTypes[integration] &&\r\n                        integrationTypes[integration].schema.required\r\n                    }\r\n                    model={model}\r\n                    onModelChange={onModelChange}\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 535,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ virtual, deviceList, config, integration }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    aria-label=\"Add\"\r\n                    className={classes.button}\r\n                    endIcon={<AddCircleIcon />}\r\n                    onClick={handleClickListItem}\r\n                    role=\"listitem\"\r\n                >\r\n                    ADD\r\n                </Button>\r\n\r\n                <ConfirmationDialogRaw\r\n                    classes={{\r\n                        paper: classes.paper,\r\n                    }}\r\n                    config={config}\r\n                    id=\"ringtone-menu\"\r\n                    keepMounted\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    value={integration}\r\n                    deviceList={deviceList}\r\n                    integration={integration}\r\n                />\r\n            </>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DialogAddIntegration from 'components/IntegrationComponents/DialogAddIntegration';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles({\r\n    integrationCard: {\r\n        width: 300,\r\n        height: 220,\r\n        justifyContent: 'space-between',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n    },\r\n    pos: {\r\n        marginBottom: 12,\r\n    },\r\n});\r\n\r\nconst IntegrationsCard = ({ intTypes, int }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Card className={classes.integrationCard} variant=\"outlined\">\r\n            <CardContent>\r\n                <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                    Integration\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                    {intTypes[int].name}\r\n                </Typography>\r\n                <Typography className={classes.pos} color=\"textSecondary\">\r\n                    v0.0.1\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                    {intTypes[int].description}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                <DialogAddIntegration integration={intTypes[int].id} />\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default IntegrationsCard;\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PopoverSure from 'components/VirtualComponents/PopoverSure';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { deleteAsyncIntegration } from 'modules/integrations';\r\nimport { toggleAsyncIntegration } from 'modules/integrations';\r\nimport { Switch, Chip } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\n// import DialogAddIntegration from 'components/IntegrationComponents/DialogAddIntegration';\r\n\r\nconst useStyles = makeStyles({\r\n    integrationCard: {\r\n        width: 300,\r\n        height: 230,\r\n        justifyContent: 'space-between',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n});\r\n\r\nconst IntegrationsCard = ({ int }) => {\r\n    const classes = useStyles();\r\n\r\n    const handleToggle = props => {\r\n        // console.log('YO', props);\r\n        toggleAsyncIntegration(props);\r\n    };\r\n    return (\r\n        <Card className={classes.integrationCard} variant=\"outlined\">\r\n            <CardContent style={{ paddingBottom: 0 }}>\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'flex-start',\r\n                        marginBottom: '0.5em',\r\n                    }}\r\n                >\r\n                    <Typography variant=\"h5\" component=\"h2\">\r\n                        {int.config.name}\r\n                    </Typography>\r\n                    <Chip label={`type: ${int.type}`} size=\"small\" />\r\n                </div>\r\n                <Typography variant=\"h6\" component=\"p\" gutterBottom>\r\n                    Status:{' '}\r\n                    {int.status === 3\r\n                        ? 'Connecting...'\r\n                        : int.status === 2\r\n                        ? 'Disconnecting'\r\n                        : int.status === 1\r\n                        ? 'Connected'\r\n                        : int.status === 0\r\n                        ? 'Disconnected'\r\n                        : 'Unknown'}\r\n                </Typography>\r\n                <Typography style={{ fontSize: '14px' }} color=\"textSecondary\" gutterBottom>\r\n                    QLC+ IP Address: {int.config.ip_address}:{int.config.port}\r\n                </Typography>\r\n                <Typography style={{ fontSize: '14px' }} color=\"textSecondary\" gutterBottom>\r\n                    Description:{int.config.description}\r\n                </Typography>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    aria-label=\"Add\"\r\n                    className={classes.button}\r\n                    endIcon={<AddCircleIcon />}\r\n                    //onClick={handleClickListItem}\r\n                    role=\"listitem\"\r\n                >\r\n                    ADD Event Listener\r\n                </Button>\r\n            </CardContent>\r\n            <CardActions>\r\n                <PopoverSure\r\n                    variant=\"text\"\r\n                    onDeleteVitem={() =>\r\n                        deleteAsyncIntegration({\r\n                            id: int.id,\r\n                        })\r\n                    }\r\n                />\r\n                <Button\r\n                    variant=\"text\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                        // console.log('edit');\r\n                    }}\r\n                >\r\n                    <EditIcon />\r\n                </Button>\r\n                <Switch\r\n                    color=\"primary\"\r\n                    onChange={() =>\r\n                        handleToggle({\r\n                            id: int.id,\r\n                        })\r\n                    }\r\n                    checked={int.active}\r\n                />\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default IntegrationsCard;\r\n","import React from 'react';\r\nimport { deleteAsyncIntegration } from 'modules/integrations';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { Switch } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport PopoverSure from 'components/VirtualComponents/PopoverSure';\r\n\r\nconst DataRow = ({ id, name, type, data }) =>\r\n    data.map(dr => (\r\n        <TableRow key={id}>\r\n            <TableCell>{name}</TableCell>\r\n            <TableCell>{type}</TableCell>\r\n            <TableCell>{dr[0]}</TableCell>\r\n            <TableCell>{dr[1] && dr[1].scene_name}</TableCell>\r\n            <TableCell>{JSON.stringify(dr[3])}</TableCell>\r\n            <TableCell>\r\n                <div style={{ display: 'flex' }}>\r\n                    <PopoverSure\r\n                        variant=\"text\"\r\n                        onDeleteVitem={() =>\r\n                            deleteAsyncIntegration({\r\n                                id: id,\r\n                            })\r\n                        }\r\n                    />\r\n                    <Button\r\n                        variant=\"text\"\r\n                        color=\"secondary\"\r\n                        onClick={() => {\r\n                            // console.log('edit');\r\n                        }}\r\n                    >\r\n                        <EditIcon />\r\n                    </Button>\r\n                    <Switch color=\"primary\" checked={data && dr && dr[2]} />\r\n                </div>\r\n            </TableCell>\r\n        </TableRow>\r\n    ));\r\n\r\nexport default DataRow;\r\n","import React from 'react';\r\nimport DataRow from './DataRow'\r\n\r\nconst IntegrationRow = ({ installedIntegrations, installedIntegration }) =>\r\n    (installedIntegrations[installedIntegration] && installedIntegrations[installedIntegration].data && installedIntegrations[installedIntegration].data.length > 0) ? (\r\n        <DataRow id={installedIntegrations[installedIntegration].id} name={installedIntegrations[installedIntegration].config.name} type={installedIntegrations[installedIntegration].type} data={installedIntegrations[installedIntegration].data} />\r\n\r\n\r\n    ) : (<></>)\r\n\r\n\r\n\r\nexport default IntegrationRow;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nimport { getAsyncIntegrations } from 'modules/integrations';\r\nimport Card from '../../components/IntegrationComponents/Card';\r\nimport CardB from '../../components/IntegrationComponents/CardB';\r\nimport Row from '../../components/IntegrationComponents/Row';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst IntegrationsView = () => {\r\n    const intTypes = useSelector(state => state.schemas.integrationTypes || {});\r\n    const instInts = useSelector(state => state.integrations.list || []);\r\n    const dispatch = useDispatch();\r\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\r\n\r\n    const handleClose = () => {\r\n        setSnackbarState({ ...snackbarState, open: false });\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(getAsyncIntegrations());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <><Grid container spacing={2}>\r\n            <Grid item xs={12} md={12}>\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    component=\"h2\"\r\n                    color=\"textPrimary\"\r\n                    style={{ marginBottom: '1em' }}\r\n                >\r\n                    Available Integrations\r\n                </Typography>\r\n                <Grid container justify=\"flex-start\" spacing={5}>\r\n                    {intTypes &&\r\n                        intTypes !== {} &&\r\n                        Object.keys(intTypes).map((int, i) => (\r\n                            <Grid key={i} item>\r\n                                <Card intTypes={intTypes} int={int} />\r\n                            </Grid>\r\n                        ))}\r\n                </Grid>\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    component=\"h2\"\r\n                    color=\"textPrimary\"\r\n                    style={{ marginBottom: '1em', marginTop: '3em' }}\r\n                >\r\n                    Installed Integrations\r\n                </Typography>\r\n                <Grid container justify=\"flex-start\" spacing={5}>\r\n                    {instInts &&\r\n                        Object.keys(instInts).map((instInt, i) => (\r\n                            <Grid key={instInts[instInt].id} item>\r\n                                <CardB int={instInts[instInt]} />\r\n                            </Grid>\r\n                        ))}\r\n                </Grid>\r\n            </Grid>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                autoHideDuration={1000 + snackbarState.message.length * 60}\r\n                open={snackbarState.open}\r\n                onClose={handleClose}\r\n                key={'bottomcenter'}\r\n            >\r\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\r\n            </Snackbar>\r\n        </Grid><Typography\r\n            variant=\"h6\"\r\n            component=\"h2\"\r\n            color=\"textPrimary\"\r\n            style={{ marginBottom: '1em', marginTop: '3em' }}\r\n        >\r\n                Integration Event Listeners\r\n            </Typography>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell>Type</TableCell>\r\n                        <TableCell>Event Type</TableCell>\r\n                        <TableCell>Event Trigger</TableCell>\r\n                        <TableCell>Payload</TableCell>\r\n                        <TableCell>Actions</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                    {instInts &&\r\n                        Object.keys(instInts).map((instInt, i) => (\r\n                            <Row\r\n                                key={instInts[instInt].id}\r\n                                installedIntegrations={instInts}\r\n                                installedIntegration={instInt} />\r\n                        ))}\r\n                </TableBody>\r\n            </Table></>\r\n    );\r\n};\r\n\r\nexport default IntegrationsView;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Card,\r\n    CardHeader,\r\n    CardContent,\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Button,\r\n    TextField,\r\n    FormControlLabel,\r\n    Checkbox,\r\n} from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { Delete } from '@material-ui/icons';\r\n\r\nconst { LazyLog } = require('react-lazylog');\r\nconst { NODE_ENV } = process.env;\r\nconst { hostname, port } = window.location;\r\n\r\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n    },\r\n    saved: {\r\n        backgroundColor: '#222222',\r\n        padding: '2rem',\r\n        fontFamily: '\"Monaco\", monospace',\r\n        fontSize: '12px',\r\n        width: '100%',\r\n        overflowX: 'scroll',\r\n    },\r\n    lineno: {\r\n        color: '#999',\r\n        width: '35px',\r\n        marginRight: '1rem',\r\n        textAlign: 'right',\r\n        display: 'inline-block',\r\n    },\r\n    linetime: {\r\n        color: '#999',\r\n    },\r\n    root: {\r\n        flexWrap: 'wrap',\r\n    },\r\n    bar: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        margin: '0.5rem',\r\n    },\r\n    wrapping: {\r\n        whiteSpace: 'wrap',\r\n    },\r\n    not_wrapping: {\r\n        whiteSpace: 'nowrap',\r\n    },\r\n});\r\nconst ws_log_url = `ws://${wsBaseUrl}/api/log`;\r\nlet socket = null;\r\nconst LogCard = ({ settings, error }) => {\r\n    const classes = useStyles();\r\n    const [logger, setLogger] = useState(JSON.parse(window.sessionStorage.getItem('logger')) || []);\r\n    const [logLength, setLogLength] = useState(\r\n        JSON.parse(window.sessionStorage.getItem('messages')) || 30\r\n    );\r\n    const [wrap, setWrap] = useState(false);\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Console\" subheader=\"View the Console\" />\r\n            <CardContent className={classes.content}>\r\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 ? (\r\n                    <>\r\n                        <Accordion expanded={true}>\r\n                            <AccordionSummary aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                                <Typography className={classes.heading}>\r\n                                    Realtime-Console\r\n                                </Typography>\r\n                            </AccordionSummary>\r\n\r\n                            <AccordionDetails>\r\n                                <div style={{ minHeight: 300, width: '100%' }}>\r\n                                    <div style={{ height: 300 }}>\r\n                                        <LazyLog\r\n                                            enableSearch\r\n                                            url={ws_log_url}\r\n                                            value={'hi'}\r\n                                            websocket\r\n                                            follow\r\n                                            websocketOptions={{\r\n                                                onClose: () => {\r\n                                                    if (socket) {\r\n                                                        return;\r\n                                                    }\r\n                                                },\r\n\r\n                                                onOpen: (e, sock) => {\r\n                                                    socket = sock;\r\n                                                    sock.send(\r\n                                                        JSON.stringify({\r\n                                                            message: 'Logger Websocket Open',\r\n                                                        })\r\n                                                    );\r\n                                                },\r\n                                                formatMessage: e => {\r\n                                                    const line = `${\r\n                                                        JSON.parse(e).levelno === 10\r\n                                                            ? '\\u001b[36m'\r\n                                                            : JSON.parse(e).levelno === 20\r\n                                                            ? '\\u001b[34m'\r\n                                                            : JSON.parse(e).levelno === 30\r\n                                                            ? '\\u001b[33m'\r\n                                                            : JSON.parse(e).levelno === 40\r\n                                                            ? '\\u001b[31m'\r\n                                                            : JSON.parse(e).levelno === 50\r\n                                                            ? '\\u001b[35m'\r\n                                                            : '\\u001b[32m'\r\n                                                    }[${JSON.parse(e).levelname}] \\u001b[37m${\r\n                                                        JSON.parse(e).name\r\n                                                    } : ${JSON.parse(e).message}`;\r\n                                                    const saveLine = {\r\n                                                        levelno: JSON.parse(e).levelno,\r\n                                                        levelname: JSON.parse(e).levelname,\r\n                                                        message: JSON.parse(e).message,\r\n                                                        asctime: JSON.parse(e).asctime,\r\n                                                    };\r\n\r\n                                                    const log =\r\n                                                        JSON.parse(\r\n                                                            window.sessionStorage.getItem('logger')\r\n                                                        ) || [];\r\n                                                    log.push(saveLine);\r\n                                                    const test = log.slice(\r\n                                                        log.length > logLength - 1\r\n                                                            ? log.length - logLength\r\n                                                            : 0,\r\n                                                        log.length\r\n                                                    );\r\n                                                    setLogger(test);\r\n\r\n                                                    window.sessionStorage.setItem(\r\n                                                        'logger',\r\n                                                        JSON.stringify(test)\r\n                                                    );\r\n\r\n                                                    return line;\r\n                                                },\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n                        <Accordion>\r\n                            <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel2a-content\"\r\n                                id=\"panel2a-header\"\r\n                            >\r\n                                <Typography className={classes.heading}>\r\n                                    SavedLogs-Console\r\n                                </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.root}>\r\n                                <div className={classes.bar}>\r\n                                    <Typography className={classes.heading}></Typography>\r\n                                    <div\r\n                                        style={{\r\n                                            display: 'flex',\r\n                                            justifyContent: 'center',\r\n                                            alignItems: 'center',\r\n                                        }}\r\n                                    >\r\n                                        <Button\r\n                                            size=\"large\"\r\n                                            style={{ marginRight: '1rem' }}\r\n                                            startIcon={<Delete />}\r\n                                            variant=\"text\"\r\n                                            onClick={() => {\r\n                                                window.sessionStorage.removeItem('logger');\r\n                                                setLogger([]);\r\n                                            }}\r\n                                        ></Button>\r\n                                        <FormControlLabel\r\n                                            value=\"top\"\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    color=\"primary\"\r\n                                                    checked={wrap}\r\n                                                    onChange={() => setWrap(!wrap)}\r\n                                                    style={{ padding: '2px 8px 13px' }}\r\n                                                />\r\n                                            }\r\n                                            labelPlacement=\"top\"\r\n                                            label={\r\n                                                <span style={{ fontSize: '0.7rem', color: '#bbb' }}>\r\n                                                    Wrap\r\n                                                </span>\r\n                                            }\r\n                                        />\r\n                                        <TextField\r\n                                            id=\"standard-number\"\r\n                                            label=\"Stored logs\"\r\n                                            style={{ minWidth: '90px' }}\r\n                                            defaultValue={logLength}\r\n                                            onChange={e => {\r\n                                                window.sessionStorage.setItem(\r\n                                                    'messages',\r\n                                                    e.target.value\r\n                                                );\r\n                                                setLogLength(e.target.value);\r\n                                            }}\r\n                                            type=\"number\"\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            InputProps={{\r\n                                                inputProps: {\r\n                                                    min: 0,\r\n                                                    max: 100,\r\n                                                    style: { textAlign: 'center' },\r\n                                                },\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classes.saved}>\r\n                                    {logger &&\r\n                                        logger.length > 0 &&\r\n                                        logger.map((l, i) => (\r\n                                            <div\r\n                                                key={i}\r\n                                                className={\r\n                                                    wrap ? classes.wrapping : classes.not_wrapping\r\n                                                }\r\n                                            >\r\n                                                <span className={classes.lineno}>{i + 1}</span>{' '}\r\n                                                <span className={classes.linetime}>\r\n                                                    {l.asctime}\r\n                                                </span>{' '}\r\n                                                | [\r\n                                                <span\r\n                                                    style={{\r\n                                                        color:\r\n                                                            l.levelno === 10\r\n                                                                ? 'purple'\r\n                                                                : l.levelno === 20\r\n                                                                ? 'cyan'\r\n                                                                : l.levelno === 30\r\n                                                                ? 'yellow'\r\n                                                                : l.levelno === 40\r\n                                                                ? 'orange'\r\n                                                                : l.levelno === 50\r\n                                                                ? 'red'\r\n                                                                : 'green',\r\n                                                    }}\r\n                                                >\r\n                                                    {l.levelname}\r\n                                                </span>\r\n                                                ]{' '}\r\n                                                <span\r\n                                                    style={{\r\n                                                        color: '#fff',\r\n                                                    }}\r\n                                                >\r\n                                                    {l.message}\r\n                                                </span>\r\n                                            </div>\r\n                                        ))}\r\n                                </div>\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n                    </>\r\n                ) : (\r\n                    <div style={{ minHeight: 300, width: '100%' }}>\r\n                        <div style={{ height: 300 }}>\r\n                            <LazyLog\r\n                                enableSearch\r\n                                url={ws_log_url}\r\n                                value={'hi'}\r\n                                websocket\r\n                                follow\r\n                                websocketOptions={{\r\n                                    onClose: () => {\r\n                                        if (socket) {\r\n                                            return;\r\n                                        }\r\n                                    },\r\n\r\n                                    onOpen: (e, sock) => {\r\n                                        socket = sock;\r\n                                        sock.send(\r\n                                            JSON.stringify({ message: 'Logger Websocket Open' })\r\n                                        );\r\n                                    },\r\n                                    formatMessage: e => {\r\n                                        const line = `${\r\n                                            JSON.parse(e).levelno === 10\r\n                                                ? '\\u001b[36m'\r\n                                                : JSON.parse(e).levelno === 20\r\n                                                ? '\\u001b[34m'\r\n                                                : JSON.parse(e).levelno === 30\r\n                                                ? '\\u001b[33m'\r\n                                                : JSON.parse(e).levelno === 40\r\n                                                ? '\\u001b[31m'\r\n                                                : JSON.parse(e).levelno === 50\r\n                                                ? '\\u001b[35m'\r\n                                                : '\\u001b[32m'\r\n                                        }[${JSON.parse(e).levelname}] \\u001b[37m${\r\n                                            JSON.parse(e).name\r\n                                        } : ${JSON.parse(e).message}`;\r\n                                        const saveLine = {\r\n                                            levelno: JSON.parse(e).levelno,\r\n                                            levelname: JSON.parse(e).levelname,\r\n                                            message: JSON.parse(e).message,\r\n                                            asctime: JSON.parse(e).asctime,\r\n                                        };\r\n\r\n                                        const log =\r\n                                            JSON.parse(window.sessionStorage.getItem('logger')) ||\r\n                                            [];\r\n                                        log.push(saveLine);\r\n                                        const test = log.slice(\r\n                                            log.length > logLength - 1 ? log.length - logLength : 0,\r\n                                            log.length\r\n                                        );\r\n                                        setLogger(test);\r\n\r\n                                        window.sessionStorage.setItem(\r\n                                            'logger',\r\n                                            JSON.stringify(test)\r\n                                        );\r\n\r\n                                        return line;\r\n                                    },\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default LogCard;\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\n\r\nconst ControlsCard = () => {\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Controls\" subheader=\"for development\" />\r\n            <CardContent>\r\n                <Button\r\n                    size=\"small\"\r\n                    startIcon={<CloudUploadIcon />}\r\n                    variant=\"contained\"\r\n                    style={{ marginRight: '10px' }}\r\n                >\r\n                    Export Configuration\r\n                </Button>\r\n                <Button\r\n                    size=\"small\"\r\n                    startIcon={<CloudDownloadIcon />}\r\n                    variant=\"contained\"\r\n                    style={{ marginRight: '10px' }}\r\n                >\r\n                    Import Configuration\r\n                </Button>\r\n                <Button size=\"small\" startIcon={<PowerSettingsNewIcon />} variant=\"contained\">\r\n                    Shutdown\r\n                </Button>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ControlsCard;\r\n","import React, { useState } from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst ThemesCard = () => {\r\n    const [theme, setTheme] = useState(window.localStorage.getItem('blade') || 0);\r\n\r\n    const changeTheme = event => {\r\n        setTheme(event.target.value);\r\n        window.localStorage.setItem('blade', event.target.value);\r\n        window.location = window.location.href;\r\n    };\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"UI-Settings\" subheader=\"Customize the appearance of LedFx\" />\r\n            <CardContent>\r\n                <FormControl>\r\n                    <InputLabel id=\"theme-selector\">Theme</InputLabel>\r\n                    <Select\r\n                        labelId=\"theme-selector\"\r\n                        id=\"theme-select\"\r\n                        value={theme}\r\n                        onChange={changeTheme}\r\n                    >\r\n                        <MenuItem value={0}>Default</MenuItem>\r\n                        <MenuItem value={1}>Dark</MenuItem>\r\n                        <MenuItem value={2}>Blade</MenuItem>\r\n                        <MenuItem value={3}>BladeDark</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ThemesCard;\r\n","import React from 'react';\r\nimport AceEditor from 'react-ace';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport 'ace-builds/src-noconflict/mode-yaml';\r\nimport 'ace-builds/src-noconflict/theme-twilight';\r\nimport 'ace-builds/src-noconflict/theme-github';\r\n\r\n// const yaml = require('./ledfx-config.yml');\r\nconst yaml2 = `\r\ncrossfade: 1.0\r\ncustom_presets: {}\r\ndev_mode: false\r\ndevices: []\r\nfade: 1.0\r\nhost: 0.0.0.0\r\nintegrations: []\r\nmax_workers: 10\r\nport: 8888\r\nscenes: {}\r\nvirtuals: []\r\n\r\n`;\r\nfunction onChange(newValue) {\r\n    // console.log('change', newValue);\r\n}\r\n\r\nconst ConfigEditor = () => {\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Config Editor\" subheader=\"for development\" />\r\n            <CardContent>\r\n                <AceEditor\r\n                    mode=\"yaml\"\r\n                    theme={window.localStorage.getItem('blade') === '3' ? 'twilight' : 'github'}\r\n                    onChange={onChange}\r\n                    value={yaml2}\r\n                    name=\"UNIQUE_ID_OF_DIV\"\r\n                    editorProps={{ $blockScrolling: true }}\r\n                    placeholder={'AWESOME SHIT INCOMING.... - hacked by Blade'}\r\n                    style={{ width: '100%' }}\r\n                />\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ConfigEditor;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { Button, Divider } from '@material-ui/core';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\n\r\nimport Check from '@material-ui/icons/Check';\r\nimport Warning from '@material-ui/icons/Warning';\r\nimport Info from '@material-ui/icons/Info';\r\n\r\nimport LogCard from './LogCard';\r\nimport ControlsCard from './ControlsCard';\r\nimport ThemesCard from './ThemesCard';\r\nimport ConfigEditor from './ConfigEditor';\r\nimport { fetchDisplayList } from 'modules/displays';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst AdvancedView = () => {\r\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\r\n\r\n    const handleClose = () => {\r\n        setSnackbarState({ ...snackbarState, open: false });\r\n    };\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(fetchDisplayList());\r\n    }, [dispatch]);\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12} md={12}>\r\n                <ThemesCard />\r\n                <Divider style={{ margin: '2rem 0' }} />\r\n                <LogCard />\r\n\r\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 && (\r\n                    <>\r\n                        <Divider style={{ margin: '2rem 0' }} />\r\n                        <ControlsCard />\r\n                        <Divider style={{ margin: '2rem 0' }} />\r\n                        <ConfigEditor />\r\n                        <Divider style={{ margin: '2rem 0' }} />\r\n                        <Card>\r\n                            <CardHeader title=\"DevButtons\" subheader=\"for development\" />\r\n                            <CardContent>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    startIcon={<Warning />}\r\n                                    variant=\"contained\"\r\n                                    style={{ marginRight: '10px' }}\r\n                                    onClick={() => {\r\n                                        setSnackbarState({\r\n                                            ...snackbarState,\r\n                                            message: 'TEST ERROR',\r\n                                            open: true,\r\n                                        });\r\n                                    }}\r\n                                >\r\n                                    Error Message\r\n                                </Button>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    startIcon={<Check />}\r\n                                    variant=\"contained\"\r\n                                    style={{ marginRight: '10px' }}\r\n                                    onClick={() => {\r\n                                        setSnackbarState({\r\n                                            ...snackbarState,\r\n                                            message: 'TEST SUCCESS',\r\n                                            open: true,\r\n                                            type: 'success',\r\n                                        });\r\n                                    }}\r\n                                >\r\n                                    Success Message\r\n                                </Button>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    startIcon={<Warning />}\r\n                                    style={{ marginRight: '10px' }}\r\n                                    variant=\"contained\"\r\n                                    onClick={() => {\r\n                                        setSnackbarState({\r\n                                            ...snackbarState,\r\n                                            message: 'TEST WARNING',\r\n                                            open: true,\r\n                                            type: 'warning',\r\n                                        });\r\n                                    }}\r\n                                >\r\n                                    Warning Message\r\n                                </Button>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    startIcon={<Info />}\r\n                                    variant=\"contained\"\r\n                                    onClick={() => {\r\n                                        setSnackbarState({\r\n                                            ...snackbarState,\r\n                                            message: 'TEST INFO',\r\n                                            open: true,\r\n                                            type: 'info',\r\n                                        });\r\n                                    }}\r\n                                >\r\n                                    Info Message\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </>\r\n                )}\r\n            </Grid>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                autoHideDuration={1000 + snackbarState.message.length * 60}\r\n                open={snackbarState.open}\r\n                onClose={handleClose}\r\n                key={'bottomcenter'}\r\n            >\r\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\r\n            </Snackbar>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default AdvancedView;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst useStyles = makeStyles({\r\n    form: {\r\n        display: 'flex',\r\n    },\r\n});\r\n\r\nconst AudioCard = ({ options, value, onChange, error, isSaving, isLoading }) => {\r\n    const classes = useStyles();\r\n    const handleAudioSelected = e => {\r\n        const { value } = e.target;\r\n        const selectedOption = options.find(o => o.value === value) || {};\r\n        onChange(selectedOption);\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Audio Input\" subheader=\"Select an audio source for LedFx\" />\r\n            <CardContent>\r\n                <FormControl error={!!error} className={classes.form} disabled={isLoading || isSaving}>\r\n                    <InputLabel id=\"audio-input-select-label\">Current Device</InputLabel>\r\n                    <Select\r\n                        labelId=\"audio-input-select-label\"\r\n                        id=\"audio-input-select\"\r\n                        value={value}\r\n                        onChange={handleAudioSelected}\r\n                    >\r\n                        {options.map(({ index, value }) => (\r\n                            <MenuItem key={index} value={value}>\r\n                                {value}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                    <FormHelperText>{error}</FormHelperText>\r\n                </FormControl>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default AudioCard;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n});\r\n\r\nconst ConfigCard = ({ settings, error }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Configs\" subheader=\"Manage network and developer settings\" />\r\n            <CardContent className={classes.content}>\r\n                <InputLabel id=\"host-label\">Host</InputLabel>\r\n                <TextField disabled label-id=\"host-label\" id=\"host\" value={settings.host} />\r\n                <InputLabel id=\"port-label\">Port</InputLabel>\r\n                <TextField disabled label-id=\"port-label\" id=\"port\" value={settings.port} />\r\n                <InputLabel id=\"devMode-label\">DevMode</InputLabel>\r\n                <TextField\r\n                    disabled\r\n                    label-id=\"devMode-label\"\r\n                    id=\"devMode\"\r\n                    value={settings.devMode}\r\n                />\r\n                {error && <FormHelperText>{error}</FormHelperText>}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ConfigCard;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Card,\r\n    CardHeader,\r\n    CardActions,\r\n    CardContent,\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Button,\r\n    TextField,\r\n    FormControlLabel,\r\n    Checkbox,\r\n    IconButton,\r\n} from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { Delete } from '@material-ui/icons';\r\nimport BugReportIcon from '@material-ui/icons/BugReport';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst { LazyLog } = require('react-lazylog');\r\nconst { NODE_ENV } = process.env;\r\nconst { hostname, port } = window.location;\r\n\r\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n    },\r\n    saved: {\r\n        backgroundColor: '#222222',\r\n        padding: '2rem',\r\n        fontFamily: '\"Monaco\", monospace',\r\n        fontSize: '12px',\r\n        width: '100%',\r\n        overflowX: 'scroll',\r\n    },\r\n    lineno: {\r\n        color: '#999',\r\n        width: '35px',\r\n        marginRight: '1rem',\r\n        textAlign: 'right',\r\n        display: 'inline-block',\r\n    },\r\n    linetime: {\r\n        color: '#999',\r\n    },\r\n    root: {\r\n        flexWrap: 'wrap',\r\n    },\r\n    bar: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        margin: '0.5rem',\r\n    },\r\n    wrapping: {\r\n        whiteSpace: 'wrap',\r\n    },\r\n    not_wrapping: {\r\n        whiteSpace: 'nowrap',\r\n    },\r\n});\r\nconst ws_log_url = `ws://${wsBaseUrl}/api/log`;\r\nlet socket = null;\r\nconst LogCard = ({ settings, error }) => {\r\n    const classes = useStyles();\r\n    const [logger, setLogger] = useState(JSON.parse(window.sessionStorage.getItem('logger')) || []);\r\n    const [logLength, setLogLength] = useState(\r\n        JSON.parse(window.sessionStorage.getItem('messages')) || 30\r\n    );\r\n    const [wrap, setWrap] = useState(false);\r\n    const settings2 = useSelector(state => state.settings);\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Console\" subheader=\"View the Console\" />\r\n            <CardContent className={classes.content}>\r\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 ? (\r\n                    <>\r\n                        <Accordion expanded={true}>\r\n                            <AccordionSummary aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                                <Typography className={classes.heading}>\r\n                                    Realtime-Console\r\n                                </Typography>\r\n                            </AccordionSummary>\r\n\r\n                            <AccordionDetails>\r\n                                <div style={{ minHeight: 300, width: '100%' }}>\r\n                                    <div style={{ height: 300 }}>\r\n                                        <LazyLog\r\n                                            enableSearch\r\n                                            url={ws_log_url}\r\n                                            value={'hi'}\r\n                                            websocket\r\n                                            follow\r\n                                            websocketOptions={{\r\n                                                onClose: () => {\r\n                                                    if (socket) {\r\n                                                        return;\r\n                                                    }\r\n                                                },\r\n\r\n                                                onOpen: (e, sock) => {\r\n                                                    socket = sock;\r\n                                                    sock.send(\r\n                                                        JSON.stringify({\r\n                                                            message: 'Logger Websocket Open',\r\n                                                        })\r\n                                                    );\r\n                                                },\r\n                                                formatMessage: e => {\r\n                                                    const line = `${\r\n                                                        JSON.parse(e).levelno === 10\r\n                                                            ? '\\u001b[36m'\r\n                                                            : JSON.parse(e).levelno === 20\r\n                                                            ? '\\u001b[34m'\r\n                                                            : JSON.parse(e).levelno === 30\r\n                                                            ? '\\u001b[33m'\r\n                                                            : JSON.parse(e).levelno === 40\r\n                                                            ? '\\u001b[31m'\r\n                                                            : JSON.parse(e).levelno === 50\r\n                                                            ? '\\u001b[35m'\r\n                                                            : '\\u001b[32m'\r\n                                                    }[${JSON.parse(e).levelname}] \\u001b[37m${\r\n                                                        JSON.parse(e).name\r\n                                                    } : ${JSON.parse(e).message}`;\r\n                                                    const saveLine = {\r\n                                                        levelno: JSON.parse(e).levelno,\r\n                                                        levelname: JSON.parse(e).levelname,\r\n                                                        message: JSON.parse(e).message,\r\n                                                        asctime: JSON.parse(e).asctime,\r\n                                                    };\r\n\r\n                                                    const log =\r\n                                                        JSON.parse(\r\n                                                            window.sessionStorage.getItem('logger')\r\n                                                        ) || [];\r\n                                                    log.push(saveLine);\r\n                                                    const test = log.slice(\r\n                                                        log.length > logLength - 1\r\n                                                            ? log.length - logLength\r\n                                                            : 0,\r\n                                                        log.length\r\n                                                    );\r\n                                                    setLogger(test);\r\n\r\n                                                    window.sessionStorage.setItem(\r\n                                                        'logger',\r\n                                                        JSON.stringify(test)\r\n                                                    );\r\n\r\n                                                    return line;\r\n                                                },\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n                        <Accordion>\r\n                            <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel2a-content\"\r\n                                id=\"panel2a-header\"\r\n                            >\r\n                                <Typography className={classes.heading}>\r\n                                    SavedLogs-Console\r\n                                </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.root}>\r\n                                <div className={classes.bar}>\r\n                                    <Typography className={classes.heading}></Typography>\r\n                                    <div\r\n                                        style={{\r\n                                            display: 'flex',\r\n                                            justifyContent: 'center',\r\n                                            alignItems: 'center',\r\n                                        }}\r\n                                    >\r\n                                        <Button\r\n                                            size=\"large\"\r\n                                            style={{ marginRight: '1rem' }}\r\n                                            startIcon={<Delete />}\r\n                                            variant=\"text\"\r\n                                            onClick={() => {\r\n                                                window.sessionStorage.removeItem('logger');\r\n                                                setLogger([]);\r\n                                            }}\r\n                                        ></Button>\r\n                                        <FormControlLabel\r\n                                            value=\"top\"\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    color=\"primary\"\r\n                                                    checked={wrap}\r\n                                                    onChange={() => setWrap(!wrap)}\r\n                                                    style={{ padding: '2px 8px 13px' }}\r\n                                                />\r\n                                            }\r\n                                            labelPlacement=\"top\"\r\n                                            label={\r\n                                                <span style={{ fontSize: '0.7rem', color: '#bbb' }}>\r\n                                                    Wrap\r\n                                                </span>\r\n                                            }\r\n                                        />\r\n                                        <TextField\r\n                                            id=\"standard-number\"\r\n                                            label=\"Stored logs\"\r\n                                            style={{ minWidth: '90px' }}\r\n                                            defaultValue={logLength}\r\n                                            onChange={e => {\r\n                                                window.sessionStorage.setItem(\r\n                                                    'messages',\r\n                                                    e.target.value\r\n                                                );\r\n                                                setLogLength(e.target.value);\r\n                                            }}\r\n                                            type=\"number\"\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            InputProps={{\r\n                                                inputProps: {\r\n                                                    min: 0,\r\n                                                    max: 100,\r\n                                                    style: { textAlign: 'center' },\r\n                                                },\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classes.saved}>\r\n                                    {logger &&\r\n                                        logger.length > 0 &&\r\n                                        logger.map((l, i) => (\r\n                                            <div\r\n                                                key={i}\r\n                                                className={\r\n                                                    wrap ? classes.wrapping : classes.not_wrapping\r\n                                                }\r\n                                            >\r\n                                                <span className={classes.lineno}>{i + 1}</span>{' '}\r\n                                                <span className={classes.linetime}>\r\n                                                    {l.asctime}\r\n                                                </span>{' '}\r\n                                                | [\r\n                                                <span\r\n                                                    style={{\r\n                                                        color:\r\n                                                            l.levelno === 10\r\n                                                                ? 'purple'\r\n                                                                : l.levelno === 20\r\n                                                                ? 'cyan'\r\n                                                                : l.levelno === 30\r\n                                                                ? 'yellow'\r\n                                                                : l.levelno === 40\r\n                                                                ? 'orange'\r\n                                                                : l.levelno === 50\r\n                                                                ? 'red'\r\n                                                                : 'green',\r\n                                                    }}\r\n                                                >\r\n                                                    {l.levelname}\r\n                                                </span>\r\n                                                ]{' '}\r\n                                                <span\r\n                                                    style={{\r\n                                                        color: '#fff',\r\n                                                    }}\r\n                                                >\r\n                                                    {l.message}\r\n                                                </span>\r\n                                            </div>\r\n                                        ))}\r\n                                </div>\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n                    </>\r\n                ) : (\r\n                    <div style={{ minHeight: 300, width: '100%' }}>\r\n                        <div style={{ height: 300 }}>\r\n                            <LazyLog\r\n                                enableSearch\r\n                                url={ws_log_url}\r\n                                value={'hi'}\r\n                                websocket\r\n                                follow\r\n                                websocketOptions={{\r\n                                    onClose: () => {\r\n                                        if (socket) {\r\n                                            return;\r\n                                        }\r\n                                    },\r\n\r\n                                    onOpen: (e, sock) => {\r\n                                        socket = sock;\r\n                                        sock.send(\r\n                                            JSON.stringify({ message: 'Logger Websocket Open' })\r\n                                        );\r\n                                    },\r\n                                    formatMessage: e => {\r\n                                        const line = `${\r\n                                            JSON.parse(e).levelno === 10\r\n                                                ? '\\u001b[36m'\r\n                                                : JSON.parse(e).levelno === 20\r\n                                                ? '\\u001b[34m'\r\n                                                : JSON.parse(e).levelno === 30\r\n                                                ? '\\u001b[33m'\r\n                                                : JSON.parse(e).levelno === 40\r\n                                                ? '\\u001b[31m'\r\n                                                : JSON.parse(e).levelno === 50\r\n                                                ? '\\u001b[35m'\r\n                                                : '\\u001b[32m'\r\n                                        }[${JSON.parse(e).levelname}] \\u001b[37m${\r\n                                            JSON.parse(e).name\r\n                                        } : ${JSON.parse(e).message}`;\r\n                                        const saveLine = {\r\n                                            levelno: JSON.parse(e).levelno,\r\n                                            levelname: JSON.parse(e).levelname,\r\n                                            message: JSON.parse(e).message,\r\n                                            asctime: JSON.parse(e).asctime,\r\n                                        };\r\n\r\n                                        const log =\r\n                                            JSON.parse(window.sessionStorage.getItem('logger')) ||\r\n                                            [];\r\n                                        log.push(saveLine);\r\n                                        const test = log.slice(\r\n                                            log.length > logLength - 1 ? log.length - logLength : 0,\r\n                                            log.length\r\n                                        );\r\n                                        setLogger(test);\r\n\r\n                                        window.sessionStorage.setItem(\r\n                                            'logger',\r\n                                            JSON.stringify(test)\r\n                                        );\r\n\r\n                                        return line;\r\n                                    },\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </CardContent>\r\n            <CardActions style={{ justifyContent: 'flex-end' }}>\r\n                {logger.length > 2 && (\r\n                    <IconButton\r\n                        aria-label=\"BugTracker\"\r\n                        color=\"inherit\"\r\n                        onClick={() => {\r\n                            const message = `\r\n<!---ENTER A TITLE--->\r\n<!---DESCRIBE YOUR ISSUE IN DETAIL--->\r\n\r\n\r\n<!---DON'T TOUCH THE REST - JUST CLICK PREVIEW--->\r\n## Settings:\r\n\\`\\`\\`json\r\n${JSON.stringify(settings2, null, 2)}\r\n\\`\\`\\`\r\n\r\n\r\n## userAgent:\r\n\\`\\`\\`json\r\n${navigator.userAgent.replaceAll(';', '-')}\r\n\\`\\`\\`\r\n\r\n## Logs:\r\n\\`\\`\\`json\r\n${JSON.stringify(\r\n    logger.map(l => l.message).filter((v, i, a) => a.indexOf(v) === i),\r\n    null,\r\n    2\r\n)}\r\n\\`\\`\\`\r\n    `;\r\n                            window.open(\r\n                                `https://github.com/LedFx/LedFx/issues/new?body=${encodeURIComponent(\r\n                                    message\r\n                                )}`\r\n                            );\r\n                        }}\r\n                        target=\"_blank\"\r\n                        title=\"BugTracker\"\r\n                    >\r\n                        <BugReportIcon />\r\n                    </IconButton>\r\n                )}\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default LogCard;\r\n","import React, { useState } from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst ThemesCard = () => {\r\n    const [theme, setTheme] = useState(window.localStorage.getItem('blade') || 0);\r\n\r\n    const changeTheme = event => {\r\n        setTheme(event.target.value);\r\n        window.localStorage.setItem('blade', event.target.value);\r\n        window.location = window.location.href;\r\n    };\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"UI-Settings\" subheader=\"Customize the appearance of LedFx\" />\r\n            <CardContent>\r\n                <FormControl>\r\n                    <InputLabel id=\"theme-selector\">Theme</InputLabel>\r\n                    <Select\r\n                        labelId=\"theme-selector\"\r\n                        id=\"theme-select\"\r\n                        value={theme}\r\n                        onChange={changeTheme}\r\n                    >\r\n                        <MenuItem value={0}>Default</MenuItem>\r\n                        <MenuItem value={1}>Dark</MenuItem>\r\n                        <MenuItem value={2}>Blade</MenuItem>\r\n                        <MenuItem value={3}>BladeDark</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ThemesCard;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { getAudioInputs, setAudioInput } from 'modules/settings';\r\n\r\nimport AudioInputCard from './AudioInput';\r\nimport ConfigCard from './ConfigCard';\r\nimport LogCard from './LogCard';\r\nimport ThemesCard from './ThemesCard';\r\nimport { fetchDisplayList } from 'modules/displays';\r\n\r\nconst styles = theme => ({});\r\n\r\nclass SettingsView extends Component {\r\n    componentDidMount() {\r\n        this.props.getAudioInputs();\r\n        this.props.fetchDisplayList();\r\n    }\r\n\r\n    render() {\r\n        const { setAudioInput, settings } = this.props;\r\n        const { audioInputs } = settings;\r\n\r\n        return (\r\n            <Grid container direction=\"column\" spacing={4} style={{ overflow: 'hidden' }}>\r\n                <Grid container item direction=\"row\" spacing={4}>\r\n                    <Grid item md={4}>\r\n                        <AudioInputCard {...audioInputs} onChange={setAudioInput} />\r\n                    </Grid>\r\n                    <Grid item md={4}>\r\n                        <ThemesCard />\r\n                    </Grid>\r\n                    <Grid item md={4}>\r\n                        <ConfigCard settings={settings} />\r\n                    </Grid>\r\n                    <Grid item md={12}>\r\n                        <LogCard />\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        settings: state.settings,\r\n    }),\r\n    {\r\n        getAudioInputs,\r\n        setAudioInput,\r\n        fetchDisplayList,\r\n    }\r\n)(withStyles(styles)(SettingsView));\r\n","import { api } from 'utils/api';\r\n\r\nexport function getSystemConfig() {\r\n    return api.get('/config');\r\n}\r\n\r\nexport function getSystemInfo() {\r\n    return api.get('/info');\r\n}\r\n\r\nexport function getAudioInputs() {\r\n    return api.get('/audio/devices');\r\n}\r\nexport function updateSelectedAudioInput(data) {\r\n    return api.put('/audio/devices', data);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { createWebSocket } from 'utils/api/websocket';\r\n\r\nconst styles = theme => ({\r\n    content: {\r\n        minWidth: 120,\r\n        maxWidth: '100%',\r\n    },\r\n});\r\n\r\nclass PixelColorGraph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.websocketPacketId = 1;\r\n        this.deviceUpdateSubscription = null;\r\n\r\n        this.state = {\r\n            chartData: {\r\n                labels: [],\r\n                datasets: [\r\n                    {\r\n                        label: 'Melbank',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,0,0,0.1)',\r\n                        borderColor: 'rgba(0,0,0,1)',\r\n                        pointRadius: 0,\r\n                        data: [],\r\n                    },\r\n                ],\r\n            },\r\n            chartOptions: {\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                tooltips: { enabled: false },\r\n                hover: {\r\n                    animationDuration: 0,\r\n                    mode: null,\r\n                },\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                responsiveAnimationDuration: 0,\r\n                scales: {\r\n                    xAxes: [\r\n                        {\r\n                            gridLines: {\r\n                                display: false,\r\n                            },\r\n                            ticks: {\r\n                                maxTicksLimit: 7,\r\n                                callback: function(value, index, values) {\r\n                                    return value + ' Hz';\r\n                                },\r\n                            },\r\n                        },\r\n                    ],\r\n                    yAxes: [\r\n                        {\r\n                            ticks: {\r\n                                min: 0,\r\n                                max: 2.0,\r\n                                stepSize: 0.5,\r\n                            },\r\n                            gridLines: {\r\n                                color: 'rgba(0, 0, 0, .125)',\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n                legend: {\r\n                    display: false,\r\n                },\r\n            },\r\n        };\r\n    }\r\n\r\n    handleMessage = e => {\r\n        var chartData = this.state.chartData;\r\n        var messageData = JSON.parse(e.data);\r\n        chartData.labels = messageData.frequencies;\r\n        chartData.datasets[0].data = messageData.melbank;\r\n\r\n        // Adjust the axes based on the max\r\n        var melbankMax = Math.max.apply(Math, messageData.melbank);\r\n        var chartOptions = this.state.chartOptions;\r\n        chartOptions.scales.yAxes[0].ticks.min = 0;\r\n        chartOptions.scales.yAxes[0].ticks.max = Math.max(\r\n            chartOptions.scales.yAxes[0].ticks.max,\r\n            melbankMax\r\n        );\r\n        chartOptions.scales.yAxes[0].ticks.stepSize = chartOptions.scales.yAxes[0].ticks.max / 4;\r\n\r\n        this.setState({ chartData: chartData, chartOptions: chartOptions });\r\n    };\r\n\r\n    handleOpen = e => {\r\n        this.enablePixelVisualization();\r\n    };\r\n\r\n    handleClose = e => {};\r\n\r\n    enablePixelVisualization = () => {\r\n        this.state.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'subscribe_event',\r\n            event_type: 'graph_update',\r\n            event_filter: { graph_id: this.props.graphId },\r\n        });\r\n        this.deviceUpdateSubscription = this.websocketPacketId;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    disablePixelVisualization = () => {\r\n        this.state.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'unsubscribe_event',\r\n            subscription_id: this.deviceUpdateSubscription,\r\n        });\r\n        this.deviceUpdateSubscription = null;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    connectWebsocket = () => {\r\n        const ws = createWebSocket({\r\n            timeout: 5e3,\r\n            maxAttempts: 10,\r\n            onopen: this.handleOpen,\r\n            onmessage: this.handleMessage,\r\n            onclose: this.handleClose,\r\n            onerror: e => console.log('WebSocket Error:', e),\r\n        });\r\n\r\n        this.setState({ ws: ws });\r\n    };\r\n\r\n    disconnectWebsocket = () => {\r\n        if (this.state.ws !== undefined) {\r\n            this.state.ws.close(1000);\r\n            this.setState({ ws: undefined });\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.connectWebsocket();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disconnectWebsocket();\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Card>\r\n                <CardContent className={classes.content}>\r\n                    <Line data={this.state.chartData} options={this.state.chartOptions} />\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nPixelColorGraph.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    graphId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PixelColorGraph);\r\n","import React from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport MelbankGraph from 'components/MelbankGraph';\r\n\r\nclass DeveloperView extends React.Component {\r\n    render() {\r\n        const { graphString } = this.props.match.params;\r\n\r\n        let graphList = graphString.split('+');\r\n        let graphDom = Object.keys(graphList).map(graphIndex => {\r\n            return (\r\n                <Grid item key={graphIndex} xs={12}>\r\n                    <p>{graphList[graphIndex].replace(/^\\w/, c => c.toUpperCase())} Graph</p>\r\n                    <MelbankGraph key={graphIndex} graphId={graphList[graphIndex]} />\r\n                </Grid>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <Grid container spacing={3}>\r\n                {graphDom}\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeveloperView;\r\n","// Icons\r\nimport Dashboard from '@material-ui/icons/Dashboard';\r\nimport List from '@material-ui/icons/List';\r\nimport Settings from '@material-ui/icons/Settings';\r\nimport Tune from '@material-ui/icons/Tune';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport DeviceHubIcon from '@material-ui/icons/DeviceHub';\r\nimport PowerIcon from '@material-ui/icons/Power';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\n\r\n// Components and Views\r\nimport DashboardView from '../views/Dashboard';\r\nimport DevicesView from '../views/Devices';\r\nimport ScenesView from '../views/Scenes';\r\nimport DisplayView from '../views/Display';\r\nimport VirtualsView from '../views/Virtuals';\r\nimport IntegrationsView from '../views/Integrations';\r\nimport AdvancedView from '../views/Advanced';\r\nimport SettingsView from '../views/Settings';\r\nimport DeveloperView from '../views/Developer';\r\n\r\nconst virtuals =\r\n    parseInt(window.localStorage.getItem('BladeMod')) > 2\r\n        ? {\r\n              path: '/virtuals',\r\n              sidebarName: 'Virtual Strips',\r\n              navbarName: 'Virtual Strips',\r\n              icon: DeviceHubIcon,\r\n              component: VirtualsView,\r\n          }\r\n        : {\r\n              path: '/virtuals',\r\n              navbarName: 'Virtual Strips',\r\n              icon: DeviceHubIcon,\r\n              component: VirtualsView,\r\n          };\r\n\r\nconst integrations =\r\n    parseInt(window.localStorage.getItem('BladeMod')) > 1\r\n        ? {\r\n              path: '/integrations',\r\n              sidebarName: 'Integrations',\r\n              navbarName: 'Integrations',\r\n              icon: PowerIcon,\r\n              component: IntegrationsView,\r\n          }\r\n        : {\r\n              path: '/integrations',\r\n              navbarName: 'Integrations',\r\n              icon: PowerIcon,\r\n              component: IntegrationsView,\r\n          };\r\nconst advanced =\r\n    parseInt(window.localStorage.getItem('BladeMod')) > 2\r\n        ? {\r\n              path: '/advanced',\r\n              sidebarName: 'Advanced',\r\n              navbarName: 'Advanced',\r\n              icon: LockOpenIcon,\r\n              component: AdvancedView,\r\n          }\r\n        : {\r\n              path: '/advanced',\r\n              navbarName: 'Advanced',\r\n              icon: LockOpenIcon,\r\n              component: AdvancedView,\r\n          };\r\nconst viewRoutes = [\r\n    {\r\n        path: '/dashboard',\r\n        sidebarName: 'Dashboard',\r\n        navbarName: 'Dashboard',\r\n        icon: Dashboard,\r\n        component: DashboardView,\r\n    },\r\n    {\r\n        path: '/displays/:displayId',\r\n        navbarName: 'Displays',\r\n        sidebarName: 'Displays',\r\n        icon: List,\r\n        component: DisplayView,\r\n    },\r\n    {\r\n        path: '/scenes',\r\n        sidebarName: 'Scenes Management',\r\n        navbarName: 'Scenes Management',\r\n        icon: SaveAltIcon,\r\n        component: ScenesView,\r\n    },\r\n    {\r\n        path: '/devices',\r\n        sidebarName: 'Device Management',\r\n        navbarName: 'Device Management',\r\n        icon: Settings,\r\n        component: DevicesView,\r\n    },\r\n    integrations,\r\n    virtuals,\r\n    {\r\n        path: '/settings',\r\n        sidebarName: 'Settings',\r\n        navbarName: 'Settings',\r\n        icon: BuildIcon,\r\n        component: SettingsView,\r\n    },\r\n    advanced,\r\n    {\r\n        path: '/developer/:graphString',\r\n        navbarName: 'Developer',\r\n        component: DeveloperView,\r\n    },\r\n    {\r\n        path: '/developer/melbank',\r\n        sidebarName: 'Developer',\r\n        navbarName: 'Developer',\r\n        icon: Tune,\r\n        component: DeveloperView,\r\n    },\r\n    { redirect: true, path: '/', to: '/dashboard', navbarName: 'Redirect' },\r\n];\r\n\r\nexport default viewRoutes;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Menu from '@material-ui/icons/Menu';\r\nimport RedeemIcon from '@material-ui/icons/Redeem';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport DevIcon from '@material-ui/icons/DeveloperMode';\r\nimport viewRoutes from 'routes/views.jsx';\r\nimport { drawerWidth } from 'utils/style';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nconst styles = theme => ({\r\n    appBar: {\r\n        backgroundColor: theme.palette.background.default,\r\n        paddingLeft: 0,\r\n        [theme.breakpoints.up('md')]: {\r\n            width: `100%`,\r\n            left: 0,\r\n            paddingLeft: drawerWidth,\r\n        },\r\n    },\r\n    // toolBar: {\r\n    //     background: 'rgb(16,16,16)',\r\n    //     bordeBottom: '1px solid rgba(255, 255, 255, 0.12)',\r\n    // },\r\n    flex: {\r\n        flex: 1,\r\n        fontSize: 18,\r\n        fontWeight: 300,\r\n    },\r\n});\r\n\r\nconst Header = props => {\r\n    const getPageName = () => {\r\n        const { location, devicesDictionary, selectedDisplay } = props;\r\n        const { pathname } = location;\r\n        let name = viewRoutes.find((prop, key) => prop.path === pathname)?.navbarName;\r\n\r\n        if (!name) {\r\n            if (pathname.startsWith('/devices/')) {\r\n                const deviceId = pathname.replace('/devices/', '');\r\n                const deviceName =\r\n                    devicesDictionary[deviceId] !== undefined\r\n                        ? devicesDictionary[deviceId].config.name\r\n                        : '';\r\n                name = 'Devices / ' + deviceName;\r\n            } else if (pathname.startsWith('/displays/')) {\r\n                const displayId = pathname.replace('/displays/', '');\r\n                const displayName =\r\n                    devicesDictionary[displayId] !== undefined\r\n                        ? devicesDictionary[displayId].config.name\r\n                        : selectedDisplay\r\n                        ? selectedDisplay.config[selectedDisplay.id] &&\r\n                          selectedDisplay.config[selectedDisplay.id].config.name\r\n                        : '';\r\n\r\n                name = 'Devices / ' + displayName;\r\n            } else if (pathname.startsWith('/developer/')) {\r\n                name = 'Developer / Custom';\r\n            }\r\n        }\r\n        return name;\r\n    };\r\n    const [easterEgg, setEasterEgg] = useState(false);\r\n\r\n    const { classes } = props;\r\n    const name = getPageName();\r\n    return (\r\n        <AppBar className={classes.appBar}>\r\n            <Toolbar className={classes.toolBar}>\r\n                <>\r\n                    <Typography\r\n                        variant=\"h2\"\r\n                        color=\"textPrimary\"\r\n                        className={classes.flex}\r\n                        onDoubleClick={() => {\r\n                            if (name === 'Device Management') {\r\n                                setEasterEgg(true);\r\n                            }\r\n                        }}\r\n                    >\r\n                        {getPageName()}\r\n                    </Typography>\r\n                    {(easterEgg || parseInt(window.localStorage.getItem('BladeMod')) > 0) && (\r\n                        <Fab\r\n                            variant=\"round\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            onDoubleClick={() => {\r\n                                if (name === 'Settings') {\r\n                                    window.localStorage.setItem('BladeMod', 1);\r\n                                    window.location.pathname = '/settings';\r\n                                    return;\r\n                                }\r\n                                if (\r\n                                    name === 'Advanced' &&\r\n                                    window.localStorage.getItem('BladeMod') === '1' &&\r\n                                    window.localStorage.getItem('blade') === '3'\r\n                                ) {\r\n                                    window.localStorage.setItem('BladeMod', 2);\r\n                                    window.location.pathname = '/advanced';\r\n                                    return;\r\n                                }\r\n                                window.localStorage.setItem('BladeMod', 0);\r\n                                window.location.pathname = '/dashboard';\r\n                            }}\r\n                        >\r\n                            {window.localStorage.getItem('BladeMod') === '1' ? (\r\n                                <DevIcon />\r\n                            ) : parseInt(window.localStorage.getItem('BladeMod')) > 1 ? (\r\n                                <StarIcon />\r\n                            ) : (\r\n                                <RedeemIcon />\r\n                            )}\r\n                        </Fab>\r\n                    )}\r\n                    <Hidden mdUp>\r\n                        <IconButton aria-label=\"open drawer\" onClick={props.handleDrawerToggle}>\r\n                            <Menu />\r\n                        </IconButton>\r\n                    </Hidden>\r\n                </>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n\r\nHeader.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    devicesDictionary: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(Header);\r\n","import { drawerWidth } from 'utils/style';\r\n\r\nconst sidebarStyle = theme => ({\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n        [theme.breakpoints.up('md')]: {\r\n            width: drawerWidth,\r\n            position: 'fixed',\r\n            height: '100%',\r\n        },\r\n    },\r\n    logo: {\r\n        position: 'relative',\r\n        padding: '15px 15px',\r\n        zIndex: '4',\r\n        '&:after': {\r\n            content: '\"\"',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            height: '1px',\r\n            right: '15px',\r\n            width: 'calc(100% - 30px)',\r\n            backgroundColor: 'rgba(180, 180, 180, 0.3)',\r\n        },\r\n    },\r\n    logoLink: {\r\n        padding: '5px 0',\r\n        display: 'block',\r\n        fontSize: '18px',\r\n        textAlign: 'left',\r\n        fontWeight: '400',\r\n        lineHeight: '30px',\r\n        textDecoration: 'none',\r\n        backgroundColor: 'transparent',\r\n        '&,&:hover': {\r\n            color: '#FFFFFF',\r\n        },\r\n    },\r\n    logoImage: {\r\n        width: '30px',\r\n        display: 'inline-block',\r\n        maxHeight: '30px',\r\n        marginLeft: '10px',\r\n        marginRight: '15px',\r\n    },\r\n    img: {\r\n        width: '35px',\r\n        top: '17px',\r\n        position: 'absolute',\r\n        verticalAlign: 'middle',\r\n        border: '0',\r\n    },\r\n    background: {\r\n        position: 'absolute',\r\n        zIndex: '1',\r\n        height: '100%',\r\n        width: '100%',\r\n        display: 'block',\r\n        top: '0',\r\n        left: '0',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center center',\r\n        '&:after': {\r\n            position: 'absolute',\r\n            zIndex: '3',\r\n            width: '100%',\r\n            height: '100%',\r\n            content: '\"\"',\r\n            display: 'block',\r\n            background: '#000',\r\n            opacity: '.8',\r\n        },\r\n    },\r\n    list: {\r\n        marginTop: '20px',\r\n        paddingLeft: '0',\r\n        paddingTop: '0',\r\n        paddingBottom: '0',\r\n        marginBottom: '0',\r\n        listStyle: 'none',\r\n        position: 'unset',\r\n    },\r\n    item: {\r\n        position: 'relative',\r\n        display: 'block',\r\n        textDecoration: 'none',\r\n        '&:hover,&:focus,&:visited,&': {\r\n            color: '#FFFFFF',\r\n        },\r\n    },\r\n    itemLink: {\r\n        width: 'auto',\r\n        transition: 'all 300ms linear',\r\n        margin: '10px 15px 0',\r\n        borderRadius: '3px',\r\n        position: 'relative',\r\n        display: 'block',\r\n        padding: '10px 15px',\r\n        backgroundColor: 'transparent',\r\n    },\r\n    itemIcon: {\r\n        width: '24px',\r\n        minWidth: '24px',\r\n        height: '30px',\r\n        float: 'left',\r\n        marginRight: '15px',\r\n        textAlign: 'center',\r\n        verticalAlign: 'baseline',\r\n        color: 'rgba(255, 255, 255, 0.8)',\r\n    },\r\n    itemText: {\r\n        margin: '0',\r\n        lineHeight: '30px',\r\n        fontSize: '14px',\r\n        fontWeight: 300,\r\n        color: '#FFFFFF',\r\n        verticalAlign: 'middle',\r\n    },\r\n    devicesItemText: {\r\n        margin: '0',\r\n        marginLeft: '10px',\r\n        lineHeight: '30px',\r\n        fontSize: '14px',\r\n        fontWeight: 300,\r\n        color: '#FFFFFF',\r\n        textDecoration: 'none',\r\n    },\r\n    activeView: {\r\n        backgroundColor: [theme.palette.primary.main],\r\n        boxShadow: [theme.shadows[12]],\r\n        '&:hover,&:focus,&:visited,&': {\r\n            backgroundColor: [theme.palette.primary.main],\r\n            boxShadow: [theme.shadows[12]],\r\n        },\r\n        color: '#FFFFFF',\r\n    },\r\n    sidebarWrapper: {\r\n        position: 'relative',\r\n        height: 'calc(100vh - 70px)',\r\n        overflow: 'auto',\r\n        zIndex: '4',\r\n        overflowScrolling: 'touch',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n    },\r\n    bottomBar: {\r\n        position: 'relative',\r\n        background: theme.palette.grey[900],\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        paddingTop: '0.4rem',\r\n        paddingBottom: '0.4rem',\r\n        textAlign: 'center',\r\n        borderTop: `1px solid ${[theme.palette.background.default]}`,\r\n        color: '#FFFFFF',\r\n        '& > a': {\r\n            margin: '0 5px',\r\n        },\r\n    },\r\n});\r\n\r\nexport default sidebarStyle;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport BugReportIcon from '@material-ui/icons/BugReport';\r\n\r\nexport default function FormDialog({ color }) {\r\n    const WEBHOOK_URL =\r\n        'https://discord.com/api/webhooks/801611956452720660/lcCg8hzCRZcxnA-99JVtqX_GYLfgUsr0AjDH4seDNQNEC8XSKkHModopgjTAuFodhNwI';\r\n    const [open, setOpen] = React.useState(false);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const settings = useSelector(state => state.settings);\r\n    const infos = {\r\n        userAgent: navigator.userAgent,\r\n        language: navigator.language,\r\n        platform: navigator.platform,\r\n    };\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n\r\n        sendMessage({ text: JSON.stringify(infos) });\r\n    };\r\n    const sendMessage = async ({ avatar = '' }) => {\r\n        const request = new XMLHttpRequest();\r\n        request.open('POST', WEBHOOK_URL);\r\n\r\n        request.setRequestHeader('Content-type', 'application/json');\r\n\r\n        const params = {\r\n            username: name,\r\n            avatar_url: avatar,\r\n            content: `\r\n\r\nDescription:\r\n\\`\\`\\`json\r\n${JSON.stringify(description)}\r\n\\`\\`\\`\r\nInfos:\r\n\\`\\`\\`json\r\n${JSON.stringify(infos)}\r\n\\`\\`\\`\r\nSettings:\\`\\`\\`json\r\n${JSON.stringify(settings)}\r\n\\`\\`\\`Logs-URL:\r\n\\`\\`\\`https://logsurl-are-incoming.com\\`\\`\\`\r\n`,\r\n        };\r\n        request.send(JSON.stringify(params));\r\n    };\r\n    return (\r\n        <div style={{ display: 'inline-block', color: color }}>\r\n            <IconButton onClick={handleClickOpen} color={color}>\r\n                <BugReportIcon aria-label=\"BugTracker\" title=\"BugTracker\" color={color} />\r\n            </IconButton>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">LedFx BugTracker</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Attention, if you abuse this service, Blade will hack you... No, serious!!\r\n                        We need to pay 3,30 per request\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        value={name}\r\n                        onChange={e => setName(e.target.value)}\r\n                        id=\"name\"\r\n                        label=\"Name\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        value={description}\r\n                        onChange={e => setDescription(e.target.value)}\r\n                        id=\"description\"\r\n                        label=\"Description\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Subscribe\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nimport { IconButton } from '@material-ui/core';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport ForumIcon from '@material-ui/icons/Forum';\r\nimport BugTracker from 'components/BugTracker';\r\n\r\nconst BottomBar = ({ classes }) => {\r\n    return (\r\n        <div className={classes.bottomBar}>\r\n            <IconButton\r\n                aria-label=\"Website\"\r\n                color=\"inherit\"\r\n                href=\"https://ledfx.app/\"\r\n                target=\"_blank\"\r\n                title=\"Website\"\r\n            >\r\n                <LanguageIcon />\r\n            </IconButton>\r\n            <IconButton\r\n                aria-label=\"Github\"\r\n                color=\"inherit\"\r\n                href=\"https://github.com/LedFx/LedFx/tree/dev\"\r\n                target=\"_blank\"\r\n                title=\"Github\"\r\n            >\r\n                <GitHubIcon />\r\n            </IconButton>\r\n            <IconButton\r\n                aria-label=\"Discord\"\r\n                color=\"inherit\"\r\n                href=\"https://discord.gg/tFSKgTzRcj\"\r\n                target=\"_blank\"\r\n                title=\"Discord\"\r\n            >\r\n                <ForumIcon />\r\n            </IconButton>\r\n            {parseInt(window.localStorage.getItem('BladeMod')) >= 2 && (\r\n                <BugTracker color=\"inherit\" />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BottomBar;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport viewRoutes from 'routes/views.jsx';\r\nimport logoAsset from 'assets/img/icon/large_white_alpha.png';\r\nimport sidebarStyle from './style.jsx';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { fetchDeviceList } from 'modules/devices.js';\r\nimport { fetchDisplayList } from 'modules/displays.js';\r\nimport { camelToSnake } from 'utils/helpers';\r\n\r\nimport BottomBar from './BottomBar.js';\r\nimport Wled from 'components/CustomIcons/Wled.js';\r\nconst Links = ({ classes, devMode, effectLinks, isViewActive }) => {\r\n    const displays = useSelector(state => state.displays.list);\r\n\r\n    return (\r\n        <List className={classes.list}>\r\n            {viewRoutes.map((prop, key) => {\r\n                if (prop.redirect || !prop.sidebarName) {\r\n                    return null;\r\n                }\r\n\r\n                if (prop.sidebarName === 'Developer' && !devMode) {\r\n                    return null;\r\n                }\r\n\r\n                var listItemClass = classes.itemLink;\r\n                if (isViewActive(prop.path) && prop.sidebarName !== 'Devices') {\r\n                    listItemClass = listItemClass + ' ' + classes.activeView;\r\n                }\r\n                if (isViewActive(prop.path) && prop.sidebarName !== 'Displays') {\r\n                    listItemClass = listItemClass + ' ' + classes.activeView;\r\n                }\r\n                if (isViewActive(prop.path) && prop.sidebarName !== 'EffectPresets') {\r\n                    listItemClass = listItemClass + ' ' + classes.activeView;\r\n                }\r\n\r\n                if (prop.sidebarName === 'Displays') {\r\n                    return (\r\n                        <div className={classes.item} key={key}>\r\n                            <ListItem button className={listItemClass} key={prop.sidebarName}>\r\n                                <NavLink\r\n                                    to={`/devices`}\r\n                                    className={classes.item}\r\n                                    activeClassName=\"active\"\r\n                                >\r\n                                    <ListItemIcon className={classes.itemIcon}>\r\n                                        <prop.icon />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText\r\n                                        primary={'Devices'}\r\n                                        className={classes.itemText}\r\n                                        disableTypography={true}\r\n                                    />\r\n                                </NavLink>\r\n                                <List className={classes.list}>\r\n                                    {displays.map(display => {\r\n                                        let listItemClass = classes.itemLink;\r\n                                        if (isViewActive(`/displays/${display.id}`)) {\r\n                                            listItemClass = `${listItemClass} ${classes.activeView}`;\r\n                                        }\r\n                                        return (\r\n                                            <NavLink\r\n                                                to={`/displays/${display.id}`}\r\n                                                className={classes.item}\r\n                                                key={display.id}\r\n                                                activeClassName=\"active\"\r\n                                            >\r\n                                                <ListItem button className={listItemClass}>\r\n                                                    <ListItemIcon className={classes.itemIcon}>\r\n                                                        <Icon\r\n                                                            color={\r\n                                                                display.effect &&\r\n                                                                display.effect.active === true\r\n                                                                    ? isViewActive(\r\n                                                                          `/displays/${display.id}`\r\n                                                                      )\r\n                                                                        ? 'inherit'\r\n                                                                        : 'primary'\r\n                                                                    : 'inherit'\r\n                                                            }\r\n                                                        >\r\n                                                            {display.config.icon_name &&\r\n                                                            display.config.icon_name.startsWith(\r\n                                                                'wled'\r\n                                                            ) ? (\r\n                                                                <Wled />\r\n                                                            ) : display.config.icon_name.startsWith(\r\n                                                                  'mdi:'\r\n                                                              ) ? (\r\n                                                                <span\r\n                                                                    className={`mdi mdi-${\r\n                                                                        display.config.icon_name.split(\r\n                                                                            'mdi:'\r\n                                                                        )[1]\r\n                                                                    }`}\r\n                                                                ></span>\r\n                                                            ) : (\r\n                                                                camelToSnake(\r\n                                                                    display.config.icon_name ||\r\n                                                                        'SettingsInputComponent'\r\n                                                                )\r\n                                                            )}\r\n                                                        </Icon>\r\n                                                    </ListItemIcon>\r\n                                                    <ListItemText\r\n                                                        primary={display.config.name}\r\n                                                        className={classes.devicesItemText}\r\n                                                        disableTypography={true}\r\n                                                    />\r\n                                                </ListItem>\r\n                                            </NavLink>\r\n                                        );\r\n                                    })}\r\n                                </List>\r\n                            </ListItem>\r\n                        </div>\r\n                    );\r\n                }\r\n\r\n                if (prop.sidebarName === 'EffectPresets') {\r\n                    return (\r\n                        <ListItem button className={listItemClass}>\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <prop.icon />\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={prop.sidebarName}\r\n                                className={classes.itemText}\r\n                                disableTypography={true}\r\n                            />\r\n                            <List className={classes.list}>{effectLinks}</List>\r\n                        </ListItem>\r\n                    );\r\n                }\r\n\r\n                return (\r\n                    <NavLink\r\n                        to={prop.path}\r\n                        className={classes.item}\r\n                        activeClassName=\"active\"\r\n                        key={key}\r\n                    >\r\n                        <ListItem button className={listItemClass}>\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <prop.icon />\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={prop.sidebarName}\r\n                                className={classes.itemText}\r\n                                disableTypography={true}\r\n                            />\r\n                        </ListItem>\r\n                    </NavLink>\r\n                );\r\n            })}\r\n        </List>\r\n    );\r\n};\r\n\r\nconst Sidebar = props => {\r\n    const isViewActive = viewName => {\r\n        return props.location.pathname === viewName;\r\n    };\r\n\r\n    const { classes, effectLinks, devMode, handleDrawerToggle, open } = props;\r\n    const version = useSelector(state => state.settings.version);\r\n    const logo = (\r\n        <div className={classes.logo}>\r\n            <a href=\"/#\" className={classes.logoLink}>\r\n                <div className={classes.logoImage}>\r\n                    <img src={logoAsset} alt=\"logo\" className={classes.img} />\r\n                </div>\r\n                LedFx\r\n                <span style={{ fontSize: 'small', color: '#999' }}> - v{version}</span>\r\n            </a>\r\n        </div>\r\n    );\r\n    useEffect(() => {\r\n        fetchDisplayList();\r\n        fetchDeviceList();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Hidden mdUp>\r\n                <Drawer\r\n                    variant=\"temporary\"\r\n                    anchor=\"right\"\r\n                    open={open}\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }}\r\n                    onClose={handleDrawerToggle}\r\n                    ModalProps={{\r\n                        keepMounted: true,\r\n                    }}\r\n                >\r\n                    {logo}\r\n                    <div className={classes.sidebarWrapper}>\r\n                        <Links\r\n                            isViewActive={isViewActive}\r\n                            classes={classes}\r\n                            effectLinks={effectLinks}\r\n                            devMode={devMode}\r\n                        />\r\n                        <BottomBar classes={classes} />\r\n                    </div>\r\n                    <div className={classes.background} />\r\n                </Drawer>\r\n            </Hidden>\r\n            <Hidden smDown implementation=\"css\">\r\n                <Drawer\r\n                    open\r\n                    variant=\"permanent\"\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }}\r\n                >\r\n                    {logo}\r\n                    <div className={classes.sidebarWrapper}>\r\n                        <Links\r\n                            isViewActive={isViewActive}\r\n                            classes={classes}\r\n                            effectLinks={effectLinks}\r\n                            devMode={devMode}\r\n                        />\r\n                        <BottomBar classes={classes} />\r\n                    </div>\r\n                    <div className={classes.background} />\r\n                </Drawer>\r\n            </Hidden>\r\n        </div>\r\n    );\r\n};\r\n\r\nSidebar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(sidebarStyle)(Sidebar);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AMPFycoqNs22AAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAgAElEQVR42u3de9B1Z1ke8Ot5SRAUkYB2xnEIdoS2aGsRCaYwEO0w2ikHOZlwjpxPBQU1Ih5qlVYxCqgcTUDFKoSAAgZw2lLloEVQUINSFQXBY0WCSkggMat/7B19P/i+nfdwr7XX2s/v9ycOktx7rfU867muvd8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgHG14/yXh2G4dZJLktzYKIGRfDDJg1tr1xhFP4Zh2Evy00lubxplLk/yqNbacOwNwPpDelqS55grMKILW2sXGENXG4DvSvL9JlHmyiRntdbeV3ICsP6QWpLXJLmf+QJjrQdJ7tdae51RdLH43z3Jm5OcZhplzm+tvXz/f9CKPqxbJHl3kn9uxsBIrkhyx9baB41ipxf/L0jyniRfZBplLm6tPfbT/8O9iv/PrbWPJTkvyafMGRjJGUkuGYZB52h3F/+9JD9j8S/13iTfdLL/w17V/0Jr7V1JnmHWwIjunORZxrCznpnk64yhzJVJzm2tfeKk63bx7k0fABj9RTH6ALv49i/3r/cZuf9oG4D1h6gPAIxNH2C3Fn+5f72T5v777VX/L+oDABPQB9idxV/uX++Uuf+oG4D1JkAfABibPsBukPvX2pj7n7BWj7ir0wcARn+BjD7Akt/+5f71Nub+k2wA1h+uPgAwNn2AZS7+cv96N5j777c35j+JPgAwAX2A5S3+cv96B8r9J9sArDcB+gDA2PQBlkXuX+vAuf8J6/NEuz19AGD0R030AZbw9i/3r3fg3H/yDcD6Q9cHAMamDzDvxV/uX+9Quf9+e1P9E+oDABPQB5jv4i/3r3fo3H8rG4D1JkAfABibPsA8yf1rHSn3P2FN3sIuUB8AGP1RE32AOb39y/3rHSn33+oGYH0x6AMAY9MHmMfiL/evd+Tcf7+9bfyT6wMAE9AH2P7iL/evd6zcf+sbgPUmQB8AGJs+wHbJ/WsdO/c/YR3e8u5QHwAY/VETfYBtPN/l/vWOnfvPZgOwvkj0AYCx6QNM+1yX+9cryf3329v2v5E+ADABfYDpFn+5f72y3H9WG4D1JkAfABibPsA05P61SnP/E9beGe0a9QGA0R810QcY8zku969XmvvPcgOwvnj0AYCx6QOM8/yW+9crz/3325vTv6k+ADABfYD6xV/uX2+U3H+2G4D1JkAfABibPkAtuX+t0XL/E9bbme4m9QGA0R81Se7TWrvMKI71vJb71xst95/9BmB9UekDAGPTBzjec1ruX2/U3H+/vblOQB8AmIA+wNEXf7l/vdFz/0VsANabAH0AYGz6AEcj9681Se5/whq7gF2mPgAw+qMmfh/gMM9luX+9SXL/RW0A1hebPgAwNn2Agz2P5f71Jsv999tbwmT0AYAJ6APc8OIv9683ae6/uA3AehOgDwCMTR9gM7l/rclz/xPW1YXtPvUBgNEfNdEHONnzV+5fb/Lcf7EbgPVFqA8AjE0f4MTnrty/3lZy//32ljYxfQBgAvoA/7T4y/3rbS33X/QGYL0J0AcAxqYPsCL3r7XV3P+EtXTBu1J9AGD0R0067gPI/Uex1dx/JzYA64tTHwAYW5d9ALn/KLae+++3t+RJ6gMAE+iuDyD3H8Uscv+d2QCsNwH6AMDYeusDyP1rzSb3P2H93JHdqj4AMPqjJh30AeT+o5hN7r9zG4D1RasPAIxtp/sAcv9RzCr3329vVyasDwBMYGf7AHL/Ucwu99/JDcB6E6APAIxtV/sAcv9as8z9T1gzd3AXqw8AjP6oyQ71AeT+o5hl7r/TG4D1xawPAIxtJ/oAcv9RzDb3329vFyevDwBMYPF9ALn/KGad++/8BmC9CdAHAMa29D6A3L/W7HP/E9bJXf4k9AGAKR41Se7TWrtsYc/Hc7LK/W/kIywz+9y/mw3A+iLXBwDGtqg+gNx/FIvI/bvaAKwv9jsleazrE05w1yRfZgxlfi3JV7fWrpn583AvyZuSfK2PrMzlSb6qtXaVDQCwhI3xbbI6HbulaZS5sLV2wcw/9+9K8v0+qjJXJjmrtfa+pf2D2wBA35uAeyb5Rc+CupFmxr8P4Pv+o1hU7m8DAOxfFH4kydNNosws+wBy/1EsLve3AQD2LwynJ/mVJHcxjTLvTHK31tqnZvIZ7yV5Y3zlr9J7s8r9P7HUf4E9nyH0bV1ae1CSvzGNMnP7fQDf96+1qO/7OwEAbugtUR+geKSZQR9A7j+Kxeb+NgDAqRYLfYBaW+0DyP1Hsejc3wYAONWCoQ9Qbyt9ALn/KBaf+++nAwD80xuBPsAYttUHkPvX2onc3wkAcENvj/oAxSPNhH0Auf8odiL3twEADrKI6APUmqQPIPcfxc7k/jYAwEEWEn2AeqP2AeT+o9ip3H8/HQDg5G8H+gBjGLsPIPevtXO5vxMA4DBvlfoAxSPNCH0Auf8odi73twEADru46APUKu0DyP1HsZO5vw0AcNgFRh+gXkkfQO4/ip3N/ffTAQBu+E1BH2AMVX0AuX+tnc79nQAAR33b1AcoHmmO0QeQ+49ip3N/GwDgOJsAfYBaR+oDyP1HsfO5vw0AcJwNgD5AvUP1AeT+o+gi999PBwA43FuDPsAYDtsHkPvX6ib3dwIAVJwE6AMUjzQH6API/UfRTe5vAwBUbQL0AWpt7API/UfRVe5vAwBUbQD0AeqdtA8g9x9Fd7n/fjoAwNHfIPQBxnCqPoDcv9bHk3xDr4u/EwCg6iRAH6B4pNnXB5D7j6LL3N8GABhjE6APUOuKJHfMqqEu96/Vbe5vA1D3wLt5khst/F/jDJ/ksdwoyc1H/t+4urX2uwu4H05P8tYkZ7ssmLHLs8r9r7IB4DgPvCckeZFJMPalluS81tqlC7gnbr1+W72Vj40ZujLJWa219xmFEuDxdk+tvTjJz5kEE2zUXzYMw5cu4J74cJLz15sWmJsnWfxtACo9PsnvGwMju1mSn1/HTnPfBLwhyXN9ZMzMxb2X/k72ZsExDcPw5Ul+PclNTIORvTbJ/Vtrw8zvCb8PwJx0/X1/JwDjvvH8TpILTIIJ3DfJ0xZwT/h9AOaiy9/5dwIw/VvPa5Lc3yQY2bVJ7tFae8sC7gm/D8C2ne/o3wnAFB6d5APGwMhOS3LJMAyz/164PgBbJvd3AjDpG89ZSd6e5MamwcjekeScg/4N+S3eE/oAbIPc3wnA5G8870ryHSbBBM5OcuEC7gl9AKYm97cB2JrnZtXWhrE9dRiG8xewCfD7AEzJ9/0Pcl8awTiGYTgjybuTfLFpMLKrkty1tfaeBdwX/l4AY/M7/zYAs3jY3TnJ26IPwPjen9VPnH5s5veEPgBjkvsfgghgzN1Va+9M8t0mwQRum+TlwzC0md8T+gCMRe5vAzA7FyZ5vTEwgXtnAQVUfQBGIvc/7L1oBOMbhuGWWf2FtDNNg5Fdl+SerbVfWsB9oQ9AFbm/DcCsH3Z3S/K/s/oRFxjTR5PcqbX2gZnfE/oAVJD7H5EIYKqdVmtvS/K9JsEEbpnVXw686czvCX0AjkvubwOwGD+Q5H8YAxO4Q5LnLWBjrA/Accj9bQAWcwpwXZKHJ/lz02ACjxuG4dELuC/8vQCOwu/8H/feM4LpDcNwTpI3J7mRaTCyq5PcrbX2GzO/J/QBOAy5vxOAxZ4EvCXJs0yCCdwkyWuGYfj8md8T+gAclNzfBmDxvi/J/zIGJnBmklcMwzDrEyd9AA5I7m8DsPhTgOuSPCzJX5gGE7hHku9ZwH2hD8Amcv/K+80ItmsYhq9J8j+jD8AEl1uSB7TWfmHm94Q+ACcj93cCsHMnAb+c5AdNgok2/C8bhuFLZn5P6APw6eT+NgA763uy+pVAGNstsvqRoM+e+SZAH4D95P42ADt7CnBdkocm+UvTYAJfnuSiBdwX+gAkcv/x7jEjmI9hGP5DkjfYmDGRJ7fWXjjze0IfoG9yfxuArjYBz05ygUkwgU8lOae19o6Z3xO3SfLurP7GAf24MslZjv7H401zfr4zya8aAxO4cVZ9gC+c9VtKa3+S5BHRB+iN3N8GoC+ttWuzakB/xDSYwBcm+dlhGE6b+X2hD9AXuf8U95URzNMwDP8xyWU+IybyQ621b5/5PaEP0Ae5vw0AwzD8SJKnmwRTXG5JzmutXTrze+LWSd6T5FY+sp0k97cBwBsPW/Dx9ZvX7838vrhnkl/0/NpJ5zv6n44OwJx3Z//0i2gfNQ0mcLOsSoE3n/l9oQ+wm+T+TgA4yRvPvZK83ufFRF6b5P6ttWHG94TTsd0i93cCwCneeC5L8nyTYCL3TfK0md8T/l7A7vA7/04AOMAbz1uTnG0aTODaJPdorb1l5veFPsDyyf2dAHCAN56HJflb02ACpyW5ZBiGL5r5faEPsGxyfycAHOKN54FJLjUJJvKOrH4u+FMzvif0AZZJ7u8EgEO+8bw6yYtMgomcneTCmd8T+gDLI/e3AeCInpbVj6HAFJ46DMP5M98EfDjJ+fH3ApbC7/zbAHDEh90nk5yb5O9Mg4m8aBiGr5j5faEPsAxy/7ncM0awXMMwnJvkEpNgIu/P6mdaPzbje0IfYN7k/k4AKHrjeVWSi02Cidw2ycuHYWgzvif0AeZL7m8DQLGnJPktY2Ai907yHTPfGOsDzJPcf273ihEs3zAMt0vym0k+1zSYwHVJ7tla+6WZ3xf+muZ8XNxae6wx2ABQ/6A7M6tvBdzSNJjIR5J8ZWvtQzO+L/x65jxcnlXuf5VRzIsIYPmL/2lJfs7iz8Q+P8nrhmG46WzfblZ9gHOjD7BNVyY5z+JvA8A4fjDJXY2BLbhDkufN+R9QH2Dr5P42AIz09n/PyDjZrscNw/DomW8C/D7Advi+/8zpACx38b91Vrn/rUyDLbs6yd1aa78x4/vF7wNMy/f9bQDwMKMTH8qqFPgRm+buXZnVD0Y5+p85EcAyPdviz8ycmeQVwzDcaLZvO/oAU5H72wAw0lvMvZJ8s0kwQ/dI8j1z/gfUBxid3H9BRADLWvwdYTL7yzTJA1prvzDj++j0JJ/yUY3ic+T+y3GaESxm8b9xkkst/qX+LKvviX/SKEp9fOanANcMw/C+JLf3UZW6yOLvBIBxNgDPjaP/Stcm+fettbcZRXf30jlZlWipd9/W2uuMwQaAugfWvZK83udV6hmttWcbQ3f30hdkFaN9kWmM4ookd2ytfdAobAA4/gPrzCTvjqP/Sm9Kcq/W2nVG0dW9tJfkjUm+zjRG9c6sfhdCz2LmfAtg3g+s05O80uJf6k+TPMLi36VnWvwnceckzzIGJwAcbwPwvCTfZBJlrk3yNa21txtFd/fS3ZO8OYrPk408yf30AWwAONoDS+5f74LW2oXG0N29JPffDn0AGwCO8MA6c/3A8id+67wxq9zfr8D1dS/J/bdLH2DGdADm98C6Pve3+Nf5cJLzLf5dkvtvlz6AEwAOsQH40SRPNYky1yb56tbarxpFd/eS3H8mH0X0AWwAuMEH1r2TvM7nUupbWmvPMYbu7iW5/7zoA9gAsOGBdZusvu/v6L/OG5Lc29F/d/eS3H+e9AFmRgdgHg8suX89uX+/5P7zpA/gBICTbAB+LMlTTKLMNVnl/r9mFN3dS3L/mX9E0QewAeAfH1j3SfJan0Wpp7XWnmcM3d1Lcv9l0AewAWAYhi9J8ptJPs80ylyW5D6O/ru7l+T+y6IPMAM6ANt7YH1Wkkss/qU+FLl/r+T+y6IP4ASg6w3A85M82STKXJPknNba/zGK7u4luf9CP7roA9gAdPjAemCSS02i1FNbaz9uDN3dS3L/ZdMHsAHo6oEl96/3+iT3dfTf3b0k998N+gBbogMw7QNL7l/vj5I8wuLfJbn/btAHcALQxQbgBUmeZBJlPpnkrq213zSK7u4luf+OfaTRB7AB2OEH1jckeZVJlPpPrbUXGEN395LcfzfpA9gA7OQDS+5f79LW2rnG0N29JPffbfoAE9IBGP+B9VnrN3+Lf533J3msMXRJ7r/b9AGcAOzUBuCFSZ5oEmU+meQurbV3G0V395Lcv5OPOqtf87zMKGwAlvzAkvvXe2Jr7cXG0N29JPfviz6ADcCiH1i3TfIbcfRf6VWttfOMobt7Se7fJ32AkekAjPPA8n3/enL/fsn9+6QP4ARgkRuAFyV5gkmUuTqr3P89RtHdvST37/wSiN8HsAFY0APr3PXbP3Ue11q7yBi6u5fk/iT6ADYAC3lg3Tar7/vf3DTKXNJae5AxdHcvyf3ZTx9gBDoAdQ+sm2TV+Lf41/nDJI8zhi7J/dlPH8AJwKw3AC9O8niTKHN1kn/XWvsto+juXpL7c9JLI/oANgAzfGDJ/es9prX2UmPo7l6S+7OJPoANwKweWHL/eq9srT3YGLq7l+T+HIQ+QBEdgOM9sOT+9f4gcv9eyf05CH0AJwCz2AD8RPw4TaWrk5zdWvtto+juXpL7c6hLJvoANgBbfGCdl+SVJlHqka21nzKG7u4luT9HoQ9gA7CVB9btsvqdf0f/dV7RWnuIMXR3L8n9OQ59gGPQATj8A+smWTX+Lf51fj++QtkruT/HoQ/gBGDSDcBFSR5jEmWuTHLn1trvGUV395Lcn5JLKfoANgATPLDk/vW+sbX208bQ3b0k96eSPsARiAAO/sC6XZKfMIlSL7P4d3kv7SX5GYs/hc5IcskwDDc2ChuA6geW7/vX+90kTzGGLsn9GYM+wCGJAA62Abg4yaNNoozcv997Se7PqJdY9AFsAAofWA9K8gqTKHV+a+3lxtDdvST3Zwr6AAckAtj8wPoXkftXu8ji3+W9JPdnKvoANgDHfmBdn/t/rmmUeW+SbzaGLsn9mZI+wAGIAE69AXhpkkeZRJmPZ5X7v88ouruX5P5s5dKLPoANwBEeWHL/eg9vrf13Y+juXpL7s036ABuIAD7zgSX3r/cSi3+X95Lcn23TB7ABOPADS+5f7/IkTzOGLsn9mQN9gFMQAZy4AXhZkkeaRJmPJzmrtfZ/jaK7e0nuz6wuyegD2ABseGA9OMnPmUSph7XWftYYuruX5P7MkT7ApxEB5B9z/5eYRKkXWvy7vJfk/syVPoANwGc8sG4auX+130nyrcbQJbk/c6YPsE/3EcAwDD+Z5BtdCmX+Pqvc//eNort7Se5f7/wkf5PkMqOou1SjD+AEYBiGR1r8yz3B4t/lvfQFWXVoLP51Lm6tvby19oYkzzGO0hffnxyG4YsNot8H1pcleWeSz3Y/lHl+a82f+O3vXtpL8sY4+q/03iRf1Vr7xHrGpyf5lSR3MZoyv5bkq1tr1zgB6OuB9TlZ5f4W/zq/neTbjKFLcv9aVyY59/rFP0nWi9SDsooDqHGXJP+15wH0GgG8IMmXuv7LfCzJ/VtrVxtFd5vpuyf5zyZR6kkn+5sZrbUPZ9UJGIyozLcOw/D1NgD9PLAetb6JqPOY1tofG0N395Lcv97Fm/5c9roP8FxjKtN1H6CrDoDcfxQ/2lrzJ377W/zl/vVOyP03zF4foN47k9yttfYpJwC7+cCS+9d7V5JvN4Yuyf1rfUbuv+EUQB+gXpe/D9BTBPDCyP0rfSzJea21TxpFd2//cv96J839N2wC9AHqddcH6GIDMAzDo5M8wvVdN9Ikj2qtfcAoulv85f71Nub+GzYB+gC1uusD7HwHYBiGf53k1+Pov9JzW2tPN4buFn+5f70D5f4bPhN9gHrd9AF2+gRA7j/azfEMY+iS3L/WgXP/DacA+gD1uukD7HoE8MIkt3c9l7kiyYN6a8oi9x/JoXL/DZsAfYB6XfQBdnYDMAzDYyL3Lx1p5P69Lv5y/3pHyv03bAL0AWp10QfYyQ6A3H8UP9xa81O//S3+cv96x8r9N3xW+gD1droPsHMnAHL/0W6C7zSGLsn9ax07999wCqAPUG+n+wC7GAG8KHL/Sldk9X1/uX9/b/9y/3oluf+GTYA+QL2d7QPs1AZgGIbHJnm467VupEke2Vr7oFF0t/jL/euV5v4bNgH6AMUjzY72AXamAyD3H8UPtdb81G9/i7/cv94ouf+Gz1AfoN7O9QF24gRgGIabRe5f7R1JvssYuiT3rzVa7r/hFEAfoN7O9QF2JQLwff9aH83q+/7XGEV3b/9y/3qj5v4bNgH6APV2qg+w+A3AMAyPj9y/dKRZ5f5/YhTdLf5y/3qT5P4bNgH6AMUjzQ71ARbdARiG4d9klfvf1HVZ5gdaa880hu4Wf7l/vUlz/w2frT5AvZ3oAyz2BGBf7m/xr/OOOP7tldy/1uS5/4ZTAH2AejvRB1hyBPCiJP/KdVjmr5M8UO7f5du/3L/eVnL/DZsAfYB6i+8DLHIDMAzDE5I8zPVX5rokD2+t/ZlRdLf4y/3rbTX337AJ0AcoHmkW3gdYXAdA7j+KZ7XWvtsYulv895K8KcnXmkaZWeT+Gz5zfYB6i+0DLOoEQO4/irck+S/G0KVnWvxLzSb333AKoA9Qb7F9gKVFAC+O3L/S/0vykNbatUbR3du/3L/erHL/DZsAfYB6i+wDLGYDMAzDE5M81HVW5vrc/8+NorvFX+5fb5a5/4ZNgD5A8UizwD7AIjoAwzB8eVZfUXP0X+f7WmveAPtb/H3fv97lWeX+Vy3sWjg9yVuTnO0jLLOoPsDeAi5SuX+9tyT5PmPoku/717oyqz+XfdXS/sHXfYBzow9QaVF9gCVEAC9O8i9dV2Wuz/3/wSi6e/uX+9dbRO6/YROgD1BvMX2AWW8AhmF4UuT+la5L8jC5f5eLv9y/3qJy/w2bAH2A4pFmIX2A2XYA5P6j+N7Wmq/89bf4y/3rzfr7/ke4Rvw+QL3Z9wH2Znoxyv3r/XJ27G9Zc2By/1qz/77/EU4B/D5Avdn3AeYaAbwkcv9Kf5XkoXL/Lt/+5f71Fp37b9gE6APUm3UfYHYbgGEYnpzkIa6bMtfn/n9hFN0t/nL/ejuR+2/YBOgDFI80M+4DzKoDIPcfxXe31hz997f4y/3r7VTuv+Ha0QeoN8s+wN6MLrrPjdy/2i8n+QFj6JLcv9bO5f4bTgH0AerNsg8wmxOAYRh+No7+K/1Vkju01v7SKLp7+797kjfH0X+l83f56P8U19E9k/xiFvhXY+c60iT3a629zgnAiRfaUyz+pf4hq9Kfxb+/xV/uX+/i3hb/9UmAPkD9C/es+gBb39kNw/Bvs8r9b+L6KPOdrbX/ZgzdLf5y/3pd5P4bril9gHqz6QPsbfni+rwkP2/xL/XmJM82hi7J/Wt1k/tvOAXQB6g3mz7AVk8AhmF4dZIHuB7K/GmSO7bW/toountTk/vXO7/Ho/9TXF/6AMUjzQz6AHtbvKCeavEvdW1Wf+TH4t/fw1nuX+9ii/8JJwH6APUv31vvA2xlNzcMw52SvD3JZ7kOyjyjtebov7/FX+5fr+vcf8O1pg9Qb6t9gL0tXES3SHKJxb/Um5JcaAxdkvvX6j7333AKoA9Qb6t9gMlPAIZheE2S+/vcy/xpkq9orX3EKLp7I5P715P73/B1pw9QPNJsqQ+wN/GF800W/1LXJnmwxb/Lh7Dcv57c/2AnAfoA9S/iW+kDTLaDG4bhrCRvi6P/She01hz997f4y/3ryf0Pdw3qA9SbvA+wN9HFIvev98YkP2wMXZL715L7H/4UQB+g3uR9gNFPAIZhaEleHUf/lT6c1ff9Hf339+Yl968n9z/69agPUDzSTNgHmOIEQO5fS+7f78NW7l9P7n+8kwB9gPqX8sn6AKPu2ta5/9uT3NjnWuZbWmvPMYbuFn+5f73Ls8r9rzKKY12b+gD1JukD7I14UVyf+1v861xmt90tuX+tK5OcZ/EvOQXQB6g3SR9glBOAde7/miT38zmW+XBW3/d3k/X3hiX3ryf3r79O9QGKR5qR+wBjnQB8s8W/1DVJHmTx7/KhKvevJ/cf5yRAH6D+BX3UPkD5Tk3uP86GqrX2o8bQ3eIv96/n+/7jXrP6APVG6wPsFX/4cv96lyX5MWPokty/lu/7j38KoA9Qb7Q+QNkJgNx/FB/KKvf/qFF09yYl968n95/u+tUHKB5pRugDVJ4APN3iX+r63N/i39/DU+5fT+4/7UmAPkD9y3p5H6BkdzYMw52z+p1/R/91ntpa+3Fj6G7xl/vXk/tv51rWB6hX2gfYK/iQz0jySot/qdcneb4xdEnuX0vuv71TAH2AeqV9gGOdAKxz/59Pcl+fS5k/SvKVrbW/NYru3pjk/vXk/tu/rvUBikeaoj7AcU8AvsXiX+qTWf06mcW/v4ek3L+e3H8eJwH6AMUjTVEf4Mg7Mrn/KJ7cWnuhMXS3+Mv968n953WN6wPUO3YfYO+IH+YZ8X3/apda/Lsl968l95/fKYA+QL1j9wEOfQKwzv1/IcnXm3+Z9ye5k6P/Lt+M5P715P7zvd71AYpHmmP0AY5yAvCtFv9Scv9+H4Zy/3py/3mfBOgDFI80x+gDHGoXNgzDVyV5axz9V3pia+3FxtDd4i/3ryf3X8a1rw9Q70h9gL1DfGi+71/vVRb/bsn9a8n9l3MKoA9Q70h9gAOdAMj9R/H+rL7v/3dG0d0bkNy/ntx/efeBPkDxSHPIPsBBTwC+zeJf6ur124rFv7+Hnty/ntx/mScB+gDFI80h+wA3uPOS+4/ica21i4yhu8Vf7l9P7r/se0IfoDjaTDYAAAI7SURBVN6B+wB7N/Dh+L5/vUss/t2S+9eS+y//FEAfoN6B+wBtw+Iv96/3h1l939/Rf39vOnL/enL/3bk/9AGKR5oD9AE2nQBcYPEvJffv9+Em968n99+tkwB9gOKR5gB9gHaKB9bZWeX+p5tjmce01l5qDN0t/nL/enL/3bxX9AHqbewD7J3kQ7hlVt/3t/jXeaXFv1ty/1py/909BdAHqLexD9A+bfFvSV6b5D7mVuYPssr9/94ounujkfvXk/vv/n2jD1A80pyiD/DpJwDPsPiXuj73t/j39xCT+9eT+/dxEqAPUDzSnKIP0PY9sOT+9R7ZWvspY+hu8Zf715P793UP6QPU+4w+wN562HL/eq+w+HdL7l9L7t/fKYA+QL3P6AO09QbgnyW5tfmU+r3W2lXG0OXbyx2S3MgkylzRWvtjY+jyXrpNks83ibqRJnlPa20wCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFH8f4uHg+4Dls9GAAAAAElFTkSuQmCC\"","import React, { createRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport { fetchSchemas } from 'modules/schemas';\r\nimport { getConfig } from 'modules/settings';\r\nimport { drawerWidth } from 'utils/style';\r\nimport viewRoutes from 'routes/views';\r\n\r\nimport Header from './Header';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst style = theme => ({\r\n    root: {\r\n        overflow: 'hidden',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.default,\r\n        padding: theme.spacing(3),\r\n        minWidth: 200,\r\n        marginTop: '44px',\r\n        [theme.breakpoints.up('md')]: {\r\n            marginLeft: drawerWidth,\r\n            marginTop: '64px',\r\n        },\r\n        overflowY: 'auto',\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n});\r\n\r\nclass DefaultLayout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mobileOpen: false,\r\n        };\r\n\r\n        this.root = createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { getConfig, fetchSchemas } = this.props;\r\n        getConfig();\r\n        fetchSchemas();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.history.location.pathname !== prevProps.location.pathname) {\r\n            this.root.scrollTo({ top: 0, behavior: 'smooth' });\r\n\r\n            if (this.state.mobileOpen) {\r\n                this.setState({ mobileOpen: false });\r\n            }\r\n        }\r\n    }\r\n\r\n    setRootRef = el => {\r\n        this.root = el;\r\n    };\r\n\r\n    handleDrawerToggle = () => {\r\n        this.setState(prevState => ({ mobileOpen: !prevState.mobileOpen }));\r\n    };\r\n\r\n    render() {\r\n        const { classes, deviceDictionary, location, settings, selectedDisplay } = this.props;\r\n        const { mobileOpen } = this.state;\r\n\r\n        return (\r\n            <div className={classes.root} ref={this.setRootRef}>\r\n                <Header\r\n                    handleDrawerToggle={this.handleDrawerToggle}\r\n                    location={location}\r\n                    devicesDictionary={deviceDictionary}\r\n                    selectedDisplay={selectedDisplay}\r\n                />\r\n                <Sidebar\r\n                    handleDrawerToggle={this.handleDrawerToggle}\r\n                    open={mobileOpen}\r\n                    location={location}\r\n                    devMode={settings.devMode}\r\n                />\r\n\r\n                <div className={classes.content}>\r\n                    <Switch>\r\n                        {viewRoutes.map(({ redirect, path, to, component: Component }, key) => {\r\n                            if (redirect) {\r\n                                return <Redirect from={path} to={to} key={key} />;\r\n                            }\r\n\r\n                            return (\r\n                                <Route\r\n                                    exact\r\n                                    path={path}\r\n                                    key={key}\r\n                                    render={routeProps => <Component {...routeProps} />}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDefaultLayout.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    deviceDictionary: PropTypes.object.isRequired,\r\n    settings: PropTypes.object.isRequired,\r\n    schemas: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        deviceDictionary: state.devices.dictionary,\r\n        selectedDisplay: state.selectedDisplay.display,\r\n        schemas: state.schemas,\r\n        settings: state.settings,\r\n    }),\r\n    {\r\n        fetchSchemas,\r\n        getConfig,\r\n    }\r\n)(withStyles(style)(DefaultLayout));\r\n","import DefaultLayout from \"../layouts/Default\";\r\n\r\nconst indexRoutes = [{ path: \"/\", component: DefaultLayout }];\r\n\r\nexport default indexRoutes;\r\n","import { api } from 'utils/api';\r\n\r\nexport function getSchemas() {\r\n    return api.get('/schema');\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport teal from '@material-ui/core/colors/teal';\r\n\r\nexport default createMuiTheme(\r\n    {\r\n        palette: {\r\n            primary: teal,\r\n            secondary: {\r\n                main: '#f05545',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });\r\n\r\nexport const darkTheme = createMuiTheme(\r\n    {\r\n        palette: {\r\n            type: 'dark',\r\n            primary: teal,\r\n            secondary: {\r\n                main: '#f05545',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });\r\nexport const bladeTheme = createMuiTheme(\r\n    {\r\n        palette: {\r\n            primary: {\r\n                main: '#800000'\r\n            },\r\n            secondary: {\r\n                main: '#f05545',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });\r\n\r\nexport const bladeDarkTheme = createMuiTheme(\r\n    {\r\n        palette: {\r\n            type: 'dark',\r\n            primary: {\r\n                main: '#600000'\r\n            },\r\n            secondary: {\r\n                main: '#999',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Icon } from '@material-ui/core';\r\nimport { clearSnackbar } from '../../modules/ui';\r\n\r\nconst Alert = props => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n\r\nconst SnackbarDynamic = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { dynSnackbarMessage, dynSnackbarOpen, dynSnackbarType } = useSelector(\r\n        state => state.ui.snackbar\r\n    );\r\n\r\n    function handleClose() {\r\n        dispatch(clearSnackbar());\r\n    }\r\n\r\n    return (\r\n        <Snackbar\r\n            anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'center',\r\n            }}\r\n            open={dynSnackbarOpen}\r\n            autoHideDuration={1000 + (dynSnackbarMessage || 0).length * 60}\r\n            onClose={handleClose}\r\n            aria-describedby=\"client-snackbar\"\r\n            action={[\r\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n                    <Icon>close</Icon>\r\n                </IconButton>,\r\n            ]}\r\n        >\r\n            <Alert severity={dynSnackbarType}>{dynSnackbarMessage}</Alert>\r\n        </Snackbar>\r\n    );\r\n};\r\n\r\nexport default SnackbarDynamic;\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\n// import { useSelector } from \"react-redux\"\r\nimport indexRoutes from 'routes';\r\nimport { history } from './createStore';\r\nimport defaultTheme, { darkTheme, bladeTheme, bladeDarkTheme } from './theme';\r\n// import { createMuiTheme } from '@material-ui/core/styles';\r\nimport './style.css';\r\nimport './materialdesignicons.css';\r\nimport SnackbarDynamic from '../components/SnackbarDynamic';\r\n\r\nexport default function App() {\r\n    // const themeSelector = useSelector(state => state.themeSelector)\r\n\r\n    const theme =\r\n        window.localStorage.getItem('blade') === '1'\r\n            ? darkTheme\r\n            : window.localStorage.getItem('blade') === '2'\r\n            ? bladeTheme\r\n            : window.localStorage.getItem('blade') === '3'\r\n            ? bladeDarkTheme\r\n            : defaultTheme;\r\n\r\n    return (\r\n        <MuiThemeProvider theme={theme}>\r\n            <SnackbarDynamic />\r\n            <Router history={history}>\r\n                <Switch>\r\n                    {indexRoutes.map(({ component: Component, path }, key) => {\r\n                        return (\r\n                            <Route\r\n                                path={path}\r\n                                key={key}\r\n                                render={routeProps => <Component {...routeProps} />}\r\n                            />\r\n                        );\r\n                    })}\r\n                </Switch>\r\n            </Router>\r\n        </MuiThemeProvider>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport createStore from './createStore';\r\nimport './style.css';\r\nimport Main from './App'\r\n\r\nconst store = createStore();\r\n\r\nexport default function App() {\r\n    return (\r\n        <Provider store={store}>\r\n            <CssBaseline />\r\n            <Main />\r\n        </Provider>\r\n    );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === '[::1]' ||\r\n        // 127.0.0.0/8 are considered localhost for IPv4.\r\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n        headers: { 'Service-Worker': 'script' },\r\n    })\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log('No internet connection found. App is running in offline mode.');\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready\r\n            .then(registration => {\r\n                registration.unregister();\r\n            })\r\n            .catch(error => {\r\n                console.error(error.message);\r\n            });\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}