{"version":3,"sources":["assets/img/icon/large_white_alpha.png","utils/api/index.js","proxies/device.js","modules/devices.js","utils/helpers.js","modules/selectedDevice.js","modules/presets.js","modules/schemas.js","proxies/scenes.js","modules/scenes.js","modules/settings.js","modules/virtuals.js","proxies/integrations.js","modules/integrations.js","modules/index.js","App/createStore.js","utils/api/websocket.js","components/PixelColorGraph/index.jsx","components/DeviceMiniControl/index.jsx","components/AddSceneCard/index.jsx","components/MiniScenesCard/index.jsx","views/Dashboard/index.jsx","components/DevicesTable/DevicesTableItem.jsx","components/DevicesTable/index.jsx","components/forms/DropDown/index.jsx","components/DeviceConfigDialog/AdditionalProperties.jsx","components/DeviceConfigDialog/index.jsx","views/Devices/index.jsx","components/SceneCard/SceneConfigTable.jsx","components/SceneCard/index.jsx","views/Scenes/index.jsx","components/SchemaForm/customFields/Slider.jsx","components/SchemaForm/mapper.js","components/EffectControl/index.jsx","components/PresetsCard/index.jsx","views/Device/index.jsx","proxies/effects.js","components/VirtualComponents/PopoverNew.js","components/VirtualComponents/DialogAddSegment.js","components/VirtualComponents/PixelSlider.js","components/VirtualComponents/PopoverSure.js","components/VirtualComponents/UsedPixels.js","components/VirtualComponents/DragDropItem.js","components/VirtualComponents/index.jsx","components/VirtualComponents/Virtual.js","views/Virtuals/index.jsx","proxies/virtuals.js","components/IntegrationComponents/DialogAddIntegration.js","components/IntegrationComponents/Card.js","components/IntegrationComponents/CardB.js","components/IntegrationComponents/Row.js","views/Integrations/index.jsx","views/Settings/AudioInput.jsx","views/Settings/ConfigCard.jsx","views/Settings/LogCard.jsx","views/Settings/index.jsx","proxies/settings.js","components/MelbankGraph/index.jsx","views/Developer/index.jsx","routes/views.jsx","layouts/Default/Header/index.jsx","utils/style.js","layouts/Default/Sidebar/style.jsx","layouts/Default/Sidebar/index.jsx","layouts/Default/index.jsx","routes/index.jsx","proxies/schema.js","App/theme.js","App/App.js","App/index.jsx","serviceWorker.js","index.js"],"names":["module","exports","api","axios","create","baseURL","createDevice","config","post","getDevice","deviceId","get","then","response","device","data","key","id","name","getDeviceEffect","setDeviceEffect","updateDeviceEffect","put","deleteDeviceEffect","delete","updatePreset","addPreset","devicesRequested","createAction","devicesReceived","deviceUpdated","scanProgressUpdated","handleActions","state","isLoading","payload","scanProgress","error","list","convertDevicesDictionaryToList","dictionary","message","updatedDevices","mesasge","fetchDeviceList","dispatch","a","statusText","devices","Object","keys","forEach","effect","active","sleep","ms","Promise","resolve","setTimeout","map","currentDevice","convertDictionaryToList","presets","currentScene","deviceRequested","deviceReceived","effectRequested","effectReceived","isDeviceLoading","isEffectLoading","presetsFetching","presetsFetched","presetAdding","presetAdded","defaultPresets","customPresets","effectType","isProcessing","schemasFetching","schemasFetched","INITIAL_STATE","deviceTypes","undefined","effects","integrationTypes","addScenes","deleteScenes","activateScenes","action","scenesFetching","scenesFetched","sceneAdding","sceneAdded","scenes","convertScenesDictionaryToList","getScenes","addScene","scenesProxies","scene","activateScene","audioInputsFetching","audioInputsFetched","audioInputSaved","audioInputSaving","configFetching","configFetched","audioInputs","options","value","isSaving","devMode","port","host","convertAudioInputsToList","index","addVirtual","renameVirtual","deleteVirtual","addSegment","changeSegmentPixel","changeSegmentInvert","changeSegmentPixelDensity","deleteSegment","postVirtuals","changeTheme","virtuals","new","pixel_count","items","reduxItem","old","filter","v","virtual","led_start","newValue","led_end","used_pixel","d","reduce","sum","part","console","log","invert","pixel_density","themeSelector","toggleIntegration","deleteIntegration","addIntegration","setIntegration","deleteAsyncIntegration","integrationsProxies","window","location","href","integrations","schemas","settings","selectedDevice","history","createBrowserHistory","hostname","wsBaseUrl","websocketUrl","createWebSocket","Sockette","timeout","maxAttempts","PixelColorGraph","props","handleMessage","e","messageData","JSON","parse","device_id","setState","chartData","datasets","pixels","handleOpen","enablePixelVisualization","websocketActive","handleClose","ws","json","websocketPacketId","type","event_type","event_filter","deviceUpdateSubscription","disablePixelVisualization","subscription_id","connectWebsocket","onopen","onmessage","onclose","onerror","disconnectWebsocket","close","getChartOptionsForDevice","labels","Array","apply","length","Function","call","Number","label","lineTension","backgroundColor","borderColor","pointRadius","fill","chartOptions","responsive","maintainAspectRatio","tooltips","enabled","hover","mode","animationDuration","animation","duration","responsiveAnimationDuration","scales","xAxes","gridLines","display","ticks","max","min","maxTicksLimit","yAxes","stepSize","color","legend","this","prevProps","classes","Box","className","content","React","Component","withStyles","theme","minWidth","maxWidth","height","DeviceMiniControl","toggleOn","checked","target","Grid","container","direction","spacing","justify","item","xs","Typography","variant","actionsContainer","Button","component","NavLink","to","deviceLink","alignContent","toggleContainer","CircularProgress","size","Switch","onChange","button","margin","float","submitControls","width","tableCell","lineHeight","padding","verticalAlign","textDecoration","justifyContent","useStyles","makeStyles","alignItems","validateInput","input","some","p","toLowerCase","AddSceneCard","useReducer","Card","CardHeader","title","subheader","CardContent","flexGrow","TextField","fullWidth","helperText","aria-label","disabled","onClick","endIcon","MiniScenesCard","spinnerContainer","sceneButton","flexWrap","DashboardView","handleUpdateDeviceEffect","clearDeviceEffect","lg","card","connect","getState","deviceProxies","root","overflowX","table","borderSpacing","deleteButton","editButton","marginLeft","palette","primary","main","onDelete","onEdit","TableRow","TableCell","scope","ip_address","align","borderCollapse","tableResponsive","onDeleteDevice","onEditDevice","Table","TableHead","TableBody","control","DropDown","FormControl","InputLabel","Select","MenuItem","select","defaultProps","schemaForm","AdditionalProperties","form","model","schema","open","Collapse","in","onModelChange","scheme","DeviceConfigDialog","handleTypeChange","initial","deviceType","val","utils","selectOrSet","toggleShowAdditional","prevState","additionalPropertiesOpen","handleCancel","onClose","handleSubmit","onAddDevice","onUpdateDevice","currentSchema","properties","requiredKeys","required","optionalKeys","rk","showAdditionalUi","Dialog","cardResponsive","aria-labelledby","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","onSubmit","DialogActions","bottomContainer","additionalButton","clsx","expandIcon","flex","actionButtons","marginTop","transform","DevicesView","openAddDeviceDialog","addDialogOpened","closeAddDeviceDialog","handleEditDevice","handleFindDevices","findWLEDDevices","searchDevicesLoading","reject","deviceList","addDevice","deleteDevice","updateDeviceConfig","md","flexDirection","Tooltip","interactive","arrow","sec","dialogButton","SceneConfigTable","renderRows","SceneCard","deleteScene","CardActions","ScenesView","handleAddScene","position","bottom","right","valueLabel","transformOrigin","valuetext","toString","ComposedComponent","onChangeValidate","debouncedOnChangeHandler","debounce","marks","minimum","maximum","shrink","Slider","defaultValue","default","getAriaValueText","step","valueLabelDisplay","mapper","number","EffectControl","onTypeChange","selectedType","preventDefault","handleRandomize","handleClearEffect","onClear","paddingBottom","presetButton","buttonGrid","actions","validateTextInput","concat","PresetsCard","activatePreset","getEffectPresets","useState","setName","isNameValid","useEffect","renderPresetsButton","CATEGORY","preset","category","presetId","DeviceView","handleLoadDevice","loadDeviceInfo","handleSetEffect","match","params","nextProps","newDeviceId","renderPixelGraph","Error","currentEffect","proxy","effectId","request","effect_id","preset_id","default_presets","custom_presets","PopoverNew","userInput","buttonText","buttonIcon","submitIcon","anchorEl","setAnchorEl","Boolean","aria-describedby","event","currentTarget","Popover","anchorOrigin","vertical","horizontal","style","localStorage","setItem","ConfirmationDialogRaw","valueProp","other","setValue","radioGroupRef","useRef","disableEscapeKeyDown","onEntering","current","focus","dividers","RadioGroup","ref","FormControlLabel","Radio","autoFocus","background","paper","maxHeight","ConfirmationDialog","setOpen","useDispatch","useSelector","aria-haspopup","role","keepMounted","uuidv1","output","find","PixelSlider","currentVirtual","pixelRange","marginBottom","typography","SimplePopover","onDeleteVitem","listItem","UsedPixels","test","ListItemText","flexBasis","textAlign","secondary","DragDropItem","draggableId","border","provided","snapshot","ListItem","ContainerComponent","ContainerProps","innerRef","draggableProps","isDragging","draggableStyle","borderTop","borderBottom","ListItemIcon","dragHandleProps","inputProps","parseInt","handlePixelDensity","handleInvert","ListItemSecondaryAction","DragDropContainer","memo","listItems","placeholder","DragDropWrapper","setdeviceListYz","listitems","sort","b","order_number","onDragEnd","result","destination","source","startIndex","endIndex","from","splice","removed","reorder","vi","virt","vir","droppableId","RootRef","rootRef","Virtual","setSnackbarState","allPixels","newName","Alert","elevation","VirtualsView","snackbarState","getItem","age","setAge","labelId","i","virtualsProxies","Snackbar","autoHideDuration","severity","integration","integrationCard","fontSize","pos","IntegrationsCard","intTypes","int","gutterBottom","description","handleToggle","toggleAsyncIntegration","Chip","IntegrationRow","installedIntegrations","installedIntegration","IntegrationsView","instInts","instInt","Row","CardB","AudioCard","selectedOption","o","FormHelperText","ConfigCard","LazyLog","require","LogCard","enableSearch","url","websocket","websocketOptions","onOpen","sock","send","stringify","formatMessage","SettingsView","getAudioInputs","setAudioInput","AudioInput","active_device_index","frequencies","melbank","melbankMax","Math","graph_id","graphId","callback","values","DeveloperView","graphList","graphString","split","graphDom","graphIndex","replace","c","toUpperCase","MelbankGraph","path","sidebarName","navbarName","icon","DeviceHubIcon","PowerIcon","viewRoutes","Dashboard","List","SaveAltIcon","Settings","BuildIcon","Tune","redirect","Header","devicesDictionary","pathname","prop","startsWith","AppBar","appBar","Toolbar","getPageName","Hidden","mdUp","IconButton","handleDrawerToggle","boxShadow","breakpoints","up","fontWeight","sidebarStyle","drawerPaper","logo","zIndex","logoLink","logoImage","marginRight","img","top","left","backgroundSize","backgroundPosition","opacity","paddingLeft","paddingTop","listStyle","itemLink","transition","borderRadius","itemIcon","itemText","devicesItemText","activeView","shadows","sidebarWrapper","overflow","overflowScrolling","Sidebar","viewName","effectLinks","links","listItemClass","isViewActive","disableTypography","activeClassName","src","logoAsset","alt","Drawer","anchor","ModalProps","smDown","implementation","DefaultLayout","setRootRef","el","mobileOpen","createRef","getConfig","fetchSchemas","scrollTo","behavior","deviceDictionary","toolbar","exact","render","routeProps","indexRoutes","dev_mode","mixins","createMuiTheme","teal","overrides","MuiFormControl","MuiCard","darkTheme","bladeTheme","bladeDarkTheme","App","defaultTheme","store","createStore","combineReducers","reducers","router","connectRouter","composeWithDevTools","applyMiddleware","routerMiddleware","thunk","CssBaseline","ReactDOM","Fragment","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.5c71fcc5.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import axios from 'axios';\r\n\r\nconst baseURL = '/api';\r\n\r\nexport const api = axios.create({\r\n    baseURL,\r\n});\r\n","import { api } from 'utils/api';\r\n\r\nexport function scanForDevices() {\r\n    return api.post('/find_devices');\r\n}\r\n\r\nexport function getDevices() {\r\n    return api.get('/devices');\r\n}\r\n\r\nexport function deleteDevice(deviceId) {\r\n    return api.delete(`/devices/${deviceId}`);\r\n}\r\n\r\nexport function updateDevice(deviceId, data) {\r\n    return api.put(`/devices/${deviceId}`, data);\r\n}\r\n\r\nexport function createDevice(config) {\r\n    return api.post('/devices', config);\r\n}\r\n\r\nexport function getDevice(deviceId) {\r\n    return api.get(`/devices/${deviceId}`).then(response => {\r\n        const device = response.data;\r\n        return {\r\n            key: deviceId,\r\n            id: deviceId,\r\n            name: device.name,\r\n            config: device,\r\n        };\r\n    });\r\n}\r\n\r\nexport function getDeviceEffect(deviceId) {\r\n    return api.get(`devices/${deviceId}/effects`);\r\n}\r\n\r\nexport function setDeviceEffect(deviceId, data) {\r\n    return api.post(`devices/${deviceId}/effects`, data);\r\n}\r\n\r\nexport function updateDeviceEffect(deviceId, data) {\r\n    return api.put(`devices/${deviceId}/effects`, data);\r\n}\r\n\r\nexport function deleteDeviceEffect(deviceId) {\r\n    return api.delete(`devices/${deviceId}/effects`);\r\n}\r\n\r\nexport function getDevicePresets(deviceId) {\r\n    return api.get(`devices/${deviceId}/presets`);\r\n}\r\n\r\nexport function updatePreset(deviceId, data) {\r\n    return api.put(`devices/${deviceId}/presets`, data);\r\n}\r\n\r\nexport function addPreset(deviceId, data) {\r\n    return api.post(`devices/${deviceId}/presets`, data);\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as deviceProxies from 'proxies/device';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'devices';\r\n\r\nexport const devicesRequested = createAction(`${ACTION_ROOT}/DEVICES_REQUESTED`);\r\nexport const devicesReceived = createAction(`${ACTION_ROOT}/DEVICES_RECEIVED`);\r\nexport const deviceUpdated = createAction(`${ACTION_ROOT}/DEVICE_UPDATED`);\r\nexport const scanProgressUpdated = createAction(`${ACTION_ROOT}/DEVICE_SCAN_PROGRESS_UPDATED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    list: [],\r\n    dictionary: {},\r\n    scanProgress: 0,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [devicesRequested]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [scanProgressUpdated]: (state, { payload }) => ({\r\n            ...state,\r\n            scanProgress: payload,\r\n        }),\r\n        [devicesReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            list: error ? state.list : convertDevicesDictionaryToList(payload),\r\n            dictionary: error ? state.dictionary : payload,\r\n            isLoading: false,\r\n            error: error ? payload.message : '',\r\n        }),\r\n        [deviceUpdated]: (state, { payload, payload: { id, ...data }, error }) => {\r\n            const updatedDevices = {\r\n                ...state.dictionary,\r\n                [id]: {\r\n                    ...state.dictionary[id],\r\n                    ...data,\r\n                },\r\n            };\r\n            return {\r\n                ...state,\r\n                list: error ? state.list : convertDevicesDictionaryToList(updatedDevices),\r\n                dictionary: error ? state.dictionary : updatedDevices,\r\n                error: error ? payload.mesasge : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function fetchDeviceList() {\r\n    return async dispatch => {\r\n        dispatch(devicesRequested());\r\n        try {\r\n            const response = await deviceProxies.getDevices();\r\n            if (response.statusText === 'OK') {\r\n                const { devices } = response.data;\r\n                Object.keys(devices).forEach(key => {\r\n                    const data = devices[key];\r\n                    data.effect.active = !!data.effect.name;\r\n                });\r\n\r\n                dispatch(devicesReceived(devices));\r\n            }\r\n        } catch (error) {\r\n            dispatch(devicesReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addDevice(type, config) {\r\n    return async dispatch => {\r\n        const data = {\r\n            type: type,\r\n            config: config,\r\n        };\r\n        try {\r\n            const response = await deviceProxies.createDevice(data);\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDeviceList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error adding device', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nconst sleep = ms => {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n};\r\n\r\nexport function findWLEDDevices({ resolve, reject }) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await deviceProxies.scanForDevices();\r\n            if (response.statusText === 'OK') {\r\n                for (let sec = 1; sec <= 10; sec++) {\r\n                    await sleep(1000).then(() => {\r\n                        dispatch(fetchDeviceList());\r\n                        dispatch(scanProgressUpdated(sec));\r\n                    });\r\n                }\r\n\r\n                resolve();\r\n                dispatch(scanProgressUpdated(0));\r\n            }\r\n        } catch (error) {\r\n            console.log('WLED device scan failed', error.message);\r\n            reject(error.message);\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateDeviceConfig(id, type, config) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await deviceProxies.updateDevice(id, {\r\n                config: { ...config, type },\r\n            });\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDeviceList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error adding device', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nexport function setDeviceEffect(id, data) {\r\n    return async (dispatch, getState) => {\r\n        const device = getState().devices.dictionary[id];\r\n        try {\r\n            dispatch(\r\n                deviceUpdated({ id, ...device, effect: { ...device.effect, isProcessing: true } })\r\n            );\r\n\r\n            const response = await deviceProxies.setDeviceEffect(id, {\r\n                type: data.type || 'wavelength(Reactive)',\r\n                config: data,\r\n            });\r\n\r\n            dispatch(\r\n                deviceUpdated({\r\n                    id,\r\n                    effect: { ...data, ...response.data.effect, isProcessing: false },\r\n                })\r\n            );\r\n        } catch (error) {\r\n            deviceUpdated(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function clearDeviceEffect(id) {\r\n    return async (dispatch, getState) => {\r\n        const device = getState().devices.dictionary[id];\r\n        try {\r\n            dispatch(\r\n                deviceUpdated({ id, ...device, effect: { ...device.effect, isProcessing: true } })\r\n            );\r\n\r\n            await deviceProxies.deleteDeviceEffect(id);\r\n            dispatch(\r\n                deviceUpdated({\r\n                    id,\r\n                    effect: { ...device.effect, active: false, isProcessing: false },\r\n                })\r\n            );\r\n        } catch (error) {\r\n            deviceUpdated(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function deleteDevice(id) {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await deviceProxies.deleteDevice(id);\r\n            if (response.statusText === 'OK') {\r\n                dispatch(fetchDeviceList());\r\n            }\r\n        } catch (error) {\r\n            console.log('Error deleting device', error.message);\r\n        }\r\n    };\r\n}\r\n\r\nconst convertDevicesDictionaryToList = (devices = {}) =>\r\n    Object.keys(devices).map(key => {\r\n        const currentDevice = devices[key];\r\n        return {\r\n            ...currentDevice,\r\n            key,\r\n            id: key,\r\n            name: currentDevice.config.name,\r\n        };\r\n    });\r\n","export const includeKeyInObject = (key, object) => ({ id: key, ...object})\r\n\r\nexport const mapIncludeKey = (scenes) => {\r\n    const keys = Object.keys(scenes)\r\n    return keys.map((k) => (includeKeyInObject(k, scenes[k])))\r\n}\r\n\r\nexport const convertDictionaryToList = (presets = {}) =>\r\n    Object.keys(presets).map(key => {\r\n        const currentScene = presets[key];\r\n        return {\r\n            ...currentScene,\r\n            id: key,\r\n        };\r\n    });","import { createAction, handleActions } from 'redux-actions';\r\nimport * as deviceProxies from 'proxies/device';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'selectedDevice';\r\n\r\nexport const deviceRequested = createAction(`${ACTION_ROOT}/DEVICE_REQUESTED`);\r\nexport const deviceReceived = createAction(`${ACTION_ROOT}/DEVICE_RECEIVED`);\r\nexport const effectRequested = createAction(`${ACTION_ROOT}/DEVICE_EFFECT_REQUESTED`);\r\nexport const effectReceived = createAction(`${ACTION_ROOT}/DEVICE_EFFECT_RECEIVED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isDeviceLoading: false,\r\n    device: null,\r\n    isEffectLoading: false,\r\n    effect: {},\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [deviceRequested]: state => ({\r\n            ...state,\r\n            isDeviceLoading: true,\r\n        }),\r\n        [deviceReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            isDeviceLoading: false,\r\n            device: error ? null : payload,\r\n            error: error ? payload.message : '',\r\n        }),\r\n        [effectRequested]: state => ({\r\n            ...state,\r\n            isEffectLoading: true,\r\n        }),\r\n        [effectReceived]: (state, { payload, error }) => ({\r\n            ...state,\r\n            isEffectLoading: false,\r\n            effect: error ? {} : payload,\r\n            error: error ? payload.message : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function clearDeviceEffect(deviceId) {\r\n    return async dispatch => {\r\n        try {\r\n            const {\r\n                statusText,\r\n                data: { effect },\r\n            } = await deviceProxies.deleteDeviceEffect(deviceId);\r\n            if (statusText !== 'OK') {\r\n                throw new Error(`Error Clearing Device:${deviceId} Effect`);\r\n            }\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function setDeviceEffect(deviceId, { type, config }) {\r\n    return async (dispatch, getState) => {\r\n        const currentEffect = getState().selectedDevice.effect;\r\n        const proxy = currentEffect.type\r\n            ? deviceProxies.updateDeviceEffect\r\n            : deviceProxies.setDeviceEffect;\r\n        try {\r\n            const {\r\n                statusText,\r\n                data: { effect },\r\n            } = await proxy(deviceId, {\r\n                type,\r\n                config,\r\n            });\r\n\r\n            if (statusText !== 'OK') {\r\n                throw new Error(`Error Clearing Device:${deviceId} Effect`);\r\n            }\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function loadDeviceInfo(deviceId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let device = getState().devices.dictionary;\r\n            dispatch(deviceRequested());\r\n            device = await deviceProxies.getDevice(deviceId);\r\n            dispatch(deviceReceived(device));\r\n\r\n            dispatch(effectRequested());\r\n            const {\r\n                data: { effect },\r\n            } = await deviceProxies.getDeviceEffect(deviceId);\r\n            dispatch(effectReceived(effect));\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as deviceProxies from 'proxies/device';\r\nimport * as effectsProxies from 'proxies/effects';\r\nimport { convertDictionaryToList } from 'utils/helpers';\r\nimport { effectReceived } from 'modules/selectedDevice';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'sceneManagement';\r\nexport const presetsFetching = createAction(`${ACTION_ROOT}/PRESETS_FETCHING`);\r\nexport const presetsFetched = createAction(`${ACTION_ROOT}/PRESETS_FETCHED`);\r\nexport const presetAdding = createAction(`${ACTION_ROOT}/PRESET_ADDING`);\r\nexport const presetAdded = createAction(`${ACTION_ROOT}/PRESET_ADDED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    isProcessing: false,\r\n    defaultPresets: [],\r\n    customPresets: [],\r\n    effectType: '',\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [presetsFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [presetsFetched]: (\r\n            state,\r\n            { payload, payload: { defaultPresets = [], customPresets = [], effectType }, error }\r\n        ) => {\r\n            return {\r\n                ...state,\r\n                defaultPresets: error ? [] : defaultPresets,\r\n                customPresets: error ? [] : customPresets,\r\n                effectType,\r\n                isLoading: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n        [presetAdding]: state => ({\r\n            ...state,\r\n            isProcessing: true,\r\n        }),\r\n\r\n        [presetAdded]: (state, { payload, payload: { id, name, config }, error }) => {\r\n            const customPresets = [\r\n                ...state.customPresets,\r\n                {\r\n                    id,\r\n                    name,\r\n                    config,\r\n                },\r\n            ];\r\n            return {\r\n                ...state,\r\n                customPresets: error ? state.customPresets : customPresets,\r\n                isProcessing: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getEffectPresets(effectType) {\r\n    return async dispatch => {\r\n        dispatch(presetsFetching());\r\n        try {\r\n            const response = await effectsProxies.getEffectPresets(effectType);\r\n\r\n            if (response.statusText === 'OK') {\r\n                const { default_presets, custom_presets, effect } = response.data;\r\n                const defaultPresets = convertDictionaryToList(default_presets);\r\n                const customPresets = convertDictionaryToList(custom_presets);\r\n                dispatch(presetsFetched({ defaultPresets, customPresets, effectType: effect }));\r\n            }\r\n        } catch (error) {\r\n            dispatch(presetsFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addPreset(deviceId, name) {\r\n    return async dispatch => {\r\n        dispatch(presetAdding());\r\n        try {\r\n            const { data, statusText } = await deviceProxies.addPreset(deviceId, { name });\r\n            if (statusText === 'OK') {\r\n                dispatch(presetAdded(data.preset));\r\n            }\r\n        } catch (error) {\r\n            dispatch(presetAdded(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function activatePreset(deviceId, category, effectId, presetId) {\r\n    return async dispatch => {\r\n        try {\r\n            const request = {\r\n                category: category,\r\n                effect_id: effectId,\r\n                preset_id: presetId,\r\n            };\r\n\r\n            const { data, statusText } = await deviceProxies.updatePreset(deviceId, request);\r\n            if (statusText === 'OK') {\r\n                dispatch(effectReceived(data.effect));\r\n            }\r\n        } catch (error) {\r\n            dispatch(effectReceived(error));\r\n        }\r\n    };\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as schemaProxies from 'proxies/schema';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'schemas';\r\nexport const schemasFetching = createAction(`${ACTION_ROOT}/SCHEMAS_FETCHING`);\r\nexport const schemasFetched = createAction(`${ACTION_ROOT}/SCHEMAS_FETCHED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    deviceTypes: undefined,\r\n    effects: undefined,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [schemasFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [schemasFetched]: (\r\n            state,\r\n            { payload, payload: { deviceTypes, effects, integrationTypes }, error }\r\n        ) => ({\r\n            ...state,\r\n            isLoading: false,\r\n            effects: error ? {} : effects,\r\n            deviceTypes: error ? {} : deviceTypes,\r\n            integrationTypes: error ? {} : integrationTypes,\r\n            error: error ? payload.message : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function fetchSchemas() {\r\n    return async dispatch => {\r\n        dispatch(schemasFetching());\r\n        try {\r\n            const response = await schemaProxies.getSchemas();\r\n            if (response.statusText === 'OK') {\r\n                const {\r\n                    devices: deviceTypes,\r\n                    effects,\r\n                    integrations: integrationTypes,\r\n                } = response.data;\r\n                dispatch(schemasFetched({ deviceTypes, effects, integrationTypes }));\r\n            }\r\n        } catch (error) {\r\n            dispatch(schemasFetched(error));\r\n        }\r\n    };\r\n}\r\n","import { api } from 'utils/api';\r\n\r\nexport function getScenes() {\r\n    return api.get('/scenes');\r\n}\r\nexport function addScenes(name) {\r\n    return api.post('/scenes', { name });\r\n}\r\n\r\nexport function deleteScenes(id) {\r\n    return api.delete('/scenes', { data: { id } });\r\n}\r\n\r\nexport function activateScenes(id) {\r\n    return api.put('/scenes', {\r\n        id,\r\n        action: 'activate',\r\n    });\r\n}\r\nexport function renameScene({ id, name }) {\r\n    return api.put('/scenes', {\r\n        action: 'rename',\r\n        id,\r\n        name,\r\n    });\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as scenesProxies from 'proxies/scenes';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'sceneManagement';\r\nexport const scenesFetching = createAction(`${ACTION_ROOT}/SCENES_FETCHING`);\r\nexport const scenesFetched = createAction(`${ACTION_ROOT}/SCENES_FETCHED`);\r\nexport const sceneAdding = createAction(`${ACTION_ROOT}/SCENE_ADDING`);\r\nexport const sceneAdded = createAction(`${ACTION_ROOT}/SCENE_ADDED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    isLoading: false,\r\n    isProcessing: false,\r\n    dictionary: {},\r\n    list: [],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [scenesFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [scenesFetched]: (state, { payload, payload: { scenes = {}, list = [] }, error }) => {\r\n            return {\r\n                ...state,\r\n                dictionary: error ? {} : scenes,\r\n                list: error ? [] : list,\r\n                isLoading: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n        [sceneAdding]: state => ({\r\n            ...state,\r\n            isProcessing: true,\r\n        }),\r\n\r\n        [sceneAdded]: (state, { payload, payload: { id, config, error = '' } }) => {\r\n            const scenes = {\r\n                ...state.dictionary,\r\n                [id]: config,\r\n            };\r\n            return {\r\n                ...state,\r\n                dictionary: error ? {} : scenes,\r\n                list: !error ? [] : convertScenesDictionaryToList(scenes),\r\n                isProcessing: false,\r\n                error: error ? payload.message : '',\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getScenes() {\r\n    return async dispatch => {\r\n        dispatch(scenesFetching());\r\n        try {\r\n            const response = await scenesProxies.getScenes();\r\n\r\n            if (response.statusText === 'OK') {\r\n                const { scenes } = response.data;\r\n                const list = convertScenesDictionaryToList(scenes);\r\n                dispatch(scenesFetched({ scenes, list }));\r\n            }\r\n        } catch (error) {\r\n            dispatch(scenesFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function addScene(name) {\r\n    return async dispatch => {\r\n        dispatch(sceneAdding());\r\n        try {\r\n            const { data, statusText } = await scenesProxies.addScenes(name);\r\n            if (statusText === 'OK') {\r\n                dispatch(sceneAdded(data.scene));\r\n            }\r\n        } catch (error) {\r\n            dispatch(sceneAdded(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function deleteScene(id) {\r\n    return async dispatch => {\r\n        await scenesProxies.deleteScenes(id);\r\n        dispatch(getScenes());\r\n    };\r\n}\r\n\r\nexport function activateScene(id) {\r\n    return async dispatch => {\r\n        await scenesProxies.activateScenes(id);\r\n    };\r\n}\r\n\r\nexport function renameScene(id, name) {\r\n    return async dispatch => {\r\n        await scenesProxies.renameScene({ id, name });\r\n        dispatch(getScenes());\r\n    };\r\n}\r\n\r\nconst convertScenesDictionaryToList = (scenes = {}) =>\r\n    Object.keys(scenes).map(key => {\r\n        const currentScene = scenes[key];\r\n        return {\r\n            ...currentScene,\r\n            key,\r\n            id: key,\r\n            name: currentScene.name,\r\n        };\r\n    });\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as settingProxies from 'proxies/settings';\r\n\r\n// Actions\r\nconst ACTION_ROOT = 'settings';\r\nexport const audioInputsFetching = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_FETCHING`);\r\nexport const audioInputsFetched = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_FETCHED`);\r\nexport const audioInputSaved = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_SAVED`);\r\nexport const audioInputSaving = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_SAVING`);\r\nexport const configFetching = createAction(`${ACTION_ROOT}/CONFIG_FETCHING`);\r\nexport const configFetched = createAction(`${ACTION_ROOT}/CONFIG_FETCHED`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    audioInputs: {\r\n        isLoading: false,\r\n        options: [],\r\n        isSaving: false,\r\n        value: '',\r\n        error: '',\r\n    },\r\n    isLoading: false,\r\n    devMode: false,\r\n    port: '',\r\n    host: '',\r\n    devices: [],\r\n    error: '',\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [audioInputsFetching]: state => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                isLoading: true,\r\n            },\r\n        }),\r\n        [audioInputsFetched]: (\r\n            state,\r\n            { payload, payload: { options = [], value = '' }, error }\r\n        ) => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                isLoading: false,\r\n                options: error ? [] : options,\r\n                value: error ? '' : value,\r\n                error: error ? payload : '',\r\n            },\r\n        }),\r\n        [audioInputSaving]: state => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                isSaving: true,\r\n            },\r\n        }),\r\n        [audioInputSaved]: (state, { payload, error }) => ({\r\n            ...state,\r\n            audioInputs: {\r\n                ...state.audioInputs,\r\n                value: error ? '' : payload,\r\n                isSaving: false,\r\n                error: error ? payload : '',\r\n            },\r\n        }),\r\n        [configFetching]: state => ({\r\n            ...state,\r\n            isLoading: true,\r\n        }),\r\n        [configFetched]: (state, { payload, error }) => ({\r\n            ...state,\r\n            ...payload,\r\n            isLoading: false,\r\n            error: error ? payload : '',\r\n        }),\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getAudioInputs() {\r\n    return async dispatch => {\r\n        dispatch(audioInputsFetching());\r\n        try {\r\n            const response = await settingProxies.getAudioInputs();\r\n            if (response.statusText !== 'OK') {\r\n                throw new Error('Error fetching audio Inputs');\r\n            }\r\n\r\n            const { devices: audioInputs, active_device_index } = response.data;\r\n            const options = convertAudioInputsToList(audioInputs);\r\n            const value = audioInputs[active_device_index];\r\n            dispatch(audioInputsFetched({ options, value }));\r\n        } catch (error) {\r\n            dispatch(audioInputsFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function setAudioInput({ value, index }) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(audioInputSaving());\r\n            const response = await settingProxies.updateSelectedAudioInput({\r\n                index: parseInt(index),\r\n            });\r\n            if (response.statusText !== 'OK') {\r\n                throw new Error('Audio Input failed to update');\r\n            }\r\n\r\n            dispatch(audioInputSaved(value));\r\n        } catch (error) {\r\n            dispatch(audioInputSaved(error));\r\n        }\r\n    };\r\n}\r\n\r\nexport function getConfig() {\r\n    return async dispatch => {\r\n        dispatch(configFetching());\r\n        try {\r\n            const response = await settingProxies.getSystemConfig();\r\n            if (response.statusText !== 'OK') {\r\n                throw new Error('Error fetching system config');\r\n            }\r\n            const { dev_mode: devMode, port, host, devices } = response.data.config;\r\n            dispatch(configFetched({ devMode, host, port, devices }));\r\n        } catch (error) {\r\n            dispatch(configFetched(error));\r\n        }\r\n    };\r\n}\r\n\r\nconst convertAudioInputsToList = audioInputs =>\r\n    Object.keys(audioInputs).map(key => {\r\n        return {\r\n            index: key,\r\n            value: audioInputs[key],\r\n        };\r\n    });\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as virtualsProxies from 'proxies/virtuals';\r\n// Actions\r\nconst ACTION_ROOT = 'virtuals';\r\n\r\nexport const addVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_ADD`);\r\nexport const renameVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_RENAME`);\r\nexport const deleteVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_DELETE`);\r\nexport const addSegment = createAction(`${ACTION_ROOT}/ADD_SEGMENT`);\r\nexport const changeSegmentPixel = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_PXEL`);\r\nexport const changeSegmentInvert = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_INVERT`);\r\nexport const changeSegmentPixelDensity = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_PIXELDENSITY`);\r\nexport const deleteSegment = createAction(`${ACTION_ROOT}/DELETE_SEGMENT`);\r\nexport const getVirtualsPixel = createAction(`${ACTION_ROOT}/VIRTUALS_GET_PIXELS`);\r\nexport const postVirtuals = createAction(`${ACTION_ROOT}/VIRTUALS_SET`);\r\nexport const changeTheme = createAction(`${ACTION_ROOT}/CHANGE_THEME`);\r\n\r\n// Reducer\r\nconst INITIAL_STATE = {\r\n    list: [\r\n        {\r\n            name: 'Loading virtuals...',\r\n            pixel_count: 0,\r\n            items: [],\r\n        },\r\n    ],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [postVirtuals]: (state, { payload }) => {\r\n            const newState = { list: payload.virtuals.list };\r\n            return newState;\r\n        },\r\n        [addVirtual]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: [\r\n                    ...state.list,\r\n                    {\r\n                        name: payload.new,\r\n                        pixel_count: 0,\r\n                        items: [],\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        [renameVirtual]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.old) {\r\n                        reduxItem.name = payload.new;\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n        },\r\n        [deleteVirtual]: (state, { payload }) => {\r\n            return { ...state, list: state.list.filter(v => v.name !== payload) };\r\n        },\r\n        [addSegment]: (state, { payload }) => {\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items = [...reduxItem.items, payload.device];\r\n                        reduxItem.pixel_count =\r\n                            reduxItem.pixel_count + payload.device.config.pixel_count;\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeSegmentPixel]: (state, { payload }) => {\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items.map(device => {\r\n                            if (device.id === payload.device) {\r\n                                device.led_start = payload.newValue[0];\r\n                                device.led_end = payload.newValue[1];\r\n                                device.used_pixel = payload.newValue[1] - payload.newValue[0] + 1;\r\n                            }\r\n\r\n                            return device;\r\n                        });\r\n                    }\r\n                    reduxItem.pixel_count = reduxItem.items\r\n                        .map(d => d.used_pixel)\r\n                        .reduce((sum, part) => sum + part);\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeSegmentInvert]: (state, { payload }) => {\r\n            console.log('YZ', payload);\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items.map(device => {\r\n                            if (device.id === payload.device.id) {\r\n                                device.invert = !!!device.invert;\r\n                            }\r\n\r\n                            return device;\r\n                        });\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeSegmentPixelDensity]: (state, { payload }) => {\r\n            console.log('YZ', payload);\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items.map(device => {\r\n                            if (device.id === payload.device.id) {\r\n                                device.pixel_density = payload.newValue;\r\n                            }\r\n\r\n                            return device;\r\n                        });\r\n                    }\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [deleteSegment]: (state, { payload }) => {\r\n            const newState = {\r\n                ...state,\r\n                list: state.list.map(reduxItem => {\r\n                    if (reduxItem.name === payload.virtual) {\r\n                        reduxItem.items = reduxItem.items.filter(\r\n                            device => device.id !== payload.device.id\r\n                        );\r\n                    }\r\n                    reduxItem.pixel_count = reduxItem.items\r\n                        .map(d => d.used_pixel)\r\n                        .reduce((sum, part) => sum + part, 0);\r\n                    return reduxItem;\r\n                }),\r\n            };\r\n            return newState;\r\n        },\r\n        [changeTheme]: (state, { payload }) => {\r\n            console.log('START', payload);\r\n            return {\r\n                ...state,\r\n                themeSelector: payload,\r\n            };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getAsyncVirtuals() {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await virtualsProxies.getVirtuals();\r\n            if (response.statusText === 'OK') {\r\n                dispatch(postVirtuals(response.data));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n","import { api } from 'utils/api';\r\n\r\nexport function getIntegrations() {\r\n    return api.get(`/integrations`);\r\n}\r\n\r\nexport function getIntegrationsStatuses() {\r\n    return api.get(`/integrations`, {\"info\": \"status\"});\r\n}\r\n\r\nexport function toggleIntegration(data) {\r\n    return api.put(`/integrations`, data);\r\n}\r\n\r\nexport function createIntegration(data) {\r\n    return api.post(`/integrations`, data);\r\n}\r\n\r\nexport function deleteIntegration(data) {\r\n    console.log('YZ', data);\r\n    return api.delete(`/integrations`, data);\r\n}\r\n\r\n// QLC+ Proxies\r\n\r\nexport function getQLCInfo(integrationId, data) {\r\n    return api.get(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\nexport function toggleQLCListener(integrationId, data) {\r\n    return api.put(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\nexport function createQLCListener(integrationId, data) {\r\n    return api.post(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\nexport function deleteQLCListener(integrationId, data) {\r\n    return api.delete(`/integrations/qlc/${integrationId}`, data);\r\n}\r\n\r\n// Spotify proxies\r\n\r\nexport function getSpotifyTriggers(integrationId) {\r\n    return api.get(`/integrations/spotify/${integrationId}`);\r\n}\r\n\r\nexport function updateSpotifyTrigger(integrationId, data) {\r\n    return api.put(`/integrations/spotify/${integrationId}`, data);\r\n}\r\n\r\nexport function createSpotifyTrigger(integrationId, data) {\r\n    return api.post(`/integrations/spotify/${integrationId}`, data);\r\n}\r\n\r\nexport function deleteSpotifyTrigger(integrationId, data) {\r\n    return api.delete(`/integrations/spotify/${integrationId}`, data);\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport * as integrationsProxies from 'proxies/integrations';\r\n\r\nconst ACTION_ROOT = 'integrations';\r\n\r\nexport const addIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_ADD`);\r\nexport const setIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_SET`);\r\nexport const deleteIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_DELETE`);\r\n\r\nconst INITIAL_STATE = {\r\n    list: [],\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [addIntegration]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: [\r\n                    ...state.list,\r\n                    {\r\n                        payload,\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        [setIntegration]: (state, { payload }) => {\r\n            return {\r\n                ...state,\r\n                list: payload,\r\n            };\r\n        },\r\n        [deleteIntegration]: (state, { payload }) => {\r\n            return { ...state, list: state.list.filter(v => v.id !== payload.id) };\r\n        },\r\n    },\r\n    INITIAL_STATE\r\n);\r\n\r\nexport function getAsyncIntegrations() {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await integrationsProxies.getIntegrations();\r\n            if (response.statusText === 'OK') {\r\n                dispatch(setIntegration(response.data.integrations));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport async function deleteAsyncIntegration(data) {\r\n    console.log('damn', data);\r\n    const response = await integrationsProxies.deleteIntegration({ data });\r\n    console.log('damn', response);\r\n    window.location = window.location.href;\r\n    // integrationsProxies.deleteIntegration(data);\r\n    return async dispatch => {\r\n        try {\r\n            console.log('damn', data);\r\n            const response = await integrationsProxies.deleteIntegration(data);\r\n            if (response.statusText === 'OK') {\r\n                console.log('OMG', response.data);\r\n                // dispatch(deleteIntegration(response.data.integrations));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport async function toggleAsyncIntegration(data) {\r\n    console.log('damn', data);\r\n    const response = await integrationsProxies.toggleIntegration(data);\r\n    console.log('damn', response);\r\n    // window.location = window.location.href;\r\n    // integrationsProxies.deleteIntegration(data);\r\n    return async dispatch => {\r\n        try {\r\n            console.log('damn', data);\r\n            const response = await integrationsProxies.toggleIntegration(data);\r\n            if (response.statusText === 'OK') {\r\n                console.log('OMG', response.data);\r\n                // dispatch(deleteIntegration(response.data.integrations));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n","import devices from './devices';\r\nimport presets from './presets';\r\nimport selectedDevice from './selectedDevice';\r\nimport schemas from './schemas';\r\nimport scenes from './scenes';\r\nimport settings from './settings';\r\nimport virtuals from './virtuals';\r\nimport integrations from './integrations';\r\n\r\nexport default {\r\n    devices,\r\n    integrations,\r\n    presets,\r\n    schemas,\r\n    scenes,\r\n    settings,\r\n    selectedDevice,\r\n    virtuals,\r\n};\r\n","import thunk from 'redux-thunk'\r\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\r\nimport { createBrowserHistory } from 'history'\r\nimport reducers from '../modules'\r\n\r\nexport const history = createBrowserHistory()\r\n\r\nexport default () => {\r\n    const store = createStore(\r\n        combineReducers({\r\n            ...reducers,\r\n            router: connectRouter(history),\r\n        }),\r\n        composeWithDevTools(applyMiddleware(routerMiddleware(history), thunk))\r\n    )\r\n    return store\r\n}\r\n","import Sockette from 'sockette';\r\n\r\nconst { NODE_ENV } = process.env;\r\nconst { hostname, port } = window.location;\r\n\r\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\r\n\r\nexport const websocketUrl = `ws://${wsBaseUrl}/api/websocket`;\r\n\r\nexport const createWebSocket = options =>\r\n    new Sockette(websocketUrl, {\r\n        timeout: 5e3,\r\n        maxAttempts: 10,\r\n        ...options,\r\n    });\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { createWebSocket } from 'utils/api/websocket';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst styles = theme => ({\r\n    content: {\r\n        minWidth: 120,\r\n        maxWidth: '100%',\r\n        height: 200,\r\n    },\r\n});\r\n\r\nclass PixelColorGraph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.ws = undefined;\r\n        this.websocketActive = false;\r\n        this.websocketPacketId = 1;\r\n        this.deviceUpdateSubscription = null;\r\n        this.state = this.getChartOptionsForDevice(props.device);\r\n    }\r\n\r\n    getChartOptionsForDevice(device) {\r\n        const { pixel_count } = device.config;\r\n        return {\r\n            chartData: {\r\n                labels: Array.apply(null, { length: pixel_count }).map(Function.call, Number),\r\n                datasets: [\r\n                    {\r\n                        label: 'Red',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(255,0,0,0.3)',\r\n                        borderColor: 'rgba(255,0,0,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                    {\r\n                        label: 'Green',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,255,0,0.3)',\r\n                        borderColor: 'rgba(0,255,0,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                    {\r\n                        label: 'Blue',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,0,255,0.3)',\r\n                        borderColor: 'rgba(0,0,255,1)',\r\n                        pointRadius: 0,\r\n                        data: new Array(pixel_count).fill(0),\r\n                    },\r\n                ],\r\n            },\r\n            chartOptions: {\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                tooltips: { enabled: false },\r\n                hover: { mode: null, animationDuration: 0 },\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                responsiveAnimationDuration: 0,\r\n                scales: {\r\n                    xAxes: [\r\n                        {\r\n                            gridLines: {\r\n                                display: false,\r\n                            },\r\n                            ticks: {\r\n                                max: pixel_count,\r\n                                min: 0,\r\n                                maxTicksLimit: 7,\r\n                            },\r\n                        },\r\n                    ],\r\n                    yAxes: [\r\n                        {\r\n                            // stacked: true,\r\n                            ticks: {\r\n                                display: false,\r\n                                min: 0,\r\n                                max: 256,\r\n                                stepSize: 64,\r\n                            },\r\n                            gridLines: {\r\n                                display: false,\r\n                                color: 'rgba(0, 0, 0, .125)',\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n                legend: {\r\n                    display: false,\r\n                },\r\n            },\r\n        };\r\n    }\r\n\r\n    handleMessage = e => {\r\n        var messageData = JSON.parse(e.data);\r\n\r\n        // Ensure this message is for the current device. This can happen\r\n        // during transistions between devices where the component stays\r\n        // loaded\r\n        if (messageData.device_id !== this.props.device.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState(({ chartData, chartData: { datasets } }) => ({\r\n            chartData: {\r\n                ...chartData,\r\n                datasets: [\r\n                    { ...datasets[0], data: messageData.pixels[0] },\r\n                    { ...datasets[1], data: messageData.pixels[1] },\r\n                    { ...datasets[2], data: messageData.pixels[2] },\r\n                ],\r\n            },\r\n        }));\r\n    };\r\n\r\n    handleOpen = e => {\r\n        this.enablePixelVisualization(this.props.device);\r\n        this.websocketActive = true;\r\n    };\r\n\r\n    handleClose = e => {\r\n        this.websocketActive = false;\r\n    };\r\n\r\n    enablePixelVisualization = device => {\r\n        if (this.ws) {\r\n            this.ws.json({\r\n                id: this.websocketPacketId,\r\n                type: 'subscribe_event',\r\n                event_type: 'device_update',\r\n                event_filter: { device_id: device.id },\r\n            });\r\n            this.deviceUpdateSubscription = this.websocketPacketId;\r\n            this.websocketPacketId++;\r\n        }\r\n    };\r\n\r\n    disablePixelVisualization = () => {\r\n        this.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'unsubscribe_event',\r\n            subscription_id: this.deviceUpdateSubscription,\r\n        });\r\n        this.deviceUpdateSubscription = null;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    connectWebsocket = () => {\r\n        this.ws = createWebSocket({\r\n            timeout: 5e3,\r\n            maxAttempts: 10,\r\n            onopen: this.handleOpen,\r\n            onmessage: this.handleMessage,\r\n            onclose: this.handleClose,\r\n            onerror: e => console.log('WebSocket Error:', e),\r\n        });\r\n    };\r\n\r\n    disconnectWebsocket = () => {\r\n        if (this.ws !== undefined && this.websocketActive) {\r\n            this.ws.close(1000);\r\n            this.ws = undefined;\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.connectWebsocket();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disconnectWebsocket();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { device } = this.props;\r\n        if (prevProps.device.id !== device.id && this.websocketActive) {\r\n            this.disablePixelVisualization();\r\n            this.enablePixelVisualization(device);\r\n            this.setState(this.getChartOptionsForDevice(device));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Line data={this.state.chartData} options={this.state.chartOptions} />\r\n            </Box>\r\n        );\r\n    }\r\n}\r\n\r\nPixelColorGraph.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    device: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PixelColorGraph);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = theme => ({\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right',\r\n    },\r\n    submitControls: {\r\n        margin: theme.spacing(1),\r\n        display: 'block',\r\n        width: '100%',\r\n    },\r\n    tableCell: {\r\n        lineHeight: '1.2',\r\n        padding: '12px 8px',\r\n        verticalAlign: 'middle',\r\n    },\r\n    deviceLink: {\r\n        size: \"large\",\r\n        margin: theme.spacing(1),\r\n        textDecoration: \"none\",\r\n        \"&,&:hover\": {\r\n          color: \"#000000\"\r\n        },\r\n    },\r\n    actionsContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n    },\r\n    toggleContainer: {\r\n        width: '70px',\r\n    },\r\n});\r\n\r\nclass DeviceMiniControl extends React.Component {\r\n    toggleOn = ({ target: { checked } }) => {\r\n        const { device, setDeviceEffect } = this.props;\r\n\r\n        setDeviceEffect(device.id, {\r\n            ...device.effect,\r\n            active: checked,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            device: { id, config, effect },\r\n        } = this.props;\r\n\r\n        return (\r\n            <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\r\n                <Grid item xs=\"auto\">\r\n                    <Typography variant=\"h5\">\r\n                        {config.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body1\" color=\"textSecondary\">\r\n                        Effect: {effect.name ? effect.name : \"None\"}\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid\r\n                    item\r\n                    className={classes.actionsContainer}\r\n                >\r\n                    <Button\r\n                        component={NavLink}\r\n                        to={`/devices/${id}`}\r\n                        className={classes.deviceLink}\r\n                        key={id}\r\n                    >\r\n                        Change Effect\r\n                    </Button>\r\n                    <Grid\r\n                        container\r\n                        justify=\"center\"\r\n                        alignContent=\"center\"\r\n                        className={classes.toggleContainer}\r\n                    >\r\n                        {effect.isProcessing ? (\r\n                            <CircularProgress size={20} />\r\n                        ) : (\r\n                            <Switch\r\n                                checked={effect.active}\r\n                                onChange={this.toggleOn}\r\n                                color=\"primary\"\r\n                            />\r\n                        )}\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nDeviceMiniControl.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    device: PropTypes.object.isRequired,\r\n    setDeviceEffect: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DeviceMiniControl);\r\n","import React, { useReducer } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Box from '@material-ui/core/Box';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n        margin: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst INITIAL_STATE = {\r\n    name: '',\r\n    error: '',\r\n};\r\n\r\nconst AddSceneCard = ({ scenes = {}, addScene }) => {\r\n    const classes = useStyles();\r\n    const [state, dispatch] = useReducer(\r\n        (state, payload) => ({\r\n            ...state,\r\n            ...payload,\r\n        }),\r\n        INITIAL_STATE\r\n    );\r\n    const { name, error } = state;\r\n\r\n    const handleSave = () => {\r\n        addScene(name);\r\n    };\r\n\r\n    const handleNameChanged = ({ target: { value } }) => {\r\n        const error = validateInput(value, scenes.list) ? '' : 'Scene name already in use!';\r\n        dispatch({ name: value, error });\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Add Scene\" subheader=\"Save current effects of all devices as a Scene\" />\r\n            <CardContent>\r\n                <Box display=\"flex\">\r\n                    <Box item=\"true\" flexGrow={1}>\r\n                        <TextField\r\n                            error={!!error}\r\n                            id=\"SceneNameInput\"\r\n                            label=\"Scene Name\"\r\n                            onChange={handleNameChanged}\r\n                            fullWidth\r\n                            helperText={error}\r\n                        />\r\n                    </Box>\r\n                    <Box item=\"true\">\r\n                        <Button\r\n                            className={classes.button}\r\n                            color=\"primary\"\r\n                            size=\"medium\"\r\n                            aria-label=\"Save\"\r\n                            disabled={!!error || !name.length}\r\n                            variant=\"contained\"\r\n                            onClick={handleSave}\r\n                            endIcon={<SaveIcon />}\r\n                        >\r\n                            Save Scene\r\n                        </Button>\r\n                    </Box>\r\n                </Box>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst validateInput = (input, scenes) =>\r\n    !scenes.some(p => p.name.toLowerCase() === input.toLowerCase());\r\n\r\nAddSceneCard.propTypes = {\r\n    addScene: PropTypes.func.isRequired,\r\n    scenes: PropTypes.shape({\r\n        isLoading: PropTypes.bool.isRequired,\r\n        list: PropTypes.array.isRequired,\r\n        dictionary: PropTypes.object.isRequired,\r\n    }).isRequired,\r\n};\r\n\r\nexport default AddSceneCard;\r\n","import React from 'react';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst styles = theme => ({\r\n  sceneButton: {\r\n    size: \"large\",\r\n    margin: theme.spacing(1),\r\n    textDecoration: \"none\",\r\n    \"&,&:hover\": {\r\n      color: \"#000000\"\r\n    }\r\n  },\r\n  submitControls: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  }\r\n})\r\n\r\n\r\nclass MiniScenesCard extends React.Component {\r\n\r\n    render() {\r\n        const { scenes, classes, activateScene } = this.props;\r\n\r\n        return (\r\n            <Card>\r\n                <CardHeader title=\"Scenes\" subheader=\"Easily deploy effects across multiple devices\" />\r\n                   {/*link header to scenes management page*/}\r\n                <CardContent className={classes.submitControls}>\r\n                    {scenes.isLoading ? (\r\n                            <Grid\r\n                                container\r\n                                justify=\"center\"\r\n                                alignContent=\"center\"\r\n                                className={classes.spinnerContainer}\r\n                            >\r\n                                <CircularProgress size={80} />\r\n                            </Grid>\r\n                    ) : (\r\n                        scenes.list.map(scene => (\r\n                            <Button key={scene.id}\r\n                                    className={classes.sceneButton}\r\n                                    onClick={() => activateScene(scene.id)}>\r\n                                {scene.name}\r\n                            </Button>\r\n                        ))\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default (withStyles(styles)(MiniScenesCard));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport PixelColorGraph from 'components/PixelColorGraph';\r\nimport DeviceMiniControl from 'components/DeviceMiniControl';\r\nimport AddSceneCard from 'components/AddSceneCard';\r\nimport MiniScenesCard from 'components/MiniScenesCard';\r\nimport { addScene, getScenes, activateScene } from 'modules/scenes';\r\nimport { setDeviceEffect, clearDeviceEffect, fetchDeviceList } from 'modules/devices';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    card: {\r\n        width: '100%',\r\n        overflowX: 'auto',\r\n    },\r\n    table: {\r\n        width: '100%',\r\n        maxWidth: '100%',\r\n        backgroundColor: 'transparent',\r\n        borderSpacing: '0',\r\n    },\r\n});\r\n\r\nclass DashboardView extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getScenes();\r\n        this.props.fetchDeviceList();\r\n    }\r\n\r\n    handleUpdateDeviceEffect = (deviceId, data) => {\r\n        const { setDeviceEffect, clearDeviceEffect } = this.props;\r\n\r\n        if (data.active) {\r\n            setDeviceEffect(deviceId, data);\r\n        } else {\r\n            clearDeviceEffect(deviceId);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { classes, devices, scenes, addScene, activateScene } = this.props;\r\n\r\n        if (!devices.list.length) {\r\n            return (\r\n                <Card>\r\n                    <CardContent>\r\n                        <p>Looks like you have no devices! Go to 'Device Management' to add them</p>\r\n                    </CardContent>\r\n                </Card>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Grid container direction=\"row\" spacing={4}>\r\n                    {devices.list.map(device => {\r\n                        return (\r\n                            <Grid key={device.id} item lg={6}>\r\n                                <Card className={classes.card}>\r\n                                    <CardContent>\r\n                                        <DeviceMiniControl\r\n                                            device={device}\r\n                                            setDeviceEffect={this.handleUpdateDeviceEffect}\r\n                                        />\r\n                                        <PixelColorGraph device={device} />\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                        );\r\n                    })}\r\n                </Grid>\r\n                <Grid container direction=\"row\" spacing={4}>\r\n                    <Grid item lg={6}>\r\n                        <MiniScenesCard scenes={scenes} activateScene={activateScene}/>\r\n                    </Grid>\r\n                    <Grid item lg={6}>\r\n                        <AddSceneCard scenes={scenes} addScene={addScene}/>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDashboardView.propTypes = {\r\n    devices: PropTypes.object.isRequired,\r\n    scenes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        devices: state.devices,\r\n        scenes: state.scenes,\r\n    }),\r\n    { addScene, activateScene, getScenes, setDeviceEffect, clearDeviceEffect, fetchDeviceList }\r\n)(withStyles(styles)(DashboardView));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nconst styles = theme => ({\r\n    deleteButton: {\r\n        minWidth: 32,\r\n    },\r\n    editButton: {\r\n        minWidth: 32,\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    deviceLink: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        '&:hover': {\r\n            color: theme.palette.primary.main,\r\n        },\r\n    },\r\n});\r\n\r\nfunction DevicesTableItem({ device, onDelete, classes, onEdit, index }) {\r\n    const handleDeleteDevice = () => {\r\n        onDelete(device.id);\r\n    };\r\n\r\n    const handleEditItem = () => {\r\n        onEdit(device);\r\n    };\r\n\r\n    return (\r\n        <TableRow key={device.id}>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n                <NavLink\r\n                    to={'/devices/' + device.id}\r\n                    className={classes.deviceLink}\r\n                    key={device.id}\r\n                >\r\n                    {device.config.name}\r\n                </NavLink>\r\n            </TableCell>\r\n            <TableCell>{device.config.ip_address}</TableCell>\r\n            <TableCell>{device.config.pixel_count}</TableCell>\r\n            <TableCell>{device.type}</TableCell>\r\n            <TableCell align=\"right\">\r\n                <Button\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    className={classes.deleteButton}\r\n                    onClick={handleDeleteDevice}\r\n                >\r\n                    <DeleteIcon />\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    className={classes.editButton}\r\n                    onClick={handleEditItem}\r\n                >\r\n                    <EditIcon />\r\n                </Button>\r\n            </TableCell>\r\n        </TableRow>\r\n    );\r\n}\r\n\r\nDevicesTableItem.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    device: PropTypes.object.isRequired,\r\n    onDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DevicesTableItem);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nimport DevicesTableItem from './DevicesTableItem.jsx';\r\n\r\nconst styles = theme => ({\r\n    table: {\r\n        borderSpacing: '0',\r\n        borderCollapse: 'collapse',\r\n    },\r\n    tableResponsive: {\r\n        overflowX: 'auto',\r\n    },\r\n});\r\n\r\nfunction DevicesTable({ onDeleteDevice, classes, items, onEditDevice }) {\r\n    return (\r\n        <div className={classes.tableResponsive}>\r\n            <Table className={classes.table}>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell >Name</TableCell>\r\n                        <TableCell >IP Address</TableCell>\r\n                        <TableCell >Pixel Count</TableCell>\r\n                        <TableCell >Type</TableCell>\r\n                        <TableCell />\r\n                    </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                    {items.map(device => {\r\n                        return (\r\n                            <DevicesTableItem\r\n                                key={device.id}\r\n                                device={device}\r\n                                onDelete={onDeleteDevice}\r\n                                onEdit={onEditDevice}\r\n                            />\r\n                        );\r\n                    })}\r\n                </TableBody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nDevicesTable.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    items: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DevicesTable);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    control: {\r\n        margin: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nfunction DropDown({ onChange, value, options, label }) {\r\n    const classes = useStyles();\r\n\r\n    const handleChange = ({ target: { value } }) => {\r\n        if (onChange) {\r\n            onChange(value);\r\n        }\r\n    };\r\n    return (\r\n        <FormControl className={classes.control}>\r\n            {label && <InputLabel>{label}</InputLabel>}\r\n            <Select value={value} onChange={handleChange}>\r\n                <MenuItem value=\"\" select=\"selected\">\r\n                    <Typography>None</Typography>\r\n                </MenuItem>\r\n\r\n                {options.map(({ display, value }) => {\r\n                    return (\r\n                        <MenuItem key={value} value={value}>\r\n                            <Typography>{display}</Typography>\r\n                        </MenuItem>\r\n                    );\r\n                })}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nDropDown.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    options: PropTypes.array,\r\n    value: PropTypes.string,\r\n};\r\nDropDown.defaultProps = {\r\n    classes: '',\r\n    options: [],\r\n    value: '',\r\n};\r\n\r\nexport default DropDown;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm } from 'react-schema-form';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Collapse from '@material-ui/core/Collapse';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    flexWrap: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n}));\r\n\r\nfunction AdditionalProperties({ form, model, schema, onChange, open }) {\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (...args) => {\r\n        if (onChange) {\r\n            onChange(...args);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Collapse in={open}>\r\n            <div className={classes.flexWrap}>\r\n                <SchemaForm\r\n                    className={classes.schemaForm}\r\n                    schema={schema}\r\n                    form={form}\r\n                    model={model}\r\n                    onModelChange={handleChange}\r\n                />\r\n            </div>\r\n        </Collapse>\r\n    );\r\n}\r\n\r\nAdditionalProperties.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    form: PropTypes.array,\r\n    model: PropTypes.object,\r\n    scheme: PropTypes.object,\r\n};\r\nAdditionalProperties.defaultProps = {\r\n    classes: '',\r\n    form: [],\r\n    model: {},\r\n    scheme: {},\r\n};\r\n\r\nexport default AdditionalProperties;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport clsx from 'clsx';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Box from '@material-ui/core/Box';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport DropDown from 'components/forms/DropDown';\r\nimport AdditionalProperties from './AdditionalProperties';\r\n\r\nconst styles = theme => ({\r\n    form: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n    },\r\n    bottomContainer: {\r\n        flex: 1,\r\n        marginTop: 8,\r\n    },\r\n    actionButtons: {\r\n        '& > *': {\r\n            marginLeft: theme.spacing(2),\r\n        },\r\n    },\r\n    expandIcon: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n});\r\n\r\nclass DeviceConfigDialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            deviceType: '',\r\n            model: {},\r\n            additionalPropertiesOpen: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { initial } = this.props;\r\n        if (initial.type) {\r\n            this.handleTypeChange(initial.type, initial.config);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { initial } = this.props;\r\n        if (initial !== prevProps.initial) {\r\n            this.handleTypeChange(initial.type, initial.config);\r\n        }\r\n    }\r\n\r\n    handleTypeChange = (value, initial = {}) => {\r\n        this.setState({ deviceType: value, model: initial });\r\n    };\r\n\r\n    onModelChange = (key, val) => {\r\n        utils.selectOrSet(key, this.state.model, val);\r\n    };\r\n\r\n    toggleShowAdditional = e => {\r\n        this.setState(prevState => ({\r\n            additionalPropertiesOpen: !prevState.additionalPropertiesOpen,\r\n        }));\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        const { initial, onAddDevice, onUpdateDevice } = this.props;\r\n        const { deviceType, model: config } = this.state;\r\n\r\n        if (initial.id) {\r\n            onUpdateDevice(initial.id, deviceType, config);\r\n        } else {\r\n            onAddDevice(deviceType, config);\r\n        }\r\n\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        const { classes, deviceTypes, open } = this.props;\r\n        const { model, additionalPropertiesOpen, deviceType } = this.state;\r\n\r\n        const currentSchema = {\r\n            type: 'object',\r\n            title: 'Configuration',\r\n            properties: {},\r\n            ...(deviceType ? deviceTypes[deviceType].schema : {}),\r\n        };\r\n\r\n        const requiredKeys = currentSchema.required;\r\n        const optionalKeys = Object.keys(currentSchema.properties).filter(\r\n            key => !(requiredKeys && requiredKeys.some(rk => key === rk))\r\n        );\r\n        const showAdditionalUi = optionalKeys.length > 0;\r\n\r\n        return (\r\n            <Dialog\r\n                onClose={this.handleClose}\r\n                className={classes.cardResponsive}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                disableBackdropClick\r\n                open={open}\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Add Device</DialogTitle>\r\n                <DialogContent className={classes.cardResponsive}>\r\n                    <DialogContentText>\r\n                        To add a device to LedFx, please first select the type of device you wish to\r\n                        add then provide the necessary configuration.\r\n                    </DialogContentText>\r\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\r\n                        <DropDown\r\n                            label=\"Type\"\r\n                            value={deviceType}\r\n                            options={Object.keys(deviceTypes).map(key => ({\r\n                                value: key,\r\n                                display: key,\r\n                            }))}\r\n                            onChange={this.handleTypeChange}\r\n                        />\r\n\r\n                        <SchemaForm\r\n                            className={classes.schemaForm}\r\n                            schema={currentSchema}\r\n                            form={requiredKeys}\r\n                            model={model}\r\n                            onModelChange={this.onModelChange}\r\n                        />\r\n\r\n                        {showAdditionalUi && (\r\n                            <AdditionalProperties\r\n                                schema={currentSchema}\r\n                                form={optionalKeys}\r\n                                model={model}\r\n                                onChange={this.onModelChange}\r\n                                open={additionalPropertiesOpen}\r\n                            />\r\n                        )}\r\n\r\n                        <DialogActions className={classes.bottomContainer}>\r\n                            {showAdditionalUi && (\r\n                                <Button\r\n                                    size=\"medium\"\r\n                                    className={classes.additionalButton}\r\n                                    onClick={this.toggleShowAdditional}\r\n                                >\r\n                                    <ExpandMoreIcon\r\n                                        color=\"disabled\"\r\n                                        className={clsx({\r\n                                            [classes.expandIcon]: additionalPropertiesOpen,\r\n                                        })}\r\n                                    />\r\n                                    {`Show ${!additionalPropertiesOpen ? 'More' : 'Less'}`}\r\n                                </Button>\r\n                            )}\r\n                            <Box\r\n                                flex={1}\r\n                                display=\"flex\"\r\n                                justifyContent=\"flex-end\"\r\n                                className={classes.actionButtons}\r\n                            >\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    onClick={this.handleCancel}\r\n                                    color=\"primary\"\r\n                                >\r\n                                    {'Cancel'}\r\n                                </Button>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    type=\"submit\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled={!deviceType}\r\n                                >\r\n                                    {'Submit'}\r\n                                </Button>\r\n                            </Box>\r\n                        </DialogActions>\r\n                    </form>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(DeviceConfigDialog);\r\n\r\nDeviceConfigDialog.propTypes = {\r\n    deviceTypes: PropTypes.object,\r\n};\r\n\r\nDeviceConfigDialog.defaultProps = {\r\n    deviceTypes: {},\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport DevicesTable from 'components/DevicesTable';\r\nimport DeviceConfigDialog from 'components/DeviceConfigDialog';\r\nimport {\r\n    addDevice,\r\n    deleteDevice,\r\n    updateDeviceConfig,\r\n    fetchDeviceList,\r\n    findWLEDDevices,\r\n} from 'modules/devices';\r\n\r\nconst styles = theme => ({\r\n    cardResponsive: {\r\n        width: '100%',\r\n        overflowX: 'auto',\r\n    },\r\n    button: {\r\n        size: 'large',\r\n        margin: theme.spacing(1),\r\n    },\r\n    dialogButton: {\r\n        float: 'right',\r\n    },\r\n});\r\n\r\nclass DevicesView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            addDialogOpened: false,\r\n            selectedDevice: {},\r\n            searchDevicesLoading: false,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        const { fetchDeviceList } = this.props;\r\n        fetchDeviceList();\r\n    }\r\n\r\n    openAddDeviceDialog = () => {\r\n        this.setState({ selectedDevice: {}, addDialogOpened: true });\r\n    };\r\n\r\n    closeAddDeviceDialog = () => {\r\n        this.setState({ selectedDevice: {}, addDialogOpened: false });\r\n    };\r\n\r\n    handleEditDevice = device => {\r\n        this.setState({ selectedDevice: device, addDialogOpened: true });\r\n    };\r\n\r\n    handleFindDevices = () => {\r\n        const { findWLEDDevices } = this.props;\r\n        this.setState({ searchDevicesLoading: true });\r\n        new Promise((resolve, reject) => {\r\n            findWLEDDevices({ resolve, reject });\r\n        }).then(() => {\r\n            this.setState({ searchDevicesLoading: false });\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            deviceList,\r\n            schemas,\r\n            addDevice,\r\n            deleteDevice,\r\n            updateDeviceConfig,\r\n            scanProgress,\r\n        } = this.props;\r\n        const { addDialogOpened, selectedDevice } = this.state;\r\n        const helpText = `Ensure WLED Devices are on and connected to your WiFi.\\n\r\n                          If not detected, check WLED device mDNS setting. Go to:\\n\r\n                          WLED device ip > Config > WiFi Setup > mDNS Address \\n`;\r\n\r\n        return (\r\n            <>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12} md={12}>\r\n                        <Card>\r\n                            <CardContent>\r\n                                <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\r\n                                    <Grid item xs=\"auto\">\r\n                                        <Typography variant=\"h5\">Devices</Typography>\r\n                                        <Typography variant=\"body1\" color=\"textSecondary\">\r\n                                            Manage devices connected to LedFx\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    {!schemas.isLoading && (\r\n                                        <>\r\n                                            <Grid item>\r\n                                                <Box\r\n                                                    display=\"flex\"\r\n                                                    flexDirection=\"row\"\r\n                                                    alignItems=\"center\"\r\n                                                    justifyContent=\"center\"\r\n                                                >\r\n                                                    <CircularProgress\r\n                                                        variant=\"determinate\"\r\n                                                        value={scanProgress * 10}\r\n                                                        size={35}\r\n                                                    />\r\n                                                    <Tooltip title={helpText} interactive arrow>\r\n                                                        <Button\r\n                                                            variant=\"contained\"\r\n                                                            color=\"primary\"\r\n                                                            aria-label=\"Scan\"\r\n                                                            disabled={\r\n                                                                this.state.searchDevicesLoading\r\n                                                            }\r\n                                                            className={classes.button}\r\n                                                            onClick={this.handleFindDevices}\r\n                                                            endIcon={<WifiTetheringIcon />}\r\n                                                        >\r\n                                                            Find WLED Devices\r\n                                                        </Button>\r\n                                                    </Tooltip>\r\n                                                    <Button\r\n                                                        variant=\"contained\"\r\n                                                        color=\"primary\"\r\n                                                        aria-label=\"Add\"\r\n                                                        className={classes.button}\r\n                                                        onClick={this.openAddDeviceDialog}\r\n                                                        endIcon={<AddCircleIcon />}\r\n                                                    >\r\n                                                        Add Device\r\n                                                    </Button>\r\n                                                    <DeviceConfigDialog\r\n                                                        open={addDialogOpened}\r\n                                                        onClose={this.closeAddDeviceDialog}\r\n                                                        deviceTypes={schemas.deviceTypes}\r\n                                                        onAddDevice={addDevice}\r\n                                                        initial={selectedDevice}\r\n                                                        onUpdateDevice={updateDeviceConfig}\r\n                                                    />\r\n                                                </Box>\r\n                                            </Grid>\r\n                                        </>\r\n                                    )}\r\n                                </Grid>\r\n\r\n                                <DevicesTable\r\n                                    items={deviceList}\r\n                                    onDeleteDevice={deleteDevice}\r\n                                    onEditDevice={this.handleEditDevice}\r\n                                />\r\n\r\n\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        deviceList: state.devices.list,\r\n        schemas: state.schemas,\r\n        scanProgress: state.devices.scanProgress,\r\n    }),\r\n    {\r\n        addDevice,\r\n        deleteDevice,\r\n        updateDeviceConfig,\r\n        fetchDeviceList,\r\n        findWLEDDevices,\r\n    }\r\n)(withStyles(styles)(DevicesView));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nconst styles = theme => ({\r\n    table: {\r\n    }\r\n});\r\n\r\nclass SceneConfigTable extends React.Component {\r\n\r\n  render() {\r\n    const { classes, devices } = this.props;\r\n\r\n    return (\r\n        <Table className = { classes.table }>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Device</TableCell>\r\n              <TableCell>Effect</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {renderRows(devices)}\r\n          </TableBody>\r\n        </Table>\r\n    );\r\n  }\r\n}\r\n\r\nconst renderRows = (devices) => {\r\n  const devicesWithEffects = Object.keys(devices).filter(id => !!devices[id].type);\r\n  return devicesWithEffects.map(id => {\r\n    return (\r\n      <TableRow key={id}>\r\n          <TableCell>\r\n            {id}\r\n          </TableCell>\r\n          <TableCell>\r\n            {devices[id].type}\r\n          </TableCell>\r\n      </TableRow>\r\n    )})\r\n}\r\n\r\nSceneConfigTable.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  devices: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(SceneConfigTable);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nimport SceneConfigTable from 'components/SceneCard/SceneConfigTable';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    deleteButton: {\r\n        margin: theme.spacing(1),\r\n        size: \"medium\",\r\n    },\r\n    button: {\r\n        color: \"primary\",\r\n        margin: theme.spacing(1),\r\n        size: \"medium\",\r\n        variant: \"contained\",\r\n    },\r\n    submitControls: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n    },\r\n}));\r\n\r\nexport default function SceneCard({ scene, activateScene, deleteScene }) {\r\n    const classes = useStyles();\r\n\r\n    const handleActivate = () => {\r\n        activateScene(scene.id);\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        deleteScene(scene.id);\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title={scene.name} />\r\n            <CardContent>\r\n                {scene.devices && <SceneConfigTable devices={scene.devices} />}\r\n            </CardContent>\r\n            <CardActions className={classes.submitControls}>\r\n                <Button\r\n                    className={classes.deleteButton}\r\n                    aria-label=\"Delete\"\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    onClick={handleDelete}\r\n                    endIcon={<DeleteIcon />}\r\n                >\r\n                    Delete\r\n                </Button>\r\n                <Button\r\n                    className={classes.button}\r\n                    aria-label=\"Activate\"\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    onClick={handleActivate}\r\n                    endIcon={<CheckCircleIcon />}\r\n                >\r\n                    Activate\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n\r\nSceneCard.propTypes = {\r\n    scene: PropTypes.object.isRequired,\r\n    deleteScene: PropTypes.func.isRequired,\r\n    activateScene: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport ScenesCard from 'components/SceneCard';\r\nimport AddSceneCard from 'components/AddSceneCard';\r\nimport { getScenes, addScene, activateScene, deleteScene } from 'modules/scenes';\r\n\r\nconst styles = theme => ({\r\n    cardResponsive: {\r\n        width: '100%',\r\n        overflowX: 'auto',\r\n    },\r\n    button: {\r\n        position: 'absolute',\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2),\r\n    },\r\n    dialogButton: {\r\n        float: 'right',\r\n    },\r\n    spinnerContainer: {\r\n        height: '10rem',\r\n    },\r\n});\r\n\r\nclass ScenesView extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getScenes();\r\n    }\r\n\r\n    handleAddScene = name => {\r\n        const { addScene } = this.props;\r\n        addScene(name);\r\n    };\r\n\r\n    render() {\r\n        const { scenes, classes, deleteScene, activateScene } = this.props;\r\n\r\n        return (\r\n            <Grid container direction=\"row\" spacing={4}>\r\n                <Grid item xs={12}>\r\n                    <AddSceneCard scenes={scenes} addScene={this.handleAddScene} />\r\n                </Grid>\r\n                {scenes.isLoading ? (\r\n                    <Grid\r\n                        container\r\n                        justify=\"center\"\r\n                        alignContent=\"center\"\r\n                        className={classes.spinnerContainer}\r\n                    >\r\n                        <CircularProgress size={80} />\r\n                    </Grid>\r\n                ) : (\r\n                    scenes.list.map(scene => (\r\n                        <Grid key={scene.name} item xs={12} md={4}>\r\n                            <ScenesCard\r\n                                key={scene.id}\r\n                                scene={scene}\r\n                                deleteScene={deleteScene}\r\n                                activateScene={activateScene}\r\n                            />\r\n                        </Grid>\r\n                    ))\r\n                )}\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        scenes: state.scenes,\r\n    }),\r\n    { getScenes, addScene, activateScene, deleteScene }\r\n)(withStyles(styles)(ScenesView));\r\n","import React from 'react';\r\nimport ComposedComponent from 'react-schema-form/lib/ComposedComponent';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Box from '@material-ui/core/Box';\r\nimport debounce from 'debounce';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        margin: theme.spacing(1),\r\n        padding: theme.spacing(1),\r\n        width: '100%',\r\n        flex: '1 0 30%',\r\n    },\r\n    valueLabel: {\r\n        transformOrigin: 'top right',\r\n    }\r\n}));\r\n\r\nfunction valuetext(value) {\r\n    return value.toString();\r\n}\r\n\r\nconst SliderComponent = props => {\r\n    const {\r\n        form: { schema },\r\n        value,\r\n        onChangeValidate,\r\n    } = props;\r\n\r\n    const debouncedOnChangeHandler = debounce(onChangeValidate, 200)\r\n\r\n    const onChange = (e, newValue) => {\r\n        debouncedOnChangeHandler(newValue);\r\n    };\r\n\r\n    const classes = useStyles();\r\n\r\n    const marks = [\r\n        {\r\n            value: schema.minimum,\r\n            label: schema.minimum,\r\n        },\r\n        {\r\n            value: schema.maximum,\r\n            label: schema.maximum,\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Box display=\"flex\" justifyContent=\"space-between\">\r\n                <InputLabel id=\"discrete-slider\" shrink>\r\n                    {schema.title}\r\n                </InputLabel>\r\n                <InputLabel shrink className={classes.valueLabel}>\r\n                    {value}\r\n                </InputLabel>\r\n            </Box>\r\n            <Slider\r\n                defaultValue={schema.default}\r\n                getAriaValueText={valuetext}\r\n                aria-labelledby=\"discrete-slider\"\r\n                step={0.001}\r\n                marks={marks}\r\n                valueLabelDisplay=\"auto\"\r\n                min={schema.minimum}\r\n                max={schema.maximum}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n// export default SliderComponent;\r\nexport default ComposedComponent(SliderComponent);\r\n","import React from 'react';\r\nimport DefaultNumberField from 'react-schema-form/lib/Number';\r\n\r\nimport Slider from './customFields/Slider';\r\n\r\nconst mapper = {\r\n    number: props => {\r\n        const {\r\n            form: {\r\n                schema\r\n            },\r\n        } = props;\r\n\r\n        if (schema.minimum !== undefined && schema.maximum !== undefined) {\r\n            return <Slider {...props} />;\r\n        }\r\n\r\n        return <DefaultNumberField {...props}/>\r\n    },\r\n};\r\n\r\nexport default mapper;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CasinoIcon from '@material-ui/icons/Casino';\r\n\r\nimport DropDown from 'components/forms/DropDown';\r\nimport mapper from 'components/SchemaForm/mapper';\r\n\r\nconst styles = theme => ({\r\n    form: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    schemaForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n    },\r\n    bottomContainer: {\r\n        flex: 1,\r\n        marginTop: 8,\r\n    },\r\n    actionButtons: {\r\n        '& > *': {\r\n            marginLeft: theme.spacing(2),\r\n        },\r\n    },\r\n    expandIcon: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n});\r\n\r\nclass EffectControl extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedType: '',\r\n            model: {},\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { effect } = this.props;\r\n        if (effect.type) {\r\n            this.handleTypeChange(effect?.type, effect.config);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { effect } = this.props;\r\n        if (effect.type !== prevProps.effect.type || effect?.config !== prevProps.effect?.config) {\r\n            this.handleTypeChange(effect.type, effect.config);\r\n        }\r\n    }\r\n\r\n    handleTypeChange = (value = '', initial = {}) => {\r\n        const { onTypeChange } = this.props;\r\n        this.setState({ selectedType: value, model: initial });\r\n        if (onTypeChange) {\r\n            onTypeChange(value);\r\n        }\r\n    };\r\n\r\n    onModelChange = (key, val) => {\r\n        const model = utils.selectOrSet(key, this.state.model, val);\r\n        this.setState({ model });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        const { onSubmit, device } = this.props;\r\n        const { selectedType, model } = this.state;\r\n\r\n        e.preventDefault();\r\n        if (onSubmit) {\r\n            onSubmit({ deviceId: device.id, type: selectedType, config: model });\r\n        }\r\n    };\r\n\r\n    handleRandomize = e => {\r\n        const { onSubmit, device } = this.props;\r\n        const { selectedType } = this.state;\r\n\r\n        e.preventDefault();\r\n        if (onSubmit) {\r\n            onSubmit({ deviceId: device.id, type: selectedType, config: 'RANDOMIZE' });\r\n        }\r\n    };\r\n\r\n    handleClearEffect = () => {\r\n        const { onClear, device } = this.props;\r\n        onClear(device.id);\r\n    };\r\n\r\n    render() {\r\n        const { classes, schemas } = this.props;\r\n        const { model, selectedType } = this.state;\r\n\r\n        const currentSchema = {\r\n            type: 'object',\r\n            title: 'Configuration',\r\n            properties: {},\r\n            ...(selectedType ? schemas.effects[selectedType].schema : {}),\r\n        };\r\n\r\n        const requiredKeys = Object.keys(currentSchema.properties);\r\n\r\n        if (schemas.effects) {\r\n            return (\r\n                <>\r\n                    <Typography variant=\"h5\">Effect Control</Typography>\r\n                    <Typography variant=\"body1\" color=\"textSecondary\">\r\n                        Set and configure effects\r\n                    </Typography>\r\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\r\n                        <DropDown\r\n                            label=\"Type\"\r\n                            value={selectedType}\r\n                            options={Object.keys(schemas?.effects).map(key => ({\r\n                                value: key,\r\n                                display: key,\r\n                            }))}\r\n                            onChange={this.handleTypeChange}\r\n                        />\r\n\r\n                        <SchemaForm\r\n                            className={classes.schemaForm}\r\n                            schema={currentSchema}\r\n                            form={requiredKeys}\r\n                            model={model}\r\n                            onModelChange={this.onModelChange}\r\n                            mapper={mapper}\r\n                        />\r\n\r\n                        <DialogActions className={classes.bottomContainer}>\r\n                            {selectedType && (\r\n                                <Button\r\n                                    onClick={this.handleRandomize}\r\n                                    endIcon={<CasinoIcon />}\r\n                                    color=\"primary\"\r\n                                >\r\n                                    Randomize\r\n                                </Button>\r\n                            )}\r\n                            <Box\r\n                                flex={1}\r\n                                display=\"flex\"\r\n                                justifyContent=\"flex-end\"\r\n                                className={classes.actionButtons}\r\n                            >\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    onClick={this.handleClearEffect}\r\n                                    color=\"primary\"\r\n                                    endIcon={<CancelIcon />}\r\n                                >\r\n                                    Clear Effect\r\n                                </Button>\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    type=\"submit\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled={!selectedType}\r\n                                    endIcon={<CheckCircleIcon />}\r\n                                >\r\n                                    Set Effect\r\n                                </Button>\r\n                            </Box>\r\n                        </DialogActions>\r\n                    </form>\r\n                </>\r\n            );\r\n        }\r\n\r\n        return <p>Loading</p>;\r\n    }\r\n}\r\n\r\nEffectControl.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    schemas: PropTypes.object.isRequired,\r\n    device: PropTypes.object.isRequired,\r\n    effect: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(EffectControl);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\n// CONSTANT device categories\r\nexport const DEFAULT_CAT = 'default_presets';\r\nexport const CUSTOM_CAT = 'custom_presets';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        padding: theme.spacing(2),\r\n        paddingBottom: 0,\r\n    },\r\n    presetButton: {\r\n        margin: theme.spacing(1),\r\n        textDecoration: 'none',\r\n    },\r\n    buttonGrid: {\r\n        direction: 'row',\r\n    },\r\n    actions: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        paddingBottom: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst PresetsCard = ({ device, presets, effect, activatePreset, getEffectPresets, addPreset }) => {\r\n    const classes = useStyles();\r\n    const [name, setName] = useState('');\r\n    const isNameValid = validateTextInput(name, presets);\r\n\r\n    console.log('what this here', effect);\r\n    useEffect(() => {\r\n        getEffectPresets(effect.type);\r\n    }, [effect.type, getEffectPresets]);\r\n\r\n    const handleActivatePreset = (deviceId, category, type, presetId) => () => {\r\n        activatePreset(deviceId, category, type, presetId);\r\n        setName('');\r\n    };\r\n\r\n    const renderPresetsButton = (list, CATEGORY) => {\r\n        if (!list?.length)\r\n            return (\r\n                <Button className={classes.presetButton} disabled>\r\n                    No Saved Presets\r\n                </Button>\r\n            );\r\n        return list.map(preset => {\r\n            return (\r\n                <Grid item key={preset.id}>\r\n                    <Button\r\n                        className={classes.presetButton}\r\n                        onClick={handleActivatePreset(\r\n                            device.id,\r\n                            CATEGORY,\r\n                            presets.effectType,\r\n                            preset.id\r\n                        )}\r\n                    >\r\n                        {preset.name}\r\n                    </Button>\r\n                </Grid>\r\n            );\r\n        });\r\n    };\r\n\r\n    const handleAddPreset = () => {\r\n        addPreset(device.id, name);\r\n    };\r\n\r\n    return (\r\n        <Card variant=\"outlined\">\r\n            <CardHeader title=\"Presets\" subheader=\"Explore different effect configurations\" />\r\n            <CardContent className={classes.content}>\r\n                <Typography variant=\"subtitle2\">Default</Typography>\r\n                <Grid container className={classes.buttonGrid}>\r\n                    {renderPresetsButton(presets?.defaultPresets, DEFAULT_CAT)}\r\n                </Grid>\r\n                <Typography variant=\"subtitle2\">Custom</Typography>\r\n                <Grid container className={classes.buttonGrid}>\r\n                    {renderPresetsButton(presets?.customPresets, CUSTOM_CAT)}\r\n                </Grid>\r\n                <Typography variant=\"h6\">Add Preset</Typography>\r\n                <Typography variant=\"body1\" color=\"textSecondary\">\r\n                    Save this effect configuration as a preset\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions className={classes.actions}>\r\n                <TextField\r\n                    error={!isNameValid}\r\n                    id=\"presetNameInput\"\r\n                    label=\"Preset Name\"\r\n                    onChange={e => setName(e.target.value)}\r\n                />\r\n                <Button\r\n                    className={classes.presetButton}\r\n                    color=\"primary\"\r\n                    aria-label=\"Save Preset\"\r\n                    disabled={name.length === 0 || !isNameValid}\r\n                    variant=\"contained\"\r\n                    onClick={handleAddPreset}\r\n                    endIcon={<SaveIcon />}\r\n                >\r\n                    Save Preset\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst validateTextInput = (input, presets) => {\r\n    const used = presets.customPresets.concat(presets.defaultPresets);\r\n    return !used.some(p => p.name === input);\r\n};\r\n\r\nexport default PresetsCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport { loadDeviceInfo, setDeviceEffect, clearDeviceEffect } from 'modules/selectedDevice';\r\nimport { activatePreset, getEffectPresets, addPreset } from 'modules/presets';\r\nimport EffectControl from 'components/EffectControl';\r\nimport PixelColorGraph from 'components/PixelColorGraph';\r\nimport PresetsCard from 'components/PresetsCard';\r\n\r\nclass DeviceView extends React.Component {\r\n    componentDidMount() {\r\n        const { deviceId } = this.props.match.params;\r\n        this.handleLoadDevice(deviceId);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const { deviceId } = this.props.match.params;\r\n        const { deviceId: newDeviceId } = nextProps.match.params;\r\n        if (deviceId !== newDeviceId) {\r\n            this.handleLoadDevice(newDeviceId);\r\n        }\r\n    }\r\n\r\n    handleLoadDevice = deviceId => {\r\n        const { loadDeviceInfo } = this.props;\r\n        loadDeviceInfo(deviceId);\r\n    };\r\n\r\n    handleClearEffect = deviceId => {\r\n        const { clearDeviceEffect } = this.props;\r\n        clearDeviceEffect(deviceId);\r\n    };\r\n\r\n    handleSetEffect = data => {\r\n        const { setDeviceEffect } = this.props;\r\n        setDeviceEffect(data.deviceId, data);\r\n    };\r\n\r\n    handleTypeChange = effectType => {\r\n        const { getEffectPresets } = this.props;\r\n        getEffectPresets(effectType);\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            presets,\r\n            schemas,\r\n            selectedDevice,\r\n            activatePreset,\r\n            getEffectPresets,\r\n            addPreset,\r\n        } = this.props;\r\n        const { device, effect, isDeviceLoading, isEffectLoading } = selectedDevice;\r\n\r\n        if (schemas.isLoading || isDeviceLoading || isEffectLoading || !device || !effect) {\r\n            return <p>Loading</p>;\r\n        }\r\n\r\n        return (\r\n            <Grid container direction=\"row\" spacing={4}>\r\n                {renderPixelGraph(device, effect)}\r\n                <Grid item xs={12} lg={6}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <EffectControl\r\n                                device={device}\r\n                                effect={effect}\r\n                                schemas={schemas}\r\n                                onClear={this.handleClearEffect}\r\n                                onSubmit={this.handleSetEffect}\r\n                                onTypeChange={this.handleTypeChange}\r\n                            />\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} lg={6}>\r\n                    {effect.type && (\r\n                        <PresetsCard\r\n                            device={device}\r\n                            presets={presets}\r\n                            effect={effect}\r\n                            activatePreset={activatePreset}\r\n                            getEffectPresets={getEffectPresets}\r\n                            addPreset={addPreset}\r\n                        />\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nconst renderPixelGraph = (device, effect) => {\r\n    if (device && effect?.name) {\r\n        return (\r\n            <Grid item xs={12}>\r\n                <Card>\r\n                    <CardContent>\r\n                        <PixelColorGraph device={device} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n        );\r\n    }\r\n};\r\n\r\nDeviceView.propTypes = {\r\n    schemas: PropTypes.object.isRequired,\r\n    selectedDevice: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        schemas: state.schemas,\r\n        selectedDevice: state.selectedDevice,\r\n        presets: state.presets,\r\n    }),\r\n    {\r\n        loadDeviceInfo,\r\n        clearDeviceEffect,\r\n        setDeviceEffect,\r\n        activatePreset,\r\n        getEffectPresets,\r\n        addPreset,\r\n    }\r\n)(DeviceView);\r\n","import { api } from 'utils/api';\r\n\r\nexport function getEffectPresets(effectId) {\r\n    return api.get(`effects/${effectId}/presets`);\r\n}\r\n\r\nexport function updateEffectPreset(effectId, data) {\r\n    return api.put(`effects/${effectId}/presets`, data);\r\n}\r\n\r\nexport function addEffectPreset(effectId, data) {\r\n    return api.post(`effects/${effectId}/presets`, data);\r\n}\r\n","import React from 'react';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function PopoverNew({\r\n    old,\r\n    onSubmit,\r\n    variant = 'contained',\r\n    userInput = 'name',\r\n    buttonText = 'Add Virtual',\r\n    buttonIcon = <AddCircleIcon />,\r\n    submitIcon = <AddCircleIcon />,\r\n}) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n    const [name, setName] = React.useState('');\r\n    const handleChange = event => {\r\n        setName(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button aria-describedby={id} variant={variant} color=\"primary\" onClick={handleClick}>\r\n                {buttonText}\r\n                {buttonIcon}\r\n            </Button>\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                {' '}\r\n                <div style={{ display: 'flex' }}>\r\n                    <TextField\r\n                        id=\"outlined-basic\"\r\n                        label={userInput}\r\n                        value={name}\r\n                        onChange={handleChange}\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Button\r\n                        aria-describedby={id}\r\n                        variant=\"contained\"\r\n                        style={{ margin: '8px' }}\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                            if (name === 'BladeMod') {\r\n                                window.localStorage.setItem('BladeMod', '1');\r\n                            }\r\n                            onSubmit({ old: old, new: name });\r\n                            setAnchorEl(null);\r\n                        }}\r\n                    >\r\n                        {submitIcon}\r\n                    </Button>\r\n                </div>\r\n            </Popover>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { v1 as uuidv1 } from 'uuid';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);\r\n    const radioGroupRef = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        if (!open) {\r\n            setValue(valueProp);\r\n        }\r\n    }, [valueProp, open]);\r\n\r\n    const handleEntering = () => {\r\n        if (radioGroupRef.current != null) {\r\n            radioGroupRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n    };\r\n\r\n    const handleChange = event => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            onEntering={handleEntering}\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\r\n            <DialogContent dividers>\r\n                <RadioGroup\r\n                    ref={radioGroupRef}\r\n                    aria-label=\"ringtone\"\r\n                    name=\"ringtone\"\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                >\r\n                    {props.deviceList.map(device => (\r\n                        <FormControlLabel\r\n                            value={device.name}\r\n                            key={device.name}\r\n                            control={<Radio />}\r\n                            label={device.name}\r\n                        />\r\n                    ))}\r\n                </RadioGroup>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 435,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ virtual, deviceList, config }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const dispatch = useDispatch();\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n\r\n    const addSegment = data => {\r\n        dispatch({ type: 'virtuals/ADD_SEGMENT', payload: data });\r\n    };\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n        if (newValue) {\r\n            const id = uuidv1();\r\n            const output = { ...deviceList.find(d => d.name === newValue) };\r\n            output['device_key'] = output.key;\r\n            output['id'] = '' + output.key + '_' + id;\r\n            output['key'] = output['id'];\r\n            output['led_start'] = 1;\r\n            output['led_end'] = output.config.pixel_count;\r\n            output['order_number'] = virtuals.find(v => v.name === virtual).items.length;\r\n            output['used_pixel'] = output.config.pixel_count;\r\n            output['invert'] = false;\r\n            output['pixel_density'] = 30;\r\n            addSegment({ virtual: virtual, device: output });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {deviceList.length > 0 ? (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-label=\"Add\"\r\n                        className={classes.button}\r\n                        endIcon={<AddCircleIcon />}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={handleClickListItem}\r\n                        role=\"listitem\"\r\n                    >\r\n                        ADD SEGMENT\r\n                    </Button>\r\n\r\n                    <ConfirmationDialogRaw\r\n                        classes={{\r\n                            paper: classes.paper,\r\n                        }}\r\n                        config={config}\r\n                        id=\"ringtone-menu\"\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        value={deviceList[0].name}\r\n                        deviceList={deviceList}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <></>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst PixelSlider = ({ virtual, device }) => {\r\n    const dispatch = useDispatch();\r\n    const virtualsList = useSelector(state => state.virtuals.list);\r\n    const currentVirtual = virtualsList\r\n        .find(reduxItem => reduxItem.name === virtual)\r\n        .items.find(d => d.id === device.id);\r\n    if (!currentVirtual) {\r\n        return <></>;\r\n    }\r\n    const pixelRange = [currentVirtual.led_start, currentVirtual.led_end];\r\n\r\n    const handleChange = (event, newValue) => {\r\n        if (newValue !== pixelRange) {\r\n            dispatch({\r\n                type: 'virtuals/CHANGE_SEGMENT_PXEL',\r\n                payload: { virtual: virtual, device: device.id, newValue: newValue },\r\n            });\r\n        }\r\n    };\r\n\r\n    const marks = [\r\n        { value: 1, label: 1 },\r\n        { value: currentVirtual.config.pixel_count, label: currentVirtual.config.pixel_count },\r\n    ];\r\n\r\n    return (\r\n        <Slider\r\n            value={pixelRange}\r\n            marks={marks}\r\n            min={1}\r\n            max={currentVirtual.config.pixel_count}\r\n            onChange={handleChange}\r\n            aria-labelledby=\"range-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n            style={{ marginBottom: '15px' }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default PixelSlider;\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Popover from '@material-ui/core/Popover'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport CloseIcon from \"@material-ui/icons/Close\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    typography: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}))\r\n\r\nexport default function SimplePopover({ onDeleteVitem, listItem, variant = \"contained\", color = \"secondary\" }) {\r\n    const classes = useStyles()\r\n    const [anchorEl, setAnchorEl] = React.useState(null)\r\n    const handleClick = (event) => { setAnchorEl(event.currentTarget) }\r\n    const handleClose = () => { setAnchorEl(null) }\r\n    const open = Boolean(anchorEl)\r\n    const id = open ? 'simple-popover' : undefined\r\n\r\n    return (\r\n        <div>\r\n            <Button aria-describedby={id} variant={variant} color={color} onClick={handleClick}>\r\n                <DeleteIcon />\r\n            </Button>\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'right',\r\n                }}\r\n            >   <div style={{ display: \"flex\" }}>\r\n                    <Typography className={classes.typography}>Are you sure?</Typography>\r\n                    <Button aria-describedby={id} variant=\"contained\" color=\"primary\" onClick={() => { onDeleteVitem(listItem) }}>\r\n                        <DeleteIcon />\r\n                    </Button>\r\n                    <Button aria-describedby={id} variant=\"contained\" color=\"default\" onClick={() => { setAnchorEl(null) }}>\r\n                        <CloseIcon />\r\n                    </Button>\r\n                </div>\r\n            </Popover>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { ListItemText } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UsedPixels = ({ virtual, device }) => {\r\n  const list = useSelector(state => state.virtuals.list)\r\n  const test = list.find(reduxItem => reduxItem.name === virtual).items.find(d => d.id === device.id)\r\n  const pixels = test && test.used_pixel\r\n  return (\r\n    <ListItemText style={{ flexBasis: \"20%\", flexGrow: 'unset', width: \"20%\", textAlign: 'center' }} secondary={'Used Pixels'} primary={pixels}\r\n    />\r\n  )\r\n}\r\n\r\nexport default UsedPixels\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    ListItem,\r\n    ListItemText,\r\n    ListItemIcon,\r\n    ListItemSecondaryAction,\r\n    Switch,\r\n    TextField,\r\n} from '@material-ui/core';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport FormatLineSpacingIcon from '@material-ui/icons/FormatLineSpacing';\r\nimport PixelSlider from './PixelSlider';\r\nimport PopoverSure from './PopoverSure';\r\nimport UsedPixels from './UsedPixels';\r\n\r\nconst DragDropItem = ({ listItem, virtual, index }) => {\r\n    const dispatch = useDispatch();\r\n    const onDeleteVitem = () => {\r\n        dispatch({\r\n            type: 'virtuals/DELETE_SEGMENT',\r\n            payload: { virtual: virtual, device: listItem },\r\n        });\r\n    };\r\n\r\n    const getItemStyle = (isDragging, draggableStyle) => ({\r\n        // styles we need to apply on draggables\r\n        ...draggableStyle,\r\n        borderTop: '1px dashed grey',\r\n        borderBottom: '1px dashed grey',\r\n        ...(isDragging && {\r\n            background: 'rgb(235,235,235)',\r\n        }),\r\n    });\r\n\r\n    const handleInvert = (virtual, listItem) => {\r\n        dispatch({\r\n            type: 'virtuals/CHANGE_SEGMENT_INVERT',\r\n            payload: { virtual: virtual, device: listItem },\r\n        });\r\n    };\r\n    const handlePixelDensity = (virtual, listItem, newValue) => {\r\n        dispatch({\r\n            type: 'virtuals/CHANGE_SEGMENT_PIXELDENSITY',\r\n            payload: { virtual: virtual, device: listItem, newValue: parseInt(newValue) },\r\n        });\r\n    };\r\n    return (\r\n        <Draggable\r\n            key={`${listItem.id}-${index}`}\r\n            draggableId={listItem.id}\r\n            index={index}\r\n            style={{ border: '2px solid red' }}\r\n        >\r\n            {(provided, snapshot) => (\r\n                <ListItem\r\n                    ContainerComponent=\"li\"\r\n                    ContainerProps={{ ref: provided.innerRef }}\r\n                    {...provided.draggableProps}\r\n                    style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\r\n                >\r\n                    <ListItemIcon {...provided.dragHandleProps}>\r\n                        <FormatLineSpacingIcon color=\"secondary\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                        primary={listItem.name}\r\n                        secondary={listItem.config.ip_address}\r\n                        style={{ flexBasis: '30%', flexGrow: 'unset', width: '30%' }}\r\n                    />\r\n                    <ListItemText style={{ flexBasis: '20%', flexGrow: 'unset', width: '20%' }}>\r\n                        <PixelSlider virtual={virtual} device={listItem} />\r\n                    </ListItemText>\r\n                    <UsedPixels virtual={virtual} device={listItem} />\r\n                    <ListItemText\r\n                        primary={\r\n                            <TextField\r\n                                label=\"\"\r\n                                defaultValue={listItem.pixel_density || 30}\r\n                                style={{\r\n                                    minWidth: 'unset',\r\n                                    maxWidth: '80%',\r\n                                    margin: '0 1em 0 0',\r\n                                    textAlign: 'center',\r\n                                }}\r\n                                inputProps={{ style: { textAlign: 'center' } }}\r\n                                type=\"number\"\r\n                                onChange={e =>\r\n                                    handlePixelDensity(virtual, listItem, e.target.value)\r\n                                }\r\n                            />\r\n                        }\r\n                        secondary={'PixelDensity'}\r\n                        style={{\r\n                            maxWidth: '10%',\r\n                            textAlign: 'center',\r\n                        }}\r\n                    />\r\n                    <ListItemText\r\n                        primary={\r\n                            <Switch\r\n                                color=\"primary\"\r\n                                checked={listItem.invert}\r\n                                onChange={() => handleInvert(virtual, listItem)}\r\n                            />\r\n                        }\r\n                        secondary={'Invert'}\r\n                        style={{ flexGrow: 0, textAlign: 'center' }}\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                        <PopoverSure onDeleteVitem={onDeleteVitem} listItem={listItem} />\r\n                    </ListItemSecondaryAction>\r\n                </ListItem>\r\n            )}\r\n        </Draggable>\r\n    );\r\n};\r\n\r\nexport default DragDropItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { List } from '@material-ui/core';\r\nimport RootRef from '@material-ui/core/RootRef';\r\nimport DragDropItem from './DragDropItem';\r\n\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n};\r\n\r\nconst DragDropContainer = React.memo(function DragDropContainer({\r\n    listItems,\r\n    provided,\r\n    style,\r\n    virtual,\r\n    device,\r\n}) {\r\n    const dispatch = useDispatch();\r\n    const onDeleteVitem = () => {\r\n        dispatch({\r\n            type: 'virtuals/DELETE_SEGMENT',\r\n            payload: { virtual: virtual, device: device },\r\n        });\r\n    };\r\n    return (\r\n        <List style={style}>\r\n            {listItems.map((listItem, index) => (\r\n                <DragDropItem\r\n                    virtual={virtual}\r\n                    listItem={listItem}\r\n                    index={index}\r\n                    key={`${listItem.id}-${index}`}\r\n                    onDeleteVitem={onDeleteVitem}\r\n                    style={{ marginBottom: '5em' }}\r\n                />\r\n            ))}\r\n            {provided.placeholder}\r\n        </List>\r\n    );\r\n});\r\n\r\nexport default function DragDropWrapper({ items, virtual, device, setdeviceListYz }) {\r\n    const [state, setState] = useState({\r\n        listitems: items.sort((a, b) => (a.order_number > b.order_number ? 1 : -1)),\r\n    });\r\n    const dispatch = useDispatch();\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n\r\n    function onDragEnd(result) {\r\n        if (!result.destination) {\r\n            return;\r\n        }\r\n        if (result.destination.index === result.source.index) {\r\n            return;\r\n        }\r\n        const listitems = reorder(state.listitems, result.source.index, result.destination.index);\r\n        listitems.map((item, index) => {\r\n            const [vir] = virtuals\r\n                .map(v => v.items.find(vi => vi.id === item.id))\r\n                .filter(virt => virt !== undefined);\r\n            vir.order_number = index;\r\n            return dispatch({\r\n                type: 'virtuals/CHANGE_SEGMENT_PXEL',\r\n                payload: { virtual: virtual, device: { id: vir.id }, newValue: vir },\r\n            });\r\n        });\r\n        setState({ listitems });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setState({ listitems: items });\r\n    }, [items]);\r\n\r\n    return (\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId=\"list\">\r\n                {(provided, snapshot) => (\r\n                    <RootRef rootRef={provided.innerRef}>\r\n                        <DragDropContainer\r\n                            listItems={state.listitems}\r\n                            provided={provided}\r\n                            virtual={virtual.name}\r\n                            device={device}\r\n                            setdeviceListYz={setdeviceListYz}\r\n                        />\r\n                    </RootRef>\r\n                )}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport PopoverNew from 'components/VirtualComponents/PopoverNew'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Card from '@material-ui/core/Card'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport AddSegmentDialog from 'components/VirtualComponents/DialogAddSegment'\r\nimport VirtualComponents from 'components/VirtualComponents'\r\nimport PopoverSure from './PopoverSure'\r\n\r\nfunction Virtual({ v, setSnackbarState }) {\r\n\r\n  const dispatch = useDispatch()\r\n  const virtuals = useSelector(state => state.virtuals.list)\r\n  const deviceList = useSelector(state => state.devices.list)\r\n  const allPixels = virtuals.filter(vi => vi.name === v.name).map(vir => vir.items && vir.items.length > 0 && vir.items.map(d => d.led_end - d.led_start + 1).reduce((sum, part) => sum + part))[0]\r\n\r\n  const deleteVirtual = (virtual) => {\r\n    dispatch({ type: 'virtuals/VIRTUAL_DELETE', payload: virtual })\r\n  }\r\n  const changeNameVirtual = (newName) => {\r\n    if (virtuals.find(e => e.name === newName.new)) {\r\n      setSnackbarState({ open: true, message: \"Name already existing! Please choose a different one.\", type: 'warning' })\r\n    } else {\r\n      dispatch({ type: 'virtuals/VIRTUAL_RENAME', payload: { old: newName.old, new: newName.new } })\r\n      setSnackbarState({ open: true, message: \"Virtual Device renamed\", type: 'success' })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card style={{ marginBottom: '2em' }}>\r\n      <CardContent>\r\n        <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\r\n          <Grid item xs=\"auto\" style={{ display: 'flex' }}>\r\n            <Typography variant=\"h5\">{v.name}</Typography>\r\n            <PopoverNew old={v.name} buttonText=\"\" onSubmit={changeNameVirtual} variant=\"text\" buttonIcon={<EditIcon />} submitIcon={<CheckIcon />} />\r\n            <PopoverSure onDeleteVitem={() => deleteVirtual(v.name)} color=\"primary\" variant=\"text\" listItem={v.name} />\r\n          </Grid>\r\n          <Grid item xs=\"auto\">\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Total Pixels: {allPixels}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <AddSegmentDialog deviceList={deviceList} virtual={v.name} />\r\n          </Grid>\r\n        </Grid>\r\n        {v.items && v.items.length > 0 && <VirtualComponents\r\n          items={v.items}\r\n          virtual={v}\r\n        />}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Virtual\r\n","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport PopoverNew from 'components/VirtualComponents/PopoverNew';\r\nimport Virtual from 'components/VirtualComponents/Virtual';\r\nimport { fetchDeviceList } from 'modules/devices';\r\nimport { getAsyncVirtuals } from 'modules/virtuals';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport * as virtualsProxies from 'proxies/virtuals';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst VirtualsView = () => {\r\n    const virtuals = useSelector(state => state.virtuals.list);\r\n    const dispatch = useDispatch();\r\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\r\n\r\n    const [age, setAge] = useState(window.localStorage.getItem('blade') || 0);\r\n\r\n    const addNewVirtual = newName => {\r\n        if (virtuals.find(e => e.name === newName.new)) {\r\n            setSnackbarState({\r\n                ...snackbarState,\r\n                open: true,\r\n                message: 'Name already existing! Please choose a different one.',\r\n                type: 'warning',\r\n            });\r\n        } else {\r\n            dispatch({ type: 'virtuals/VIRTUAL_ADD', payload: newName });\r\n            setSnackbarState({\r\n                ...snackbarState,\r\n                open: true,\r\n                message: 'Virtual Device added',\r\n                type: 'success',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setSnackbarState({ ...snackbarState, open: false });\r\n    };\r\n    const changeTheme = event => {\r\n        setAge(event.target.value);\r\n        window.localStorage.setItem('blade', event.target.value);\r\n        window.location = window.location.href;\r\n    };\r\n    useEffect(() => {\r\n        dispatch(fetchDeviceList());\r\n        dispatch(getAsyncVirtuals());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12} md={12}>\r\n                <FormControl>\r\n                    <InputLabel id=\"theme-selector\">Theme</InputLabel>\r\n                    <Select\r\n                        labelId=\"theme-selector\"\r\n                        id=\"theme-select\"\r\n                        value={age}\r\n                        onChange={changeTheme}\r\n                    >\r\n                        <MenuItem value={0}>Default</MenuItem>\r\n                        <MenuItem value={1}>Dark</MenuItem>\r\n                        <MenuItem value={2}>Blade</MenuItem>\r\n                        <MenuItem value={3}>BladeDark</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                {virtuals.map((v, i) => (\r\n                    <Virtual v={v} key={i} setSnackbarState={setSnackbarState} />\r\n                ))}\r\n                <div style={{ display: 'flex', marginTop: '1em', justifyContent: 'space-between' }}>\r\n                    <PopoverNew onSubmit={addNewVirtual} />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        style={{ margin: '8px' }}\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                            virtualsProxies.setVirtuals({ virtuals: { list: virtuals } });\r\n                        }}\r\n                    >\r\n                        Save\r\n                        <SaveIcon style={{ marginLeft: '0.5em' }} />\r\n                    </Button>\r\n                </div>\r\n            </Grid>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                autoHideDuration={1000 + snackbarState.message.length * 60}\r\n                open={snackbarState.open}\r\n                onClose={handleClose}\r\n                key={'bottomcenter'}\r\n            >\r\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\r\n            </Snackbar>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default VirtualsView;\r\n","import { api } from 'utils/api';\r\n\r\nexport function getVirtuals() {\r\n    return api.get('/virtuals');\r\n}\r\nexport function setVirtuals({ virtuals }) {\r\n    return api.post('/virtuals', { virtuals: virtuals });\r\n}\r\n\r\n// export function deleteVirtuals(id) {\r\n//     return api.delete('/virtuals', { data: { id } });\r\n// }\r\n\r\n// export function activateVirtuals(id) {\r\n//     return api.put('/virtuals', {\r\n//         id,\r\n//         action: 'activate',\r\n//     });\r\n// }\r\n// export function renameScene({ id, virtual }) {\r\n//     return api.put('/virtuals', {\r\n//         action: 'rename',\r\n//         id,\r\n//         virtual,\r\n//     });\r\n// }\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useSelector } from 'react-redux';\r\nimport { SchemaForm, utils } from 'react-schema-form';\r\nimport * as integrationsProxies from 'proxies/integrations';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);\r\n    const radioGroupRef = React.useRef(null);\r\n    const integrationTypes = useSelector(state => state.schemas.integrationTypes || {});\r\n    const integration = props.integration;\r\n    const [model] = React.useState({});\r\n    // console.log('YZ2', integration, integrationTypes, ' ==> ', integrationTypes[integration]);\r\n    React.useEffect(() => {\r\n        if (!open) {\r\n            setValue(valueProp);\r\n        }\r\n    }, [valueProp, open]);\r\n\r\n    const handleEntering = () => {\r\n        if (radioGroupRef.current != null) {\r\n            radioGroupRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n        integrationsProxies.createIntegration({ config: model, type: 'qlc' });\r\n        window.location = window.location.href;\r\n    };\r\n\r\n    // const handleChange = event => {\r\n    //     // setValue(event.target.value);\r\n    // };\r\n    const onModelChange = (key, val) => {\r\n        utils.selectOrSet(key, model, val);\r\n\r\n        // setModel(val);\r\n    };\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            onEntering={handleEntering}\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">\r\n                {integrationTypes[integration].name} Integration Setup\r\n            </DialogTitle>\r\n            <DialogContent dividers>\r\n                <SchemaForm\r\n                    // className={classes.schemaForm}\r\n                    schema={{\r\n                        type: 'object',\r\n                        title: 'Configuration',\r\n                        properties: {},\r\n                        ...(integrationTypes ? integrationTypes[integration].schema : {}),\r\n                    }}\r\n                    form={\r\n                        integrationTypes[integration] &&\r\n                        integrationTypes[integration].schema.required\r\n                    }\r\n                    model={model}\r\n                    onModelChange={onModelChange}\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 535,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ virtual, deviceList, config, integration }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    aria-label=\"Add\"\r\n                    className={classes.button}\r\n                    endIcon={<AddCircleIcon />}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleClickListItem}\r\n                    role=\"listitem\"\r\n                >\r\n                    ADD\r\n                </Button>\r\n\r\n                <ConfirmationDialogRaw\r\n                    classes={{\r\n                        paper: classes.paper,\r\n                    }}\r\n                    config={config}\r\n                    id=\"ringtone-menu\"\r\n                    keepMounted\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    value={integration}\r\n                    deviceList={deviceList}\r\n                    integration={integration}\r\n                />\r\n            </>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DialogAddIntegration from 'components/IntegrationComponents/DialogAddIntegration';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles({\r\n    integrationCard: {\r\n        width: 300,\r\n        height: 220,\r\n        justifyContent: 'space-between',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n    },\r\n    pos: {\r\n        marginBottom: 12,\r\n    },\r\n});\r\n\r\nconst IntegrationsCard = ({ intTypes, int }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Card className={classes.integrationCard} variant=\"outlined\">\r\n            <CardContent>\r\n                <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                    Integration\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                    {intTypes[int].name}\r\n                </Typography>\r\n                <Typography className={classes.pos} color=\"textSecondary\">\r\n                    v0.0.1\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                    {intTypes[int].description}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                <DialogAddIntegration integration={intTypes[int].id} />\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default IntegrationsCard;\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PopoverSure from 'components/VirtualComponents/PopoverSure';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { deleteAsyncIntegration } from 'modules/integrations';\r\nimport { toggleAsyncIntegration } from 'modules/integrations';\r\nimport { Switch, Chip } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n    integrationCard: {\r\n        width: 300,\r\n        height: 170,\r\n        justifyContent: 'space-between',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n});\r\n\r\nconst IntegrationsCard = ({ int }) => {\r\n    const classes = useStyles();\r\n\r\n    const handleToggle = props => {\r\n        console.log('YO', props);\r\n        toggleAsyncIntegration(props);\r\n    };\r\n    return (\r\n        <Card className={classes.integrationCard} variant=\"outlined\">\r\n            <CardContent style={{ paddingBottom: 0 }}>\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'flex-start',\r\n                        marginBottom: '0.5em',\r\n                    }}\r\n                >\r\n                    <Typography variant=\"h5\" component=\"h2\">\r\n                        {int.config.name}\r\n                    </Typography>\r\n                    <Chip label={`type: ${int.type}`} size=\"small\" />\r\n                </div>\r\n                <Typography style={{ fontSize: '14px' }} color=\"textSecondary\" gutterBottom>\r\n                    {int.config.description}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                <PopoverSure\r\n                    variant=\"text\"\r\n                    onDeleteVitem={() =>\r\n                        deleteAsyncIntegration({\r\n                            id: int.id,\r\n                        })\r\n                    }\r\n                />\r\n                <Button\r\n                    variant=\"text\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                        console.log('deleting');\r\n                    }}\r\n                >\r\n                    <SettingsIcon />\r\n                </Button>\r\n                <Button\r\n                    variant=\"text\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                        console.log('edit');\r\n                    }}\r\n                >\r\n                    <EditIcon />\r\n                </Button>\r\n                <Switch\r\n                    color=\"primary\"\r\n                    onChange={() =>\r\n                        handleToggle({\r\n                            id: int.id,\r\n                        })\r\n                    }\r\n                />\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default IntegrationsCard;\r\n","import React from 'react';\r\nimport { deleteAsyncIntegration } from 'modules/integrations';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Switch } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport PopoverSure from 'components/VirtualComponents/PopoverSure';\r\n\r\nconst IntegrationRow = ({ installedIntegrations, installedIntegration }) => {\r\n    return (\r\n        <TableRow key={installedIntegrations[installedIntegration].id}>\r\n            <TableCell>{installedIntegrations[installedIntegration].config.name}</TableCell>\r\n            <TableCell>{installedIntegrations[installedIntegration].type}</TableCell>\r\n            <TableCell>{installedIntegrations[installedIntegration].config.description}</TableCell>\r\n            <TableCell>\r\n                <div style={{ display: 'flex' }}>\r\n                    <PopoverSure\r\n                        variant=\"text\"\r\n                        onDeleteVitem={() =>\r\n                            deleteAsyncIntegration({\r\n                                id: installedIntegrations[installedIntegration].id,\r\n                            })\r\n                        }\r\n                    />\r\n                    <Button\r\n                        variant=\"text\"\r\n                        color=\"secondary\"\r\n                        onClick={() => {\r\n                            console.log('deleting');\r\n                        }}\r\n                    >\r\n                        <SettingsIcon />\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"text\"\r\n                        color=\"secondary\"\r\n                        onClick={() => {\r\n                            console.log('edit');\r\n                        }}\r\n                    >\r\n                        <EditIcon />\r\n                    </Button>\r\n                    <Switch color=\"primary\" />\r\n                </div>\r\n            </TableCell>\r\n        </TableRow>\r\n    );\r\n};\r\n\r\nexport default IntegrationRow;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nimport { getAsyncIntegrations } from 'modules/integrations';\r\nimport Card from '../../components/IntegrationComponents/Card';\r\nimport CardB from '../../components/IntegrationComponents/CardB';\r\nimport Row from '../../components/IntegrationComponents/Row';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst IntegrationsView = () => {\r\n    const intTypes = useSelector(state => state.schemas.integrationTypes || {});\r\n    const instInts = useSelector(state => state.integrations.list || []);\r\n    const dispatch = useDispatch();\r\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\r\n\r\n    const handleClose = () => {\r\n        setSnackbarState({ ...snackbarState, open: false });\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(getAsyncIntegrations());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12} md={12}>\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    component=\"h2\"\r\n                    color=\"textPrimary\"\r\n                    style={{ marginBottom: '1em' }}\r\n                >\r\n                    Available Integrations\r\n                </Typography>\r\n                <Grid container justify=\"flex-start\" spacing={5}>\r\n                    {intTypes &&\r\n                        intTypes !== {} &&\r\n                        Object.keys(intTypes).map((int, i) => (\r\n                            <Grid key={i} item>\r\n                                <Card intTypes={intTypes} int={int} />\r\n                            </Grid>\r\n                        ))}\r\n                </Grid>\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    component=\"h2\"\r\n                    color=\"textPrimary\"\r\n                    style={{ marginBottom: '1em', marginTop: '3em' }}\r\n                >\r\n                    Installed Integrations\r\n                </Typography>\r\n                <Table>\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>Type</TableCell>\r\n                            <TableCell>Description</TableCell>\r\n                            <TableCell>Actions</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n\r\n                    <TableBody>\r\n                        {instInts &&\r\n                            Object.keys(instInts).map((instInt, i) => (\r\n                                <Row\r\n                                    key={instInts[instInt].id}\r\n                                    installedIntegrations={instInts}\r\n                                    installedIntegration={instInt}\r\n                                />\r\n                            ))}\r\n                    </TableBody>\r\n                </Table>\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    component=\"h2\"\r\n                    color=\"textPrimary\"\r\n                    style={{ marginBottom: '1em', marginTop: '3em' }}\r\n                >\r\n                    Installed Integrations\r\n                </Typography>\r\n                <Grid container justify=\"flex-start\" spacing={5}>\r\n                    {instInts &&\r\n                        Object.keys(instInts).map((instInt, i) => (\r\n                            <Grid key={instInts[instInt].id} item>\r\n                                <CardB int={instInts[instInt]} />\r\n                            </Grid>\r\n                        ))}\r\n                </Grid>\r\n            </Grid>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                autoHideDuration={1000 + snackbarState.message.length * 60}\r\n                open={snackbarState.open}\r\n                onClose={handleClose}\r\n                key={'bottomcenter'}\r\n            >\r\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\r\n            </Snackbar>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default IntegrationsView;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst useStyles = makeStyles({\r\n    form: {\r\n        display: 'flex',\r\n    },\r\n});\r\n\r\nconst AudioCard = ({ options, value, onChange, error, isSaving, isLoading }) => {\r\n    const classes = useStyles();\r\n    const handleAudioSelected = e => {\r\n        const { value } = e.target;\r\n        const selectedOption = options.find(o => o.value === value) || {};\r\n        onChange(selectedOption);\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Audio Input\" subheader=\"Select an audio source for LedFx\" />\r\n            <CardContent>\r\n                <FormControl error={!!error} className={classes.form} disabled={isLoading || isSaving}>\r\n                    <InputLabel id=\"audio-input-select-label\">Current Device</InputLabel>\r\n                    <Select\r\n                        labelId=\"audio-input-select-label\"\r\n                        id=\"audio-input-select\"\r\n                        value={value}\r\n                        onChange={handleAudioSelected}\r\n                    >\r\n                        {options.map(({ index, value }) => (\r\n                            <MenuItem key={index} value={value}>\r\n                                {value}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                    <FormHelperText>{error}</FormHelperText>\r\n                </FormControl>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default AudioCard;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n});\r\n\r\nconst ConfigCard = ({ settings, error }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Configs\" subheader=\"Manage network and developer settings\" />\r\n            <CardContent className={classes.content}>\r\n                <InputLabel id=\"host-label\">Host</InputLabel>\r\n                <TextField disabled labelId=\"host-label\" id=\"host\" value={settings.host} />\r\n                <InputLabel id=\"port-label\">Port</InputLabel>\r\n                <TextField disabled labelId=\"port-label\" id=\"port\" value={settings.port} />\r\n                <InputLabel id=\"devMode-label\">DevMode</InputLabel>\r\n                <TextField disabled labelId=\"devMode-label\" id=\"devMode\" value={settings.devMode} />\r\n                {error && <FormHelperText>{error}</FormHelperText>}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ConfigCard;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nconst { LazyLog } = require('react-lazylog');\r\nconst { NODE_ENV } = process.env;\r\nconst { hostname, port } = window.location;\r\n\r\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n});\r\nconst url = 'ws://${wsBaseUrl}/api/log';\r\nlet socket = null;\r\nconst LogCard = ({ settings, error }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Card>\r\n            <CardHeader title=\"Console\" subheader=\"View the Console\" />\r\n            <CardContent className={classes.content}>\r\n            <div>\r\n  <div style={{ height: 200, width: 902 }}>\r\n  <LazyLog\r\n    enableSearch\r\n    url={url}\r\n    websocket\r\n    websocketOptions={{\r\n      onOpen: (e, sock) => {\r\n          socket = sock; sock.send(JSON.stringify({message: \"Logger Websocket Open\"}))\r\n        },\r\n      formatMessage: e => JSON.parse(e).message,\r\n    }}\r\n  />\r\n  </div>\r\n</div>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default LogCard;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { getAudioInputs, setAudioInput } from 'modules/settings';\r\n\r\nimport AudioInputCard from './AudioInput';\r\nimport ConfigCard from './ConfigCard';\r\nimport LogCard from './LogCard';\r\n\r\nconst styles = theme => ({});\r\n\r\nclass SettingsView extends Component {\r\n    componentDidMount() {\r\n        this.props.getAudioInputs();\r\n    }\r\n\r\n    render() {\r\n        const { setAudioInput, settings } = this.props;\r\n        const { audioInputs } = settings;\r\n\r\n        return (\r\n            <Grid container direction=\"row\" spacing={4}>\r\n                <Grid item md={4}>\r\n                    <AudioInputCard {...audioInputs} onChange={setAudioInput} />\r\n                </Grid>\r\n                <Grid item md={4}>\r\n                    <ConfigCard settings={settings} />\r\n                </Grid>\r\n                <Grid item md={4}>\r\n                    <LogCard></LogCard>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        settings: state.settings,\r\n    }),\r\n    {\r\n        getAudioInputs,\r\n        setAudioInput,\r\n    }\r\n)(withStyles(styles)(SettingsView));\r\n","import { api } from 'utils/api';\r\n\r\nexport function getSystemConfig() {\r\n    return api.get('/config');\r\n}\r\n\r\nexport function getAudioInputs() {\r\n    return api.get('/audio/devices');\r\n}\r\nexport function updateSelectedAudioInput(data) {\r\n    return api.put('/audio/devices', data);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { createWebSocket } from 'utils/api/websocket';\r\n\r\nconst styles = theme => ({\r\n    content: {\r\n        minWidth: 120,\r\n        maxWidth: '100%',\r\n    },\r\n});\r\n\r\nclass PixelColorGraph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.websocketPacketId = 1;\r\n        this.deviceUpdateSubscription = null;\r\n\r\n        this.state = {\r\n            chartData: {\r\n                labels: [],\r\n                datasets: [\r\n                    {\r\n                        label: 'Melbank',\r\n                        lineTension: 0.1,\r\n                        backgroundColor: 'rgba(0,0,0,0.1)',\r\n                        borderColor: 'rgba(0,0,0,1)',\r\n                        pointRadius: 0,\r\n                        data: [],\r\n                    },\r\n                ],\r\n            },\r\n            chartOptions: {\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                tooltips: { enabled: false },\r\n                hover: {\r\n                    animationDuration: 0,\r\n                    mode: null,\r\n                },\r\n                animation: {\r\n                    duration: 0,\r\n                },\r\n                responsiveAnimationDuration: 0,\r\n                scales: {\r\n                    xAxes: [\r\n                        {\r\n                            gridLines: {\r\n                                display: false,\r\n                            },\r\n                            ticks: {\r\n                                maxTicksLimit: 7,\r\n                                callback: function(value, index, values) {\r\n                                    return value + ' Hz';\r\n                                },\r\n                            },\r\n                        },\r\n                    ],\r\n                    yAxes: [\r\n                        {\r\n                            ticks: {\r\n                                min: 0,\r\n                                max: 2.0,\r\n                                stepSize: 0.5,\r\n                            },\r\n                            gridLines: {\r\n                                color: 'rgba(0, 0, 0, .125)',\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n                legend: {\r\n                    display: false,\r\n                },\r\n            },\r\n        };\r\n    }\r\n\r\n    handleMessage = e => {\r\n        var chartData = this.state.chartData;\r\n        var messageData = JSON.parse(e.data);\r\n        chartData.labels = messageData.frequencies;\r\n        chartData.datasets[0].data = messageData.melbank;\r\n\r\n        // Adjust the axes based on the max\r\n        var melbankMax = Math.max.apply(Math, messageData.melbank);\r\n        var chartOptions = this.state.chartOptions;\r\n        chartOptions.scales.yAxes[0].ticks.min = 0;\r\n        chartOptions.scales.yAxes[0].ticks.max = Math.max(\r\n            chartOptions.scales.yAxes[0].ticks.max,\r\n            melbankMax\r\n        );\r\n        chartOptions.scales.yAxes[0].ticks.stepSize = chartOptions.scales.yAxes[0].ticks.max / 4;\r\n\r\n        this.setState({ chartData: chartData, chartOptions: chartOptions });\r\n    };\r\n\r\n    handleOpen = e => {\r\n        this.enablePixelVisualization();\r\n    };\r\n\r\n    handleClose = e => {};\r\n\r\n    enablePixelVisualization = () => {\r\n        this.state.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'subscribe_event',\r\n            event_type: 'graph_update',\r\n            event_filter: { graph_id: this.props.graphId },\r\n        });\r\n        this.deviceUpdateSubscription = this.websocketPacketId;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    disablePixelVisualization = () => {\r\n        this.state.ws.json({\r\n            id: this.websocketPacketId,\r\n            type: 'unsubscribe_event',\r\n            subscription_id: this.deviceUpdateSubscription,\r\n        });\r\n        this.deviceUpdateSubscription = null;\r\n        this.websocketPacketId++;\r\n    };\r\n\r\n    connectWebsocket = () => {\r\n        const ws = createWebSocket({\r\n            timeout: 5e3,\r\n            maxAttempts: 10,\r\n            onopen: this.handleOpen,\r\n            onmessage: this.handleMessage,\r\n            onclose: this.handleClose,\r\n            onerror: e => console.log('WebSocket Error:', e),\r\n        });\r\n\r\n        this.setState({ ws: ws });\r\n    };\r\n\r\n    disconnectWebsocket = () => {\r\n        if (this.state.ws !== undefined) {\r\n            this.state.ws.close(1000);\r\n            this.setState({ ws: undefined });\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.connectWebsocket();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disconnectWebsocket();\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Card>\r\n                <CardContent className={classes.content}>\r\n                    <Line data={this.state.chartData} options={this.state.chartOptions} />\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nPixelColorGraph.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    graphId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PixelColorGraph);\r\n","import React from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport MelbankGraph from 'components/MelbankGraph';\r\n\r\nclass DeveloperView extends React.Component {\r\n    render() {\r\n        const { graphString } = this.props.match.params;\r\n\r\n        let graphList = graphString.split('+');\r\n        let graphDom = Object.keys(graphList).map(graphIndex => {\r\n            return (\r\n                <Grid item key={graphIndex} xs={12}>\r\n                    <p>{graphList[graphIndex].replace(/^\\w/, c => c.toUpperCase())} Graph</p>\r\n                    <MelbankGraph key={graphIndex} graphId={graphList[graphIndex]} />\r\n                </Grid>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <Grid container spacing={3}>\r\n                {graphDom}\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeveloperView;\r\n","// Icons\r\nimport Dashboard from '@material-ui/icons/Dashboard';\r\nimport List from '@material-ui/icons/List';\r\nimport Settings from '@material-ui/icons/Settings';\r\nimport Tune from '@material-ui/icons/Tune';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport DeviceHubIcon from '@material-ui/icons/DeviceHub';\r\nimport PowerIcon from '@material-ui/icons/Power';\r\n\r\n// Components and Views\r\nimport DashboardView from '../views/Dashboard';\r\nimport DevicesView from '../views/Devices';\r\nimport ScenesView from '../views/Scenes';\r\nimport DeviceView from '../views/Device';\r\nimport VirtualsView from '../views/Virtuals';\r\nimport IntegrationsView from '../views/Integrations';\r\nimport SettingsView from '../views/Settings';\r\nimport DeveloperView from '../views/Developer';\r\n\r\nconst virtuals =\r\n    window.localStorage.getItem('BladeMod') === '1'\r\n        ? {\r\n              path: '/virtuals',\r\n              sidebarName: 'Virtual Strips',\r\n              navbarName: 'Virtual Strips',\r\n              icon: DeviceHubIcon,\r\n              component: VirtualsView,\r\n          }\r\n        : {\r\n              path: '/virtuals',\r\n              navbarName: 'Virtual Strips',\r\n              icon: DeviceHubIcon,\r\n              component: VirtualsView,\r\n          };\r\nconst integrations =\r\n    window.localStorage.getItem('BladeMod') === '1'\r\n        ? {\r\n              path: '/integrations',\r\n              sidebarName: 'Integrations',\r\n              navbarName: 'Integrations',\r\n              icon: PowerIcon,\r\n              component: IntegrationsView,\r\n          }\r\n        : {\r\n              path: '/integrations',\r\n              navbarName: 'Integrations',\r\n              icon: PowerIcon,\r\n              component: IntegrationsView,\r\n          };\r\nconst viewRoutes = [\r\n    {\r\n        path: '/dashboard',\r\n        sidebarName: 'Dashboard',\r\n        navbarName: 'Dashboard',\r\n        icon: Dashboard,\r\n        component: DashboardView,\r\n    },\r\n    {\r\n        path: '/devices/:deviceId',\r\n        navbarName: 'Devices',\r\n        sidebarName: 'Devices',\r\n        icon: List,\r\n        component: DeviceView,\r\n    },\r\n    {\r\n        path: '/scenes',\r\n        sidebarName: 'Scenes Management',\r\n        navbarName: 'Scenes Management',\r\n        icon: SaveAltIcon,\r\n        component: ScenesView,\r\n    },\r\n    {\r\n        path: '/devices',\r\n        sidebarName: 'Device Management',\r\n        navbarName: 'Device Management',\r\n        icon: Settings,\r\n        component: DevicesView,\r\n    },\r\n    integrations,\r\n    virtuals,\r\n    {\r\n        path: '/settings',\r\n        sidebarName: 'Settings',\r\n        navbarName: 'Settings',\r\n        icon: BuildIcon,\r\n        component: SettingsView,\r\n    },\r\n    {\r\n        path: '/developer/:graphString',\r\n        navbarName: 'Developer',\r\n        component: DeveloperView,\r\n    },\r\n    {\r\n        path: '/developer/melbank',\r\n        sidebarName: 'Developer',\r\n        navbarName: 'Developer',\r\n        icon: Tune,\r\n        component: DeveloperView,\r\n    },\r\n    { redirect: true, path: '/', to: '/dashboard', navbarName: 'Redirect' },\r\n];\r\n\r\nexport default viewRoutes;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Menu from '@material-ui/icons/Menu';\r\n\r\nimport viewRoutes from 'routes/views.jsx';\r\nimport { drawerWidth } from 'utils/style';\r\n\r\nconst styles = theme => ({\r\n    appBar: {\r\n        backgroundColor: 'transparent',\r\n        boxShadow: 'none',\r\n        position: 'absolute',\r\n        marginLeft: drawerWidth,\r\n        [theme.breakpoints.up('md')]: {\r\n            width: `calc(100% - ${drawerWidth}px)`,\r\n        },\r\n    },\r\n    flex: {\r\n        flex: 1,\r\n        fontSize: 18,\r\n        fontWeight: 300,\r\n    },\r\n});\r\n\r\nclass Header extends React.Component {\r\n    getPageName() {\r\n        const { location, devicesDictionary } = this.props;\r\n        const { pathname } = location;\r\n        let name = viewRoutes.find((prop, key) => prop.path === pathname)?.navbarName;\r\n\r\n        if (!name) {\r\n            if (pathname.startsWith('/devices/')) {\r\n                const deviceId = pathname.replace('/devices/', '');\r\n                const deviceName =\r\n                    devicesDictionary[deviceId] !== undefined\r\n                        ? devicesDictionary[deviceId].config.name\r\n                        : '';\r\n                name = 'Devices / ' + deviceName;\r\n            } else if (pathname.startsWith('/developer/')) {\r\n                name = 'Developer / Custom';\r\n            }\r\n        }\r\n        return name;\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar>\r\n                    <Typography variant=\"h2\" color=\"textPrimary\" className={classes.flex}>\r\n                        {this.getPageName()}\r\n                    </Typography>\r\n                    <Hidden mdUp>\r\n                        <IconButton\r\n                            aria-label=\"open drawer\"\r\n                            onClick={this.props.handleDrawerToggle}\r\n                        >\r\n                            <Menu />\r\n                        </IconButton>\r\n                    </Hidden>\r\n                </Toolbar>\r\n            </AppBar>\r\n        );\r\n    }\r\n}\r\n\r\nHeader.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    devicesDictionary: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(Header);\r\n","export const drawerWidth = 260;\r\n","import { drawerWidth } from 'utils/style';\r\n\r\nconst sidebarStyle = theme => ({\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n        [theme.breakpoints.up('md')]: {\r\n            width: drawerWidth,\r\n            position: 'fixed',\r\n            height: '100%',\r\n        },\r\n    },\r\n    logo: {\r\n        position: 'relative',\r\n        padding: '15px 15px',\r\n        zIndex: '4',\r\n        '&:after': {\r\n            content: '\"\"',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            height: '1px',\r\n            right: '15px',\r\n            width: 'calc(100% - 30px)',\r\n            backgroundColor: 'rgba(180, 180, 180, 0.3)',\r\n        },\r\n    },\r\n    logoLink: {\r\n        padding: '5px 0',\r\n        display: 'block',\r\n        fontSize: '18px',\r\n        textAlign: 'left',\r\n        fontWeight: '400',\r\n        lineHeight: '30px',\r\n        textDecoration: 'none',\r\n        backgroundColor: 'transparent',\r\n        '&,&:hover': {\r\n            color: '#FFFFFF',\r\n        },\r\n    },\r\n    logoImage: {\r\n        width: '30px',\r\n        display: 'inline-block',\r\n        maxHeight: '30px',\r\n        marginLeft: '10px',\r\n        marginRight: '15px',\r\n    },\r\n    img: {\r\n        width: '35px',\r\n        top: '17px',\r\n        position: 'absolute',\r\n        verticalAlign: 'middle',\r\n        border: '0',\r\n    },\r\n    background: {\r\n        position: 'absolute',\r\n        zIndex: '1',\r\n        height: '100%',\r\n        width: '100%',\r\n        display: 'block',\r\n        top: '0',\r\n        left: '0',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center center',\r\n        '&:after': {\r\n            position: 'absolute',\r\n            zIndex: '3',\r\n            width: '100%',\r\n            height: '100%',\r\n            content: '\"\"',\r\n            display: 'block',\r\n            background: '#000',\r\n            opacity: '.8',\r\n        },\r\n    },\r\n    list: {\r\n        marginTop: '20px',\r\n        paddingLeft: '0',\r\n        paddingTop: '0',\r\n        paddingBottom: '0',\r\n        marginBottom: '0',\r\n        listStyle: 'none',\r\n        position: 'unset',\r\n    },\r\n    item: {\r\n        position: 'relative',\r\n        display: 'block',\r\n        textDecoration: 'none',\r\n        '&:hover,&:focus,&:visited,&': {\r\n            color: '#FFFFFF',\r\n        },\r\n    },\r\n    itemLink: {\r\n        width: 'auto',\r\n        transition: 'all 300ms linear',\r\n        margin: '10px 15px 0',\r\n        borderRadius: '3px',\r\n        position: 'relative',\r\n        display: 'block',\r\n        padding: '10px 15px',\r\n        backgroundColor: 'transparent',\r\n    },\r\n    itemIcon: {\r\n        width: '24px',\r\n        minWidth: '24px',\r\n        height: '30px',\r\n        float: 'left',\r\n        marginRight: '15px',\r\n        textAlign: 'center',\r\n        verticalAlign: 'middle',\r\n        color: 'rgba(255, 255, 255, 0.8)',\r\n    },\r\n    itemText: {\r\n        margin: '0',\r\n        lineHeight: '30px',\r\n        fontSize: '14px',\r\n        fontWeight: 300,\r\n        color: '#FFFFFF',\r\n    },\r\n    devicesItemText: {\r\n        margin: '0',\r\n        marginLeft: '10px',\r\n        lineHeight: '30px',\r\n        fontSize: '14px',\r\n        fontWeight: 300,\r\n        color: '#FFFFFF',\r\n        textDecoration: 'none',\r\n    },\r\n    activeView: {\r\n        backgroundColor: [theme.palette.primary.main],\r\n        boxShadow: [theme.shadows[12]],\r\n        '&:hover,&:focus,&:visited,&': {\r\n            backgroundColor: [theme.palette.primary.main],\r\n            boxShadow: [theme.shadows[12]],\r\n        },\r\n        color: '#FFFFFF',\r\n    },\r\n    sidebarWrapper: {\r\n        position: 'relative',\r\n        height: 'calc(100vh - 70px)',\r\n        overflow: 'auto',\r\n        zIndex: '4',\r\n        overflowScrolling: 'touch',\r\n    },\r\n});\r\n\r\nexport default sidebarStyle;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NavLink } from 'react-router-dom';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport viewRoutes from 'routes/views.jsx';\r\nimport logoAsset from 'assets/img/icon/large_white_alpha.png';\r\nimport sidebarStyle from './style.jsx';\r\n\r\nclass Sidebar extends React.Component {\r\n    isViewActive(viewName) {\r\n        return this.props.location.pathname === viewName;\r\n    }\r\n\r\n    render() {\r\n        const { classes, devices, effectLinks, devMode, handleDrawerToggle, open } = this.props;\r\n\r\n        var links = (\r\n            <List className={classes.list}>\r\n                {viewRoutes.map((prop, key) => {\r\n                    if (prop.redirect || !prop.sidebarName) {\r\n                        return null;\r\n                    }\r\n\r\n                    if (prop.sidebarName === 'Developer' && !devMode) {\r\n                        return null;\r\n                    }\r\n\r\n                    var listItemClass = classes.itemLink;\r\n                    if (this.isViewActive(prop.path) && prop.sidebarName !== 'Devices') {\r\n                        listItemClass = listItemClass + ' ' + classes.activeView;\r\n                    }\r\n                    if (this.isViewActive(prop.path) && prop.sidebarName !== 'EffectPresets') {\r\n                        listItemClass = listItemClass + ' ' + classes.activeView;\r\n                    }\r\n\r\n                    if (prop.sidebarName === 'Devices') {\r\n                        return (\r\n                            <ListItem button className={listItemClass} key={prop.sidebarName}>\r\n                                <ListItemIcon className={classes.itemIcon}>\r\n                                    <prop.icon />\r\n                                </ListItemIcon>\r\n                                <ListItemText\r\n                                    primary={prop.sidebarName}\r\n                                    className={classes.itemText}\r\n                                    disableTypography={true}\r\n                                />\r\n                                <List className={classes.list}>\r\n                                    {devices.map(device => {\r\n                                        let listItemClass = classes.itemLink;\r\n                                        if (this.isViewActive(`/devices/${device.id}`)) {\r\n                                            listItemClass = `${listItemClass} ${classes.activeView}`;\r\n                                        }\r\n                                        return (\r\n                                            <NavLink\r\n                                                to={`/devices/${device.id}`}\r\n                                                className={classes.item}\r\n                                                key={device.id}\r\n                                                activeClassName=\"active\"\r\n                                            >\r\n                                                <ListItem button className={listItemClass}>\r\n                                                    <ListItemText\r\n                                                        primary={device.config.name}\r\n                                                        className={classes.devicesItemText}\r\n                                                        disableTypography={true}\r\n                                                    />\r\n                                                </ListItem>\r\n                                            </NavLink>\r\n                                        );\r\n                                    })}\r\n                                </List>\r\n                            </ListItem>\r\n                        );\r\n                    }\r\n\r\n                    if (prop.sidebarName === 'EffectPresets') {\r\n                        return (\r\n                            <ListItem button className={listItemClass}>\r\n                                <ListItemIcon className={classes.itemIcon}>\r\n                                    <prop.icon />\r\n                                </ListItemIcon>\r\n                                <ListItemText\r\n                                    primary={prop.sidebarName}\r\n                                    className={classes.itemText}\r\n                                    disableTypography={true}\r\n                                />\r\n                                <List className={classes.list}>{effectLinks}</List>\r\n                            </ListItem>\r\n                        );\r\n                    }\r\n\r\n                    return (\r\n                        <NavLink\r\n                            to={prop.path}\r\n                            className={classes.item}\r\n                            activeClassName=\"active\"\r\n                            key={key}\r\n                        >\r\n                            <ListItem button className={listItemClass}>\r\n                                <ListItemIcon className={classes.itemIcon}>\r\n                                    <prop.icon />\r\n                                </ListItemIcon>\r\n                                <ListItemText\r\n                                    primary={prop.sidebarName}\r\n                                    className={classes.itemText}\r\n                                    disableTypography={true}\r\n                                />\r\n                            </ListItem>\r\n                        </NavLink>\r\n                    );\r\n                })}\r\n            </List>\r\n        );\r\n\r\n        const logo = (\r\n            <div className={classes.logo}>\r\n                <a href=\"/#\" className={classes.logoLink}>\r\n                    <div className={classes.logoImage}>\r\n                        <img src={logoAsset} alt=\"logo\" className={classes.img} />\r\n                    </div>\r\n                    LedFx\r\n                </a>\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div>\r\n                <Hidden mdUp>\r\n                    <Drawer\r\n                        variant=\"temporary\"\r\n                        anchor=\"right\"\r\n                        open={open}\r\n                        classes={{\r\n                            paper: classes.drawerPaper,\r\n                        }}\r\n                        onClose={handleDrawerToggle}\r\n                        ModalProps={{\r\n                            keepMounted: true,\r\n                        }}\r\n                    >\r\n                        {logo}\r\n                        <div className={classes.sidebarWrapper}>{links}</div>\r\n                        <div className={classes.background} />\r\n                    </Drawer>\r\n                </Hidden>\r\n                <Hidden smDown implementation=\"css\">\r\n                    <Drawer\r\n                        open\r\n                        variant=\"permanent\"\r\n                        classes={{\r\n                            paper: classes.drawerPaper,\r\n                        }}\r\n                    >\r\n                        {logo}\r\n                        <div className={classes.sidebarWrapper}>{links}</div>\r\n                        <div className={classes.background} />\r\n                    </Drawer>\r\n                </Hidden>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSidebar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    devices: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withStyles(sidebarStyle)(Sidebar);\r\n","import React, { createRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport { fetchSchemas } from 'modules/schemas';\r\nimport { getConfig } from 'modules/settings';\r\nimport { drawerWidth } from 'utils/style';\r\nimport viewRoutes from 'routes/views';\r\n\r\nimport Header from './Header';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst style = theme => ({\r\n    root: {\r\n        overflow: 'hidden',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.default,\r\n        padding: theme.spacing(3),\r\n        minWidth: 200,\r\n        [theme.breakpoints.up('md')]: {\r\n            marginLeft: drawerWidth,\r\n        },\r\n        overflowY: 'auto',\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n});\r\n\r\nclass DefaultLayout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mobileOpen: false,\r\n        };\r\n\r\n        this.root = createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { getConfig, fetchSchemas } = this.props;\r\n        getConfig();\r\n        fetchSchemas();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.history.location.pathname !== prevProps.location.pathname) {\r\n            this.root.scrollTo({ top: 0, behavior: 'smooth' });\r\n\r\n            if (this.state.mobileOpen) {\r\n                this.setState({ mobileOpen: false });\r\n            }\r\n        }\r\n    }\r\n\r\n    setRootRef = el => {\r\n        this.root = el;\r\n    };\r\n\r\n    handleDrawerToggle = () => {\r\n        this.setState(prevState => ({ mobileOpen: !prevState.mobileOpen }));\r\n    };\r\n\r\n    render() {\r\n        const { classes, deviceDictionary, location, settings } = this.props;\r\n        const { mobileOpen } = this.state;\r\n\r\n        return (\r\n            <div className={classes.root} ref={this.setRootRef}>\r\n                <Header\r\n                    handleDrawerToggle={this.handleDrawerToggle}\r\n                    location={location}\r\n                    devicesDictionary={deviceDictionary}\r\n                />\r\n                <Sidebar\r\n                    handleDrawerToggle={this.handleDrawerToggle}\r\n                    open={mobileOpen}\r\n                    location={location}\r\n                    devices={settings.devices}\r\n                    devMode={settings.devMode}\r\n                />\r\n\r\n                <div className={classes.content}>\r\n                    <div className={classes.toolbar} />\r\n                    <Switch>\r\n                        {viewRoutes.map(({ redirect, path, to, component: Component }, key) => {\r\n                            if (redirect) {\r\n                                return <Redirect from={path} to={to} key={key} />;\r\n                            }\r\n\r\n                            return (\r\n                                <Route\r\n                                    exact\r\n                                    path={path}\r\n                                    key={key}\r\n                                    render={routeProps => <Component {...routeProps} />}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDefaultLayout.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    deviceDictionary: PropTypes.object.isRequired,\r\n    settings: PropTypes.object.isRequired,\r\n    schemas: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n    state => ({\r\n        deviceDictionary: state.devices.dictionary,\r\n        schemas: state.schemas,\r\n        settings: state.settings,\r\n    }),\r\n    {\r\n        fetchSchemas,\r\n        getConfig,\r\n    }\r\n)(withStyles(style)(DefaultLayout));\r\n","import DefaultLayout from \"../layouts/Default\";\r\n\r\nconst indexRoutes = [{ path: \"/\", component: DefaultLayout }];\r\n\r\nexport default indexRoutes;\r\n","import { api } from 'utils/api';\r\n\r\nexport function getSchemas() {\r\n    return api.get('/schema');\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport teal from '@material-ui/core/colors/teal';\r\n\r\nexport default createMuiTheme(\r\n    {\r\n        palette: {\r\n            primary: teal,\r\n            secondary: {\r\n                main: '#f05545',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });\r\n\r\nexport const darkTheme = createMuiTheme(\r\n    {\r\n        palette: {\r\n            type: 'dark',\r\n            primary: teal,\r\n            secondary: {\r\n                main: '#f05545',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });\r\nexport const bladeTheme = createMuiTheme(\r\n    {\r\n        palette: {\r\n            primary: {\r\n                main: '#800000'\r\n            },\r\n            secondary: {\r\n                main: '#f05545',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });\r\n\r\nexport const bladeDarkTheme = createMuiTheme(\r\n    {\r\n        palette: {\r\n            type: 'dark',\r\n            primary: {\r\n                main: '#600000'\r\n            },\r\n            secondary: {\r\n                main: '#999',\r\n            },\r\n        },\r\n        overrides: {\r\n            MuiFormControl: {\r\n                root: {\r\n                    margin: 8,\r\n                    minWidth: 225,\r\n                    flex: '1 0 30%',\r\n                },\r\n            },\r\n        },\r\n        props: {\r\n            MuiCard: {\r\n                variant: \"outlined\"\r\n            }\r\n        }\r\n    });","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\n// import { useSelector } from \"react-redux\"\r\nimport indexRoutes from 'routes';\r\nimport { history } from './createStore';\r\nimport defaultTheme, { darkTheme, bladeTheme, bladeDarkTheme } from './theme';\r\n// import { createMuiTheme } from '@material-ui/core/styles';\r\nimport './style.css';\r\n\r\n\r\nexport default function App() {\r\n  // const themeSelector = useSelector(state => state.themeSelector)\r\n\r\n  const theme = (\r\n    window.localStorage.getItem(\"blade\") === '1') ? darkTheme : (\r\n      window.localStorage.getItem(\"blade\") === '2') ? bladeTheme : (\r\n        window.localStorage.getItem(\"blade\") === '3') ? bladeDarkTheme : defaultTheme\r\n  // console.log(themeSelector)\r\n  // React.useEffect(() => {\r\n\r\n  //   console.log(themeSelector)\r\n\r\n  // }, [themeSelector])\r\n\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <Router history={history}>\r\n        <Switch>\r\n          {indexRoutes.map(({ component: Component, path }, key) => {\r\n            return (\r\n              <Route\r\n                path={path}\r\n                key={key}\r\n                render={routeProps => <Component {...routeProps} />}\r\n              />\r\n            );\r\n          })}\r\n        </Switch>\r\n      </Router>\r\n    </MuiThemeProvider>\r\n  )\r\n}","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport createStore from './createStore';\r\nimport './style.css';\r\nimport Main from './App'\r\n\r\nconst store = createStore();\r\n\r\nexport default function App() {\r\n    return (\r\n        <Provider store={store}>\r\n            <CssBaseline />\r\n            <Main />\r\n        </Provider>\r\n    );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}