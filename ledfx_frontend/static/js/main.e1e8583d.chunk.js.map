{"version":3,"sources":["utils/api/index.js","proxies/device.js","modules/settings.js","modules/ui.js","modules/devices.js","utils/helpers.js","modules/selectedDevice.js","modules/presets.js","proxies/effects.js","modules/schemas.js","proxies/scenes.js","modules/scenes.js","modules/virtuals.js","proxies/integrations.js","modules/integrations.js","proxies/display.js","modules/displays.js","modules/selectedDisplay.js","modules/index.js","App/createStore.js","utils/style.js","utils/api/websocket.js","components/PixelColorGraph/index.jsx","components/DeviceMiniControl/index.jsx","components/AddSceneCard/index.jsx","components/MiniScenesCard/index.jsx","views/Dashboard/index.jsx","components/PopoverSure/index.js","components/DisplaySegmentsDialog/AddSegmentDialog.js","components/DisplaySegmentsDialog/PixelSlider.js","components/DisplaySegmentsDialog/Segment.js","components/DisplaySegmentsDialog/index.js","components/DisplaysTable/DisplaysTableItem.jsx","components/DisplaysTable/index.jsx","components/forms/DropDown/index.jsx","components/DeviceConfigDialog/AdditionalProperties.jsx","components/DeviceConfigDialog/index.jsx","components/DisplayConfigDialog/AdditionalProperties.jsx","components/DisplayConfigDialog/index.jsx","views/Devices/index.jsx","components/SceneCard/SceneConfigTable.jsx","components/SceneCard/index.jsx","views/Scenes/index.jsx","views/Device/index.jsx","components/SchemaForm/customFields/Slider.jsx","components/SchemaForm/mapper.js","components/EffectControl/DisplayEffectControl.jsx","components/PixelColorGraph/DisplayPixelColorGraph.jsx","components/PresetsCard/index.jsx","views/Display/MoreInfo.js","views/Display/index.jsx","components/VirtualComponents/PopoverNew.js","components/VirtualComponents/DialogAddSegment.js","components/VirtualComponents/PixelSlider.js","components/VirtualComponents/PopoverSure.js","components/VirtualComponents/UsedPixels.js","components/VirtualComponents/DragDropItem.js","components/VirtualComponents/index.jsx","components/VirtualComponents/Virtual.js","views/Virtuals/index.jsx","proxies/virtuals.js","views/Displays/index.js","components/IntegrationComponents/DialogAddIntegration.js","components/IntegrationComponents/Card.js","components/IntegrationComponents/CardB.js","components/IntegrationComponents/DataRow.js","components/IntegrationComponents/Row.js","views/Integrations/index.jsx","views/Advanced/LogCard.jsx","views/Advanced/ControlsCard.jsx","views/Advanced/ThemesCard.jsx","views/Advanced/ConfigEditor.jsx","views/Advanced/index.jsx","views/Settings/AudioInput.jsx","views/Settings/ConfigCard.jsx","views/Settings/LogCard.jsx","views/Settings/ThemesCard.jsx","views/Settings/index.jsx","proxies/settings.js","components/MelbankGraph/index.jsx","views/Developer/index.jsx","routes/views.jsx","layouts/Default/Header/index.jsx","layouts/Default/Sidebar/style.jsx","components/BugTracker/index.js","layouts/Default/Sidebar/BottomBar.js","layouts/Default/Sidebar/index.jsx","assets/img/icon/large_white_alpha.png","layouts/Default/index.jsx","routes/index.jsx","proxies/schema.js","App/theme.js","components/SnackbarDynamic/index.js","App/App.js","App/index.jsx","serviceWorker.js","index.js"],"names":["api","axios","create","baseURL","createDevice","config","post","getDevice","deviceId","get","then","response","device","data","key","id","name","getDeviceEffect","setDeviceEffect","updateDeviceEffect","put","deleteDeviceEffect","delete","updatePreset","addPreset","ACTION_ROOT","audioInputsFetching","createAction","audioInputsFetched","audioInputSaved","audioInputSaving","configFetching","configFetched","updateDevices","updateDisplays","handleActions","state","payload","devices","audioInputs","isLoading","options","value","error","isSaving","devMode","port","host","convertAudioInputsToList","Object","keys","map","index","snackbarSuccess","snackbarClear","snackbar","dynSnackbarOpen","dynSnackbarMessage","message","dynSnackbarType","type","showdynSnackbar","dispatch","a","devicesRequested","devicesReceived","deviceUpdated","scanProgressUpdated","scanProgress","list","convertDevicesDictionaryToList","dictionary","updatedDevices","mesasge","fetchDeviceList","statusText","forEach","effect","active","sleep","ms","Promise","resolve","setTimeout","handleActiveDeviceEffect","getState","currentDevice","convertDictionaryToList","presets","currentScene","camelToSnake","str","toLowerCase","slice","length","replace","letter","deviceRequested","deviceReceived","effectRequested","effectReceived","isDeviceLoading","isEffectLoading","presetsFetching","presetsFetched","presetAdding","presetAdded","defaultPresets","customPresets","effectType","isProcessing","getEffectPresets","effectId","default_presets","custom_presets","deviceProxies","preset","activatePreset","category","presetId","request","effect_id","preset_id","schemasFetching","schemasFetched","INITIAL_STATE","deviceTypes","undefined","effects","integrationTypes","displays","addScenes","deleteScenes","activateScenes","action","scenesFetching","scenesFetched","sceneAdding","sceneAdded","scenes","convertScenesDictionaryToList","getScenes","addScene","scenesProxies","scene","activateScene","sceneDevices","find","s","res","status","uiProxies","d","hasOwnProperty","JSON","stringify","addVirtual","renameVirtual","deleteVirtual","addSegment","changeSegmentPixel","changeSegmentInvert","changeSegmentPixelDensity","deleteSegment","postVirtuals","changeTheme","virtuals","new","pixel_count","items","reduxItem","old","filter","v","virtual","led_start","newValue","led_end","used_pixel","reduce","sum","part","invert","pixel_density","themeSelector","toggleIntegration","deleteIntegration","addIntegration","setIntegration","deleteAsyncIntegration","console","log","integrationsProxies","window","location","href","createDisplay","updateDisplay","displayId","getDisplay","display","updateDisplaySegments","getDisplayEffect","setDisplayEffect","updateDisplayEffect","deleteDisplayEffect","displaysRequested","handleSegmentChange","orderSegmentChange","displaysReceived","displayUpdated","segIndex","segments","order","temp","convertDisplaysDictionaryToList","updatedDisplays","fetchDisplayList","updateDisplayConfig","displayProxies","currentDisplay","displayRequested","displayReceived","modules","integrations","schemas","settings","selectedDevice","ui","selectedDisplay","isDisplayLoading","history","createBrowserHistory","store","createStore","combineReducers","reducers","router","connectRouter","composeWithDevTools","applyMiddleware","routerMiddleware","thunk","drawerWidth","hostname","wsBaseUrl","websocketUrl","createWebSocket","Sockette","timeout","maxAttempts","PixelColorGraph","props","handleMessage","e","messageData","parse","device_id","setState","chartData","datasets","pixels","handleOpen","enablePixelVisualization","websocketActive","handleClose","ws","json","websocketPacketId","event_type","event_filter","deviceUpdateSubscription","disablePixelVisualization","subscription_id","connectWebsocket","onopen","onmessage","onclose","onerror","disconnectWebsocket","close","getChartOptionsForDevice","labels","Array","apply","Function","call","Number","label","lineTension","backgroundColor","borderColor","pointRadius","fill","chartOptions","responsive","maintainAspectRatio","tooltips","enabled","hover","mode","animationDuration","animation","duration","responsiveAnimationDuration","scales","xAxes","gridLines","ticks","max","min","maxTicksLimit","yAxes","stepSize","color","legend","this","prevProps","classes","Box","className","content","React","Component","withStyles","theme","minWidth","maxWidth","height","button","margin","spacing","float","submitControls","width","tableCell","lineHeight","padding","verticalAlign","deviceLink","size","textDecoration","textLink","palette","primary","main","actionsContainer","justifyContent","toggleContainer","Grid","container","direction","justify","item","xs","to","Typography","variant","Button","component","NavLink","alignContent","CircularProgress","Switch","checked","onChange","target","useStyles","makeStyles","alignItems","validateInput","input","some","p","AddSceneCard","useReducer","Card","CardHeader","title","subheader","CardContent","flexGrow","TextField","fullWidth","helperText","aria-label","disabled","onClick","endIcon","sceneButton","flexWrap","useSelector","useEffect","spinnerContainer","DashboardView","handleUpdateDeviceEffect","clearDeviceEffect","lg","card","connect","root","overflowX","table","borderSpacing","typography","PopoverSure","onConfirm","text","icon","style","useState","anchorEl","setAnchorEl","open","Boolean","aria-describedby","event","currentTarget","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","ConfirmationDialogRaw","valueProp","other","setValue","radioGroupRef","useRef","deviceList","Dialog","disableBackdropClick","disableEscapeKeyDown","onEntering","current","focus","aria-labelledby","DialogTitle","DialogContent","dividers","RadioGroup","ref","FormControlLabel","control","Radio","DialogActions","autoFocus","background","paper","maxHeight","ConfirmationDialog","setOpen","useDispatch","role","keepMounted","test","t","PixelSlider","i","pixelRange","marks","Slider","valueLabelDisplay","segmentsWrapper","borderBottom","segmentsColOrder","segmentsButtonUp","borderTopRightRadius","borderBottomRightRadius","segmentsButtonDown","borderTopLeftRadius","borderBottomLeftRadius","marginRight","segmentsColPixelSlider","flex","segmentsColActions","flexDirection","position","right","Segment","reorder","appBar","marginBottom","default","marginLeft","dialog","Transition","forwardRef","Slide","FullScreenDialog","fullScreen","TransitionComponent","AppBar","Toolbar","startIcon","output","overlap","start","end","push","deleteButton","editButton","displayLink","onDelete","onEditDevice","onEditDisplay","TableRow","TableCell","scope","Icon","icon_name","max_brightness","crossfade","center_offset","preview_only","align","is_device","borderCollapse","tableResponsive","onDeleteDisplay","Table","TableHead","TableBody","DropDown","FormControl","InputLabel","Select","MenuItem","select","defaultProps","schemaForm","AdditionalProperties","form","model","schema","Collapse","in","onModelChange","scheme","DeviceConfigDialog","handleTypeChange","initial","deviceType","val","utils","selectOrSet","toggleShowAdditional","prevState","additionalPropertiesOpen","handleCancel","handleSubmit","onAddDevice","onUpdateDevice","currentSchema","properties","requiredKeys","required","optionalKeys","rk","showAdditionalUi","cardResponsive","DialogContentText","onSubmit","bottomContainer","additionalButton","clsx","expandIcon","actionButtons","marginTop","transform","DisplayConfigDialog","onAddDisplay","onUpdateDisplay","DevicesView","openAddDeviceDialog","addDialogOpened","openAddDisplayDialog","addDisplayOpened","closeAddDeviceDialog","closeAddDisplayDialog","handleEditDevice","handleEditDisplay","handleFindDevices","findWLEDDevices","searchDevicesLoading","reject","displayList","deleteDisplay","addDevice","addDisplay","updateDeviceConfig","Tooltip","interactive","arrow","sec","dialogButton","renderRows","SceneConfigTable","SceneCard","deleteScene","CardActions","ScenesView","handleAddScene","md","bottom","DeviceView","handleLoadDevice","loadDeviceInfo","handleClearEffect","handleSetEffect","match","params","nextProps","newDeviceId","renderPixelGraph","parseInt","localStorage","getItem","Error","currentEffect","proxy","valueLabel","valuetext","toString","ComposedComponent","onChangeValidate","debouncedOnChangeHandler","debounce","minimum","maximum","shrink","defaultValue","getAriaValueText","step","mapper","number","DisplayEffectControl","onTypeChange","selectedType","preventDefault","handleRandomize","onClear","DisplayPixelColorGraph","display_id","displayUpdateSubscription","getChartOptionsForDisplay","paddingBottom","presetButton","buttonGrid","actions","validateTextInput","concat","PresetsCard","setName","isNameValid","renderPresetsButton","CATEGORY","MoreInfo","join","DisplayView","dispId","setDispId","loadDisplayInfo","clearDisplayEffect","PopoverNew","userInput","buttonText","buttonIcon","submitIcon","setItem","uuidv1","currentVirtual","SimplePopover","onDeleteVitem","listItem","UsedPixels","ListItemText","flexBasis","textAlign","secondary","DragDropItem","draggableId","border","provided","snapshot","ListItem","ContainerComponent","ContainerProps","innerRef","draggableProps","isDragging","draggableStyle","borderTop","ListItemIcon","dragHandleProps","ip_address","inputProps","handlePixelDensity","handleInvert","ListItemSecondaryAction","DragDropContainer","memo","listItems","placeholder","DragDropWrapper","setdeviceListYz","listitems","sort","b","order_number","onDragEnd","result","destination","source","startIndex","endIndex","from","splice","removed","vi","virt","vir","droppableId","RootRef","rootRef","Virtual","setSnackbarState","allPixels","newName","Alert","elevation","VirtualsView","snackbarState","virtualsProxies","Snackbar","autoHideDuration","severity","DisplaysView","integration","integrationCard","fontSize","pos","IntegrationsCard","intTypes","int","gutterBottom","description","handleToggle","toggleAsyncIntegration","Chip","DataRow","dr","scene_name","IntegrationRow","installedIntegrations","installedIntegration","IntegrationsView","instInts","instInt","CardB","Row","LazyLog","require","saved","fontFamily","lineno","linetime","bar","wrapping","whiteSpace","not_wrapping","ws_log_url","LogCard","sessionStorage","logger","setLogger","logLength","setLogLength","wrap","setWrap","Accordion","expanded","AccordionSummary","aria-controls","heading","AccordionDetails","minHeight","enableSearch","url","websocket","follow","websocketOptions","onOpen","sock","send","formatMessage","line","levelno","levelname","saveLine","asctime","removeItem","Checkbox","labelPlacement","InputLabelProps","InputProps","l","ControlsCard","ThemesCard","setTheme","labelId","ConfigEditor","editorProps","$blockScrolling","AdvancedView","Divider","AudioCard","selectedOption","o","FormHelperText","ConfigCard","label-id","settings2","IconButton","navigator","userAgent","replaceAll","indexOf","encodeURIComponent","SettingsView","getAudioInputs","setAudioInput","overflow","AudioInput","active_device_index","frequencies","melbank","melbankMax","Math","graph_id","graphId","callback","values","DeveloperView","graphList","graphString","split","graphDom","graphIndex","c","toUpperCase","MelbankGraph","path","sidebarName","navbarName","DeviceHubIcon","TvIcon","PowerIcon","advanced","LockOpenIcon","viewRoutes","Dashboard","List","SaveAltIcon","Settings","BuildIcon","Tune","redirect","paddingLeft","breakpoints","up","left","fontWeight","getPageName","devicesDictionary","pathname","prop","startsWith","easterEgg","setEasterEgg","toolBar","onDoubleClick","Fab","Hidden","mdUp","handleDrawerToggle","sidebarStyle","drawerPaper","logo","zIndex","logoLink","logoImage","img","top","backgroundSize","backgroundPosition","opacity","paddingTop","listStyle","itemLink","transition","borderRadius","itemIcon","itemText","devicesItemText","activeView","boxShadow","shadows","sidebarWrapper","overflowScrolling","bottomBar","grey","FormDialog","setDescription","infos","language","platform","sendMessage","avatar","XMLHttpRequest","setRequestHeader","username","avatar_url","BottomBar","Links","effectLinks","isViewActive","listItemClass","activeClassName","disableTypography","viewName","version","src","alt","Drawer","anchor","ModalProps","smDown","implementation","DefaultLayout","setRootRef","el","mobileOpen","createRef","getConfig","fetchSchemas","scrollTo","behavior","deviceDictionary","exact","render","routeProps","indexRoutes","responseInfo","dev_mode","toolbar","mixins","createMuiTheme","teal","overrides","MuiFormControl","MuiCard","darkTheme","bladeTheme","bladeDarkTheme","SnackbarDynamic","App","defaultTheme","CssBaseline","ReactDOM","Fragment","document","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.e1e8583d.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = '/api';\n\nexport const api = axios.create({\n    baseURL,\n});\n","import { api } from 'utils/api';\n\nexport function scanForDevices() {\n    return api.post('/find_devices');\n}\n\nexport function getDevices() {\n    return api.get('/devices');\n}\n\nexport function deleteDevice(deviceId) {\n    return api.delete(`/devices/${deviceId}`);\n}\n\nexport function updateDevice(deviceId, data) {\n    return api.put(`/devices/${deviceId}`, data);\n}\n\nexport function createDevice(config) {\n    return api.post('/devices', config);\n}\n\nexport function getDevice(deviceId) {\n    return api.get(`/devices/${deviceId}`).then(response => {\n        const device = response.data;\n        return {\n            key: deviceId,\n            id: deviceId,\n            name: device.name,\n            config: device,\n        };\n    });\n}\n\nexport function getDeviceEffect(deviceId) {\n    return api.get(`devices/${deviceId}/effects`);\n}\n\nexport function setDeviceEffect(deviceId, data) {\n    return api.post(`devices/${deviceId}/effects`, data);\n}\n\nexport function updateDeviceEffect(deviceId, data) {\n    return api.put(`devices/${deviceId}/effects`, data);\n}\n\nexport function deleteDeviceEffect(deviceId) {\n    return api.delete(`devices/${deviceId}/effects`);\n}\n\nexport function getDevicePresets(deviceId) {\n    return api.get(`devices/${deviceId}/presets`);\n}\n\nexport function updatePreset(deviceId, data) {\n    return api.put(`devices/${deviceId}/presets`, data);\n}\n\nexport function addPreset(deviceId, data) {\n    return api.post(`devices/${deviceId}/presets`, data);\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport * as settingProxies from 'proxies/settings';\n\n// Actions\nconst ACTION_ROOT = 'settings';\nexport const audioInputsFetching = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_FETCHING`);\nexport const audioInputsFetched = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_FETCHED`);\nexport const audioInputSaved = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_SAVED`);\nexport const audioInputSaving = createAction(`${ACTION_ROOT}/AUDIO_DEVICES_SAVING`);\nexport const configFetching = createAction(`${ACTION_ROOT}/CONFIG_FETCHING`);\nexport const configFetched = createAction(`${ACTION_ROOT}/CONFIG_FETCHED`);\nexport const updateDevices = createAction('settings/DEVICES_UPDATED');\nexport const updateDisplays = createAction('settings/DISPLAYS_UPDATED');\n\n// Reducer\nconst INITIAL_STATE = {\n    audioInputs: {\n        isLoading: false,\n        options: [],\n        isSaving: false,\n        value: '',\n        error: '',\n    },\n    isLoading: false,\n    devMode: false,\n    port: '',\n    host: '',\n    devices: [],\n    error: '',\n};\n\nexport default handleActions(\n    {\n        [updateDevices]: (state, { payload }) => ({\n            ...state,\n            devices: payload,\n        }),\n        [updateDisplays]: (state, { payload }) => ({\n            ...state,\n            devices: payload,\n        }),\n        [audioInputsFetching]: state => ({\n            ...state,\n            audioInputs: {\n                ...state.audioInputs,\n                isLoading: true,\n            },\n        }),\n        [audioInputsFetched]: (\n            state,\n            { payload, payload: { options = [], value = '' }, error }\n        ) => ({\n            ...state,\n            audioInputs: {\n                ...state.audioInputs,\n                isLoading: false,\n                options: error ? [] : options,\n                value: error ? '' : value,\n                error: error ? payload : '',\n            },\n        }),\n        [audioInputSaving]: state => ({\n            ...state,\n            audioInputs: {\n                ...state.audioInputs,\n                isSaving: true,\n            },\n        }),\n        [audioInputSaved]: (state, { payload, error }) => ({\n            ...state,\n            audioInputs: {\n                ...state.audioInputs,\n                value: error ? '' : payload,\n                isSaving: false,\n                error: error ? payload : '',\n            },\n        }),\n        [configFetching]: state => ({\n            ...state,\n            isLoading: true,\n        }),\n        [configFetched]: (state, { payload, error }) => ({\n            ...state,\n            ...payload,\n            isLoading: false,\n            error: error ? payload : '',\n        }),\n    },\n    INITIAL_STATE\n);\n\nexport function getAudioInputs() {\n    return async dispatch => {\n        dispatch(audioInputsFetching());\n        try {\n            const response = await settingProxies.getAudioInputs();\n            if (response.statusText !== 'OK') {\n                throw new Error('Error fetching audio Inputs');\n            }\n\n            const { devices: audioInputs, active_device_index } = response.data;\n            const options = convertAudioInputsToList(audioInputs);\n            const value = audioInputs[active_device_index];\n            dispatch(audioInputsFetched({ options, value }));\n        } catch (error) {\n            dispatch(audioInputsFetched(error));\n        }\n    };\n}\n\nexport function setAudioInput({ value, index }) {\n    return async dispatch => {\n        try {\n            dispatch(audioInputSaving());\n            const response = await settingProxies.updateSelectedAudioInput({\n                index: parseInt(index),\n            });\n            if (response.statusText !== 'OK') {\n                throw new Error('Audio Input failed to update');\n            }\n\n            dispatch(audioInputSaved(value));\n        } catch (error) {\n            dispatch(audioInputSaved(error));\n        }\n    };\n}\n\nexport function getConfig() {\n    return async dispatch => {\n        dispatch(configFetching());\n        try {\n            const response = await settingProxies.getSystemConfig();\n            if (response.statusText !== 'OK') {\n                throw new Error('Error fetching system config');\n            }\n            const responseInfo = await settingProxies.getSystemInfo();\n            if (responseInfo.statusText !== 'OK') {\n                throw new Error('Error fetching system config');\n            }\n            const { dev_mode: devMode, port, host, devices } = response.data.config;\n            const { version } = responseInfo.data;\n            dispatch(configFetched({ devMode, host, port, devices, version }));\n        } catch (error) {\n            dispatch(configFetched(error));\n        }\n    };\n}\n\nconst convertAudioInputsToList = audioInputs =>\n    Object.keys(audioInputs).map(key => {\n        return {\n            index: key,\n            value: audioInputs[key],\n        };\n    });\n","import { createAction, handleActions } from 'redux-actions';\n\n// Actions\nconst ACTION_ROOT = 'ui';\n\nexport const snackbarSuccess = createAction(`${ACTION_ROOT}/SNACKBAR_SUCCESS`);\nexport const snackbarClear = createAction(`${ACTION_ROOT}/SNACKBAR_CLEAR`);\n\n// Reducer\nconst INITIAL_STATE = {\n    snackbar: {\n        dynSnackbarOpen: false,\n        dynSnackbarType: 'error',\n        dynSnackbarMessage: 'NO MESSAGE',\n    },\n};\n\nexport default handleActions(\n    {\n        [snackbarSuccess]: (state, { payload }) => ({\n            ...state,\n            snackbar: {\n                ...state.snackbar,\n                dynSnackbarOpen: true,\n                dynSnackbarMessage: payload.message,\n                dynSnackbarType: payload.type ? payload.type : 'error',\n            },\n        }),\n        [snackbarClear]: state => ({\n            ...state,\n            snackbar: {\n                dynSnackbarOpen: false,\n                dynSnackbarType: state.snackbar.dynSnackbarType,\n                dynSnackbarMessage: state.snackbar.dynSnackbarMessage,\n            },\n        }),\n    },\n    INITIAL_STATE\n);\n\nexport const showdynSnackbar = payload => {\n    // console.log(payload);\n    return async dispatch => {\n        dispatch(snackbarSuccess(payload));\n    };\n};\n\nexport const clearSnackbar = () => {\n    // console.log('WTF');\n    return dispatch => {\n        dispatch(snackbarClear());\n    };\n};\n","import { createAction, handleActions } from 'redux-actions';\nimport * as deviceProxies from 'proxies/device';\nimport { updateDevices } from './settings';\nimport { showdynSnackbar } from './ui';\n// Actions\nconst ACTION_ROOT = 'devices';\n\nexport const devicesRequested = createAction(`${ACTION_ROOT}/DEVICES_REQUESTED`);\nexport const devicesReceived = createAction(`${ACTION_ROOT}/DEVICES_RECEIVED`);\nexport const deviceUpdated = createAction(`${ACTION_ROOT}/DEVICE_UPDATED`);\nexport const scanProgressUpdated = createAction(`${ACTION_ROOT}/DEVICE_SCAN_PROGRESS_UPDATED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isLoading: false,\n    list: [],\n    dictionary: {},\n    scanProgress: 0,\n};\n\nexport default handleActions(\n    {\n        [devicesRequested]: state => ({\n            ...state,\n            isLoading: true,\n        }),\n        [scanProgressUpdated]: (state, { payload }) => ({\n            ...state,\n            scanProgress: payload,\n        }),\n        [devicesReceived]: (state, { payload, error }) => ({\n            ...state,\n            list: error ? state.list : convertDevicesDictionaryToList(payload),\n            dictionary: error ? state.dictionary : payload,\n            isLoading: false,\n            error: error ? payload.message : '',\n        }),\n        [deviceUpdated]: (state, { payload, payload: { id, ...data }, error }) => {\n            const updatedDevices = {\n                ...state.dictionary,\n                [id]: {\n                    ...state.dictionary[id],\n                    ...data,\n                },\n            };\n            return {\n                ...state,\n                list: error ? state.list : convertDevicesDictionaryToList(updatedDevices),\n                dictionary: error ? state.dictionary : updatedDevices,\n                error: error ? payload.mesasge : '',\n            };\n        },\n    },\n    INITIAL_STATE\n);\n\nexport function fetchDeviceList() {\n    return async dispatch => {\n        dispatch(devicesRequested());\n        try {\n            const response = await deviceProxies.getDevices();\n\n            if (response.statusText === 'OK') {\n                const { devices } = response.data;\n                // console.log(devices);\n                Object.keys(devices).forEach(key => {\n                    const data = devices[key];\n\n                    data.effect = { active: false };\n                });\n                // console.log('WTF', devices);\n                dispatch(devicesReceived(devices));\n                dispatch(updateDevices(convertDevicesDictionaryToList(devices)));\n            }\n        } catch (error) {\n            dispatch(devicesReceived(error));\n        }\n    };\n}\n\nexport function addDevice(type, config) {\n    return async dispatch => {\n        const data = {\n            type: type,\n            config: config,\n        };\n        try {\n            const response = await deviceProxies.createDevice(data);\n            if (response.statusText === 'OK') {\n                dispatch(fetchDeviceList());\n            }\n        } catch (error) {\n            console.log('Error adding device', error.message);\n        }\n    };\n}\n\nconst sleep = ms => {\n    return new Promise(resolve => setTimeout(resolve, ms));\n};\n\nexport function findWLEDDevices({ resolve, reject }) {\n    return async dispatch => {\n        try {\n            const response = await deviceProxies.scanForDevices();\n            if (response.statusText === 'OK') {\n                for (let sec = 1; sec <= 10; sec++) {\n                    await sleep(1000).then(() => {\n                        dispatch(fetchDeviceList());\n                        dispatch(scanProgressUpdated(sec));\n                    });\n                }\n\n                resolve();\n                dispatch(scanProgressUpdated(0));\n            }\n        } catch (error) {\n            console.log('WLED device scan failed', error.message);\n            reject(error.message);\n        }\n    };\n}\n\nexport function updateDeviceConfig(id, type, config) {\n    return async dispatch => {\n        try {\n            const response = await deviceProxies.updateDevice(id, {\n                config: { ...config, type },\n            });\n            if (response.statusText === 'OK') {\n                dispatch(fetchDeviceList());\n            }\n        } catch (error) {\n            console.log('Error adding device', error.message);\n        }\n    };\n}\n\nexport function setDeviceEffect(id, data) {\n    return async (dispatch, getState) => {\n        const device = getState().devices.dictionary[id];\n        try {\n            dispatch(\n                deviceUpdated({ id, ...device, effect: { ...device.effect, isProcessing: true } })\n            );\n\n            const response = await deviceProxies.setDeviceEffect(id, {\n                type: data.type || 'wavelength(Reactive)',\n                config: data,\n            });\n\n            dispatch(\n                deviceUpdated({\n                    id,\n                    effect: { ...data, ...response.data.effect, isProcessing: false },\n                })\n            );\n            dispatch(showdynSnackbar('Success!'));\n        } catch (error) {\n            deviceUpdated(error);\n        }\n    };\n}\n\nexport function handleActiveDeviceEffect(id, payload) {\n    return async (dispatch, getState) => {\n        const device = getState().devices.dictionary[id];\n        if (device)\n            dispatch(\n                deviceUpdated({ id, ...device, effect: { ...device.effect, active: payload } })\n            );\n    };\n}\n\nexport function clearDeviceEffect(id) {\n    return async (dispatch, getState) => {\n        const device = getState().devices.dictionary[id];\n        try {\n            dispatch(\n                deviceUpdated({ id, ...device, effect: { ...device.effect, isProcessing: true } })\n            );\n\n            await deviceProxies.deleteDeviceEffect(id);\n            dispatch(\n                deviceUpdated({\n                    id,\n                    effect: { ...device.effect, active: false, isProcessing: false },\n                })\n            );\n        } catch (error) {\n            deviceUpdated(error);\n        }\n    };\n}\n\nexport function deleteDevice(id) {\n    return async dispatch => {\n        try {\n            const response = await deviceProxies.deleteDevice(id);\n            if (response.statusText === 'OK') {\n                dispatch(fetchDeviceList());\n            }\n        } catch (error) {\n            console.log('Error deleting device', error.message);\n        }\n    };\n}\n\nconst convertDevicesDictionaryToList = (devices = {}) =>\n    Object.keys(devices).map(key => {\n        const currentDevice = devices[key];\n        return {\n            ...currentDevice,\n            key,\n            id: key,\n            name: currentDevice.config.name,\n        };\n    });\n","export const includeKeyInObject = (key, object) => ({ id: key, ...object });\n\nexport const mapIncludeKey = scenes => {\n    const keys = Object.keys(scenes);\n    return keys.map(k => includeKeyInObject(k, scenes[k]));\n};\n\nexport const convertDictionaryToList = (presets = {}) =>\n    Object.keys(presets).map(key => {\n        const currentScene = presets[key];\n        return {\n            ...currentScene,\n            id: key,\n        };\n    });\n\nexport const camelToSnake = str =>\n    str[0].toLowerCase() +\n    str.slice(1, str.length).replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n","import { createAction, handleActions } from 'redux-actions';\nimport * as deviceProxies from 'proxies/device';\n\n// Actions\nconst ACTION_ROOT = 'selectedDevice';\n\nexport const deviceRequested = createAction(`${ACTION_ROOT}/DEVICE_REQUESTED`);\nexport const deviceReceived = createAction(`${ACTION_ROOT}/DEVICE_RECEIVED`);\nexport const effectRequested = createAction(`${ACTION_ROOT}/DEVICE_EFFECT_REQUESTED`);\nexport const effectReceived = createAction(`${ACTION_ROOT}/DEVICE_EFFECT_RECEIVED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isDeviceLoading: false,\n    device: null,\n    isEffectLoading: false,\n    effect: {},\n};\n\nexport default handleActions(\n    {\n        [deviceRequested]: state => ({\n            ...state,\n            isDeviceLoading: true,\n        }),\n        [deviceReceived]: (state, { payload, error }) => ({\n            ...state,\n            isDeviceLoading: false,\n            device: error ? null : payload,\n            error: error ? payload.message : '',\n        }),\n        [effectRequested]: state => ({\n            ...state,\n            isEffectLoading: true,\n        }),\n        [effectReceived]: (state, { payload, error }) => ({\n            ...state,\n            isEffectLoading: false,\n            effect: error ? {} : payload,\n            error: error ? payload.message : '',\n        }),\n    },\n    INITIAL_STATE\n);\n\nexport function clearDeviceEffect(deviceId) {\n    return async dispatch => {\n        try {\n            const {\n                statusText,\n                data: { effect },\n            } = await deviceProxies.deleteDeviceEffect(deviceId);\n            if (statusText !== 'OK') {\n                throw new Error(`Error Clearing Device:${deviceId} Effect`);\n            }\n            dispatch(effectReceived(effect));\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n\nexport function setDeviceEffect(deviceId, { type, config }) {\n    return async (dispatch, getState) => {\n        const currentEffect = getState().selectedDevice.effect;\n        const proxy = currentEffect.type\n            ? deviceProxies.updateDeviceEffect\n            : deviceProxies.setDeviceEffect;\n        try {\n            const {\n                statusText,\n                data: { effect },\n            } = await proxy(deviceId, {\n                type,\n                config,\n            });\n\n            if (statusText !== 'OK') {\n                throw new Error(`Error Clearing Device:${deviceId} Effect`);\n            }\n            dispatch(effectReceived(effect));\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n\nexport function loadDeviceInfo(deviceId) {\n    return async (dispatch, getState) => {\n        try {\n            let device = getState().devices.dictionary;\n            dispatch(deviceRequested());\n            device = await deviceProxies.getDevice(deviceId);\n            dispatch(deviceReceived(device));\n\n            dispatch(effectRequested());\n            const {\n                data: { effect },\n            } = await deviceProxies.getDeviceEffect(deviceId);\n            dispatch(effectReceived(effect));\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport * as deviceProxies from 'proxies/device';\nimport * as effectsProxies from 'proxies/effects';\nimport { convertDictionaryToList } from 'utils/helpers';\nimport { effectReceived } from 'modules/selectedDevice';\n\n// Actions\nconst ACTION_ROOT = 'sceneManagement';\nexport const presetsFetching = createAction(`${ACTION_ROOT}/PRESETS_FETCHING`);\nexport const presetsFetched = createAction(`${ACTION_ROOT}/PRESETS_FETCHED`);\nexport const presetAdding = createAction(`${ACTION_ROOT}/PRESET_ADDING`);\nexport const presetAdded = createAction(`${ACTION_ROOT}/PRESET_ADDED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isLoading: false,\n    isProcessing: false,\n    defaultPresets: [],\n    customPresets: [],\n    effectType: '',\n};\n\nexport default handleActions(\n    {\n        [presetsFetching]: state => ({\n            ...state,\n            isLoading: true,\n        }),\n        [presetsFetched]: (\n            state,\n            { payload, payload: { defaultPresets = [], customPresets = [], effectType }, error }\n        ) => {\n            return {\n                ...state,\n                defaultPresets: error ? [] : defaultPresets,\n                customPresets: error ? [] : customPresets,\n                effectType,\n                isLoading: false,\n                error: error ? payload.message : '',\n            };\n        },\n        [presetAdding]: state => ({\n            ...state,\n            isProcessing: true,\n        }),\n\n        [presetAdded]: (state, { payload, payload: { id, name, config }, error }) => {\n            const customPresets = [\n                ...state.customPresets,\n                {\n                    id,\n                    name,\n                    config,\n                },\n            ];\n            return {\n                ...state,\n                customPresets: error ? state.customPresets : customPresets,\n                isProcessing: false,\n                error: error ? payload.message : '',\n            };\n        },\n    },\n    INITIAL_STATE\n);\n\nexport function getEffectPresets(effectType) {\n    return async dispatch => {\n        dispatch(presetsFetching());\n        try {\n            const response = await effectsProxies.getEffectPresets(effectType);\n\n            if (response.statusText === 'OK') {\n                const { default_presets, custom_presets, effect } = response.data;\n                const defaultPresets = convertDictionaryToList(default_presets);\n                const customPresets = convertDictionaryToList(custom_presets);\n                dispatch(presetsFetched({ defaultPresets, customPresets, effectType: effect }));\n            }\n        } catch (error) {\n            dispatch(presetsFetched(error));\n        }\n    };\n}\n\nexport function addPreset(deviceId, name) {\n    return async dispatch => {\n        dispatch(presetAdding());\n        try {\n            const { data, statusText } = await deviceProxies.addPreset(deviceId, { name });\n            if (statusText === 'OK') {\n                dispatch(presetAdded(data.preset));\n            }\n        } catch (error) {\n            dispatch(presetAdded(error));\n        }\n    };\n}\n\nexport function activatePreset(deviceId, category, effectId, presetId) {\n    return async dispatch => {\n        try {\n            const request = {\n                category: category,\n                effect_id: effectId,\n                preset_id: presetId,\n            };\n\n            const { data, statusText } = await deviceProxies.updatePreset(deviceId, request);\n            if (statusText === 'OK') {\n                dispatch(effectReceived(data.effect));\n            }\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n","import { api } from 'utils/api';\n\nexport function getEffectPresets(effectId) {\n    return api.get(`effects/${effectId}/presets`);\n}\n\nexport function updateEffectPreset(effectId, data) {\n    return api.put(`effects/${effectId}/presets`, data);\n}\n\nexport function addEffectPreset(effectId, data) {\n    return api.post(`effects/${effectId}/presets`, data);\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport * as schemaProxies from 'proxies/schema';\n\n// Actions\nconst ACTION_ROOT = 'schemas';\nexport const schemasFetching = createAction(`${ACTION_ROOT}/SCHEMAS_FETCHING`);\nexport const schemasFetched = createAction(`${ACTION_ROOT}/SCHEMAS_FETCHED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isLoading: false,\n    deviceTypes: undefined,\n    effects: undefined,\n};\n\nexport default handleActions(\n    {\n        [schemasFetching]: state => ({\n            ...state,\n            isLoading: true,\n        }),\n        [schemasFetched]: (\n            state,\n            { payload, payload: { deviceTypes, effects, integrationTypes, displays }, error }\n        ) => ({\n            ...state,\n            isLoading: false,\n            effects: error ? {} : effects,\n            displays: error ? {} : displays,\n            deviceTypes: error ? {} : deviceTypes,\n            integrationTypes: error ? {} : integrationTypes,\n            error: error ? payload.message : '',\n        }),\n    },\n    INITIAL_STATE\n);\n\nexport function fetchSchemas() {\n    return async dispatch => {\n        dispatch(schemasFetching());\n        try {\n            const response = await schemaProxies.getSchemas();\n            if (response.statusText === 'OK') {\n                const {\n                    devices: deviceTypes,\n                    effects,\n                    integrations: integrationTypes,\n                    displays,\n                } = response.data;\n                dispatch(schemasFetched({ deviceTypes, effects, integrationTypes, displays }));\n            }\n        } catch (error) {\n            dispatch(schemasFetched(error));\n        }\n    };\n}\n","import { api } from 'utils/api';\n\nexport function getScenes() {\n    return api.get('/scenes');\n}\nexport function addScenes(name) {\n    return api.post('/scenes', { name });\n}\n\nexport function deleteScenes(id) {\n    return api.delete('/scenes', { data: { id } });\n}\n\nexport function activateScenes(id) {\n    return api.put('/scenes', {\n        id,\n        action: 'activate',\n    });\n}\nexport function renameScene({ id, name }) {\n    return api.put('/scenes', {\n        action: 'rename',\n        id,\n        name,\n    });\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport * as scenesProxies from 'proxies/scenes';\nimport * as deviceProxies from './devices';\nimport * as uiProxies from './ui';\n\n// Actions\nconst ACTION_ROOT = 'sceneManagement';\nexport const scenesFetching = createAction(`${ACTION_ROOT}/SCENES_FETCHING`);\nexport const scenesFetched = createAction(`${ACTION_ROOT}/SCENES_FETCHED`);\nexport const sceneAdding = createAction(`${ACTION_ROOT}/SCENE_ADDING`);\nexport const sceneAdded = createAction(`${ACTION_ROOT}/SCENE_ADDED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isLoading: false,\n    isProcessing: false,\n    dictionary: {},\n    list: [],\n};\n\nexport default handleActions(\n    {\n        [scenesFetching]: state => ({\n            ...state,\n            isLoading: true,\n        }),\n        [scenesFetched]: (state, { payload, payload: { scenes = {}, list = [] }, error }) => {\n            return {\n                ...state,\n                dictionary: error ? {} : scenes,\n                list: error ? [] : list,\n                isLoading: false,\n                error: error ? payload.message : '',\n            };\n        },\n        [sceneAdding]: state => ({\n            ...state,\n            isProcessing: true,\n        }),\n\n        [sceneAdded]: (state, { payload, payload: { id, config, error = '' } }) => {\n            const scenes = {\n                ...state.dictionary,\n                [id]: config,\n            };\n            return {\n                ...state,\n                dictionary: error ? {} : scenes,\n                list: error ? [] : convertScenesDictionaryToList(scenes),\n                isProcessing: false,\n                error: error ? payload.message : '',\n            };\n        },\n    },\n    INITIAL_STATE\n);\n\nexport function getScenes() {\n    return async dispatch => {\n        dispatch(scenesFetching());\n        try {\n            const response = await scenesProxies.getScenes();\n\n            if (response.statusText === 'OK') {\n                const { scenes } = response.data;\n                const list = convertScenesDictionaryToList(scenes);\n                dispatch(scenesFetched({ scenes, list }));\n            }\n        } catch (error) {\n            dispatch(scenesFetched(error));\n        }\n    };\n}\n\nexport function addScene(name) {\n    return async dispatch => {\n        dispatch(sceneAdding());\n        try {\n            const { data, statusText } = await scenesProxies.addScenes(name);\n            if (statusText === 'OK') {\n                dispatch(sceneAdded(data.scene));\n            }\n        } catch (error) {\n            dispatch(sceneAdded(error));\n        }\n    };\n}\n\nexport function deleteScene(id) {\n    return async dispatch => {\n        await scenesProxies.deleteScenes(id);\n        dispatch(getScenes());\n    };\n}\n\nexport function activateScene(id) {\n    return async (dispatch, getState) => {\n        const sceneDevices = getState().scenes.list.find(s => s.id === id).devices;\n        const res = await scenesProxies.activateScenes(id);\n        if (res.status && res.status === 200) {\n            if (res.data.payload) {\n                dispatch(uiProxies.showdynSnackbar(res.data.payload));\n            }\n\n            Object.keys(sceneDevices).map(d => {\n                dispatch(\n                    deviceProxies.handleActiveDeviceEffect(\n                        d,\n                        sceneDevices[d].hasOwnProperty('config')\n                    )\n                );\n                return false;\n            });\n        } else {\n            dispatch(uiProxies.showdynSnackbar(JSON.stringify(res)));\n        }\n    };\n}\n\nexport function renameScene(id, name) {\n    return async dispatch => {\n        await scenesProxies.renameScene({ id, name });\n        dispatch(getScenes());\n    };\n}\n\nconst convertScenesDictionaryToList = (scenes = {}) =>\n    Object.keys(scenes).map(key => {\n        const currentScene = scenes[key];\n        return {\n            ...currentScene,\n            key,\n            id: key,\n            name: currentScene.name,\n        };\n    });\n","import { createAction, handleActions } from 'redux-actions';\nimport * as virtualsProxies from 'proxies/virtuals';\n// Actions\nconst ACTION_ROOT = 'virtuals';\n\nexport const addVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_ADD`);\nexport const renameVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_RENAME`);\nexport const deleteVirtual = createAction(`${ACTION_ROOT}/VIRTUAL_DELETE`);\nexport const addSegment = createAction(`${ACTION_ROOT}/ADD_SEGMENT`);\nexport const changeSegmentPixel = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_PXEL`);\nexport const changeSegmentInvert = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_INVERT`);\nexport const changeSegmentPixelDensity = createAction(`${ACTION_ROOT}/CHANGE_SEGMENT_PIXELDENSITY`);\nexport const deleteSegment = createAction(`${ACTION_ROOT}/DELETE_SEGMENT`);\nexport const getVirtualsPixel = createAction(`${ACTION_ROOT}/VIRTUALS_GET_PIXELS`);\nexport const postVirtuals = createAction(`${ACTION_ROOT}/VIRTUALS_SET`);\nexport const changeTheme = createAction(`${ACTION_ROOT}/CHANGE_THEME`);\n\n// Reducer\nconst INITIAL_STATE = {\n    list: [\n        {\n            name: 'Loading virtuals...',\n            pixel_count: 0,\n            items: [],\n        },\n    ],\n};\n\nexport default handleActions(\n    {\n        [postVirtuals]: (state, { payload }) => {\n            const newState = { list: payload.virtuals.list };\n            return newState;\n        },\n        [addVirtual]: (state, { payload }) => {\n            return {\n                ...state,\n                list: [\n                    ...state.list,\n                    {\n                        name: payload.new,\n                        pixel_count: 0,\n                        items: [],\n                    },\n                ],\n            };\n        },\n        [renameVirtual]: (state, { payload }) => {\n            return {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.name === payload.old) {\n                        reduxItem.name = payload.new;\n                    }\n                    return reduxItem;\n                }),\n            };\n        },\n        [deleteVirtual]: (state, { payload }) => {\n            return { ...state, list: state.list.filter(v => v.name !== payload) };\n        },\n        [addSegment]: (state, { payload }) => {\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.name === payload.virtual) {\n                        reduxItem.items = [...reduxItem.items, payload.device];\n                        reduxItem.pixel_count =\n                            reduxItem.pixel_count + payload.device.config.pixel_count;\n                    }\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [changeSegmentPixel]: (state, { payload }) => {\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.name === payload.virtual) {\n                        reduxItem.items.map(device => {\n                            if (device.id === payload.device) {\n                                device.led_start = payload.newValue[0];\n                                device.led_end = payload.newValue[1];\n                                device.used_pixel = payload.newValue[1] - payload.newValue[0] + 1;\n                            }\n\n                            return device;\n                        });\n                    }\n                    reduxItem.pixel_count = reduxItem.items\n                        .map(d => d.used_pixel)\n                        .reduce((sum, part) => sum + part);\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [changeSegmentInvert]: (state, { payload }) => {\n            // console.log('YZ', payload);\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.name === payload.virtual) {\n                        reduxItem.items.map(device => {\n                            if (device.id === payload.device.id) {\n                                device.invert = !!!device.invert;\n                            }\n\n                            return device;\n                        });\n                    }\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [changeSegmentPixelDensity]: (state, { payload }) => {\n            // console.log('YZ', payload);\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.name === payload.virtual) {\n                        reduxItem.items.map(device => {\n                            if (device.id === payload.device.id) {\n                                device.pixel_density = payload.newValue;\n                            }\n\n                            return device;\n                        });\n                    }\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [deleteSegment]: (state, { payload }) => {\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.name === payload.virtual) {\n                        reduxItem.items = reduxItem.items.filter(\n                            device => device.id !== payload.device.id\n                        );\n                    }\n                    reduxItem.pixel_count = reduxItem.items\n                        .map(d => d.used_pixel)\n                        .reduce((sum, part) => sum + part, 0);\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [changeTheme]: (state, { payload }) => {\n            // console.log('START', payload);\n            return {\n                ...state,\n                themeSelector: payload,\n            };\n        },\n    },\n    INITIAL_STATE\n);\n\nexport function getAsyncVirtuals() {\n    return async dispatch => {\n        try {\n            const response = await virtualsProxies.getVirtuals();\n            if (response.statusText === 'OK') {\n                dispatch(postVirtuals(response.data));\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\n","import { api } from 'utils/api';\n\nexport function getIntegrations() {\n    return api.get(`/integrations`);\n}\n\nexport function getIntegrationsStatuses() {\n    return api.get(`/integrations`, { info: 'status' });\n}\n\nexport function toggleIntegration(data) {\n    return api.put(`/integrations`, data);\n}\n\nexport function createIntegration(data) {\n    return api.post(`/integrations`, data);\n}\n\nexport function deleteIntegration(data) {\n    // console.log('YZ', data);\n    return api.delete(`/integrations`, data);\n}\n\n// QLC+ Proxies\n\nexport function getQLCInfo(integrationId, data) {\n    return api.get(`/integrations/qlc/${integrationId}`, data);\n}\n\nexport function toggleQLCListener(integrationId, data) {\n    return api.put(`/integrations/qlc/${integrationId}`, data);\n}\n\nexport function createQLCListener(integrationId, data) {\n    return api.post(`/integrations/qlc/${integrationId}`, data);\n}\n\nexport function deleteQLCListener(integrationId, data) {\n    return api.delete(`/integrations/qlc/${integrationId}`, data);\n}\n\n// Spotify proxies\n\nexport function getSpotifyTriggers(integrationId) {\n    return api.get(`/integrations/spotify/${integrationId}`);\n}\n\nexport function updateSpotifyTrigger(integrationId, data) {\n    return api.put(`/integrations/spotify/${integrationId}`, data);\n}\n\nexport function createSpotifyTrigger(integrationId, data) {\n    return api.post(`/integrations/spotify/${integrationId}`, data);\n}\n\nexport function deleteSpotifyTrigger(integrationId, data) {\n    return api.delete(`/integrations/spotify/${integrationId}`, data);\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport * as integrationsProxies from 'proxies/integrations';\n\nconst ACTION_ROOT = 'integrations';\n\nexport const addIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_ADD`);\nexport const setIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_SET`);\nexport const deleteIntegration = createAction(`${ACTION_ROOT}/INTEGRATION_DELETE`);\n\nconst INITIAL_STATE = {\n    list: [],\n};\n\nexport default handleActions(\n    {\n        [addIntegration]: (state, { payload }) => {\n            return {\n                ...state,\n                list: [\n                    ...state.list,\n                    {\n                        payload,\n                    },\n                ],\n            };\n        },\n        [setIntegration]: (state, { payload }) => {\n            return {\n                ...state,\n                list: payload,\n            };\n        },\n        [deleteIntegration]: (state, { payload }) => {\n            return { ...state, list: state.list.filter(v => v.id !== payload.id) };\n        },\n    },\n    INITIAL_STATE\n);\n\nexport function getAsyncIntegrations() {\n    return async dispatch => {\n        try {\n            const response = await integrationsProxies.getIntegrations();\n            if (response.statusText === 'OK') {\n                dispatch(setIntegration(response.data.integrations));\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\n\nexport async function deleteAsyncIntegration(data) {\n    console.log('damn', data);\n    const response = await integrationsProxies.deleteIntegration({ data });\n    console.log('damn', response);\n    window.location = window.location.href;\n    // integrationsProxies.deleteIntegration(data);\n    return async dispatch => {\n        try {\n            console.log('damn', data);\n            const response = await integrationsProxies.deleteIntegration(data);\n            if (response.statusText === 'OK') {\n                console.log('OMG', response.data);\n                // dispatch(deleteIntegration(response.data.integrations));\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\n\nexport async function toggleAsyncIntegration(data) {\n    console.log('damn', data);\n    const response = await integrationsProxies.toggleIntegration(data);\n    console.log('damn', response);\n    // window.location = window.location.href;\n    // integrationsProxies.deleteIntegration(data);\n    return async dispatch => {\n        try {\n            console.log('damn', data);\n            const response = await integrationsProxies.toggleIntegration(data);\n            if (response.statusText === 'OK') {\n                console.log('OMG', response.data);\n                // dispatch(deleteIntegration(response.data.integrations));\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\n","import { api } from 'utils/api';\n\nexport function getDisplays() {\n    return api.get('/displays');\n}\n\n// If display id is given in config, this will UPDATE an existing display\n// If no id is given, this will create a new display\nexport function createDisplay(config) {\n    return api.post('/displays', config);\n}\nexport function updateDisplay(displayId, config) {\n    return api.post('/displays', {\n        id: displayId,\n        config: config,\n    });\n}\n\n// Get info on a display, including its segments\nexport function getDisplay(displayId) {\n    return api.get(`/displays/${displayId}`).then(response => {\n        const display = response.data;\n        return {\n            key: displayId,\n            id: displayId,\n            name: display.name,\n            config: display,\n        };\n    });\n}\n\n// Set a display to on or off using {\"active\": true/false}\nexport function toggleDisplay(displayId, data) {\n    return api.put(`/displays/${displayId}`, data);\n}\n\n// Update a display's segments\nexport function updateDisplaySegments(displayId, data) {\n    return api.post(`/displays/${displayId}`, data);\n}\n\n// Delete a display\nexport function deleteDisplay(displayId) {\n    return api.delete(`/displays/${displayId}`);\n}\n\nexport function getDisplayEffect(displayId) {\n    return api.get(`displays/${displayId}/effects`);\n}\n\nexport function setDisplayEffect(displayId, data) {\n    return api.post(`displays/${displayId}/effects`, data);\n}\n\nexport function updateDisplayEffect(displayId, data) {\n    return api.put(`displays/${displayId}/effects`, data);\n}\n\nexport function deleteDisplayEffect(displayId) {\n    return api.delete(`displays/${displayId}/effects`);\n}\n\nexport function getDisplayPresets(displayId) {\n    return api.get(`displays/${displayId}/presets`);\n}\n\nexport function updatePreset(displayId, data) {\n    return api.put(`displays/${displayId}/presets`, data);\n}\n\nexport function addPreset(displayId, data) {\n    return api.post(`displays/${displayId}/presets`, data);\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport * as displayProxies from 'proxies/display';\n// import { updateDisplays } from './settings';\nimport { showdynSnackbar } from './ui';\n// Actions\nconst ACTION_ROOT = 'displays';\n\nexport const displaysRequested = createAction(`${ACTION_ROOT}/DISPLAYS_REQUESTED`);\nexport const deleteSegment = createAction(`${ACTION_ROOT}/DISPLAY_DELETE_SEGMENT`);\nexport const handleSegmentChange = createAction(`${ACTION_ROOT}/DISPLAY_HANDLE_SEGMENTS`);\nexport const orderSegmentChange = createAction(`${ACTION_ROOT}/DISPLAY_ORDER_SEGMENTS`);\nexport const displaysReceived = createAction(`${ACTION_ROOT}/DISPLAYS_RECEIVED`);\nexport const displayUpdated = createAction(`${ACTION_ROOT}/DISPLAY_UPDATED`);\nexport const scanProgressUpdated = createAction(`${ACTION_ROOT}/DISPLAY_SCAN_PROGRESS_UPDATED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isLoading: false,\n    scanProgress: 0,\n    list: [],\n};\n\nexport default handleActions(\n    {\n        [deleteSegment]: (state, { payload }) => {\n            const { displayId, segIndex } = payload;\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.id === displayId) {\n                        reduxItem.segments = [\n                            ...reduxItem.segments.slice(0, segIndex),\n                            ...reduxItem.segments.slice(segIndex + 1),\n                        ];\n                    }\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [handleSegmentChange]: (state, { payload }) => {\n            const { displayId, newValue, segIndex, invert } = payload;\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.id === displayId) {\n                        if (newValue) {\n                            reduxItem.segments[segIndex][1] = newValue[0];\n                            reduxItem.segments[segIndex][2] = newValue[1];\n                        }\n                        if (invert) {\n                            reduxItem.segments[segIndex][3] = !reduxItem.segments[segIndex][3];\n                        }\n                    }\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [orderSegmentChange]: (state, { payload }) => {\n            const { displayId, segIndex, order } = payload;\n            const newState = {\n                ...state,\n                list: state.list.map(reduxItem => {\n                    if (reduxItem.id === displayId) {\n                        let data = [...reduxItem.segments];\n\n                        if (order === 'UP') {\n                            let temp = data[segIndex - 1];\n                            data[segIndex - 1] = data[segIndex];\n                            data[segIndex] = temp;\n\n                            reduxItem.segments = data;\n                        }\n                        if (order === 'DOWN') {\n                            let temp = data[segIndex + 1];\n                            data[segIndex + 1] = data[segIndex];\n                            data[segIndex] = temp;\n\n                            reduxItem.segments = data;\n                        }\n                    }\n                    return reduxItem;\n                }),\n            };\n            return newState;\n        },\n        [displaysRequested]: state => ({\n            ...state,\n            isLoading: true,\n        }),\n        [scanProgressUpdated]: (state, { payload }) => ({\n            ...state,\n            scanProgress: payload,\n        }),\n        [displaysReceived]: (state, { payload, error }) => ({\n            ...state,\n            list: error ? state.list : convertDisplaysDictionaryToList(payload),\n            dictionary: error ? state.dictionary : payload,\n            isLoading: false,\n            error: error ? payload.message : '',\n        }),\n        [displayUpdated]: (state, { payload, payload: { id, ...data }, error }) => {\n            const updatedDisplays = {\n                ...state.dictionary,\n                [id]: {\n                    ...state.dictionary[id],\n                    ...data,\n                },\n            };\n            return {\n                ...state,\n                list: error ? state.list : convertDisplaysDictionaryToList(updatedDisplays),\n                dictionary: error ? state.dictionary : updatedDisplays,\n                error: error ? payload.mesasge : '',\n            };\n        },\n    },\n    INITIAL_STATE\n);\n\nexport function fetchDisplayList() {\n    return async dispatch => {\n        dispatch(displaysRequested());\n        try {\n            const response = await displayProxies.getDisplays();\n            if (response.statusText === 'OK') {\n                const { displays } = response.data;\n                Object.keys(displays).forEach(key => {\n                    const data = displays[key];\n                    data.effect.active = !!data.effect.name;\n                });\n                dispatch(displaysReceived(displays));\n                // dispatch(updateDisplays(convertDisplaysDictionaryToList(displays)));\n            }\n        } catch (error) {\n            dispatch(displaysReceived(error));\n        }\n    };\n}\n\nexport function addDisplay(config) {\n    return async dispatch => {\n        const data = config;\n        try {\n            const response = await displayProxies.createDisplay(data);\n            if (response.statusText === 'OK') {\n                dispatch(fetchDisplayList());\n            }\n        } catch (error) {\n            console.log('Error adding display', error.message);\n        }\n    };\n}\n\n// const sleep = ms => {\n//     return new Promise(resolve => setTimeout(resolve, ms));\n// };\n\nexport function findWLEDDisplays({ resolve, reject }) {\n    return async dispatch => {\n        try {\n            // const response = await displayProxies.scanForDisplays();\n            // if (response.statusText === 'OK') {\n            //     for (let sec = 1; sec <= 10; sec++) {\n            //         await sleep(1000).then(() => {\n            //             dispatch(fetchDisplayList());\n            //             dispatch(scanProgressUpdated(sec));\n            //         });\n            //     }\n            //     resolve();\n            //     dispatch(scanProgressUpdated(0));\n            // }\n        } catch (error) {\n            console.log('WLED display scan failed', error.message);\n            reject(error.message);\n        }\n    };\n}\n\nexport function updateDisplayConfig({ id, data }) {\n    return async dispatch => {\n        try {\n            const response = await displayProxies.updateDisplaySegments(id, {\n                segments: [...data],\n            });\n            if (response.statusText === 'OK') {\n                dispatch(fetchDisplayList());\n                dispatch(\n                    showdynSnackbar({ message: 'Successfully saved segments!', type: 'success' })\n                );\n            }\n        } catch (error) {\n            showdynSnackbar({ message: error.message });\n            console.log('Error updating display', error.message);\n        }\n    };\n}\n// export function updateDisplayConfig(id, type, config) {\n//     return async dispatch => {\n//         try {\n//             const response = await displayProxies.updateDisplaySegments(id, {\n//                 config: { ...config, type },\n//             });\n//             if (response.statusText === 'OK') {\n//                 dispatch(fetchDisplayList());\n//             }\n//         } catch (error) {\n//             console.log('Error updating display', error.message);\n//         }\n//     };\n// }\n\nexport function setDisplayEffect(id, data) {\n    return async (dispatch, getState) => {\n        const display = getState().displays.dictionary[id];\n        try {\n            dispatch(\n                displayUpdated({\n                    id,\n                    ...display,\n                    effect: { ...display.effect, isProcessing: true },\n                })\n            );\n\n            const response = await displayProxies.setDisplayEffect(id, {\n                type: data.type || 'wavelength(Reactive)',\n                config: data,\n            });\n\n            dispatch(\n                displayUpdated({\n                    id,\n                    effect: { ...data, ...response.data.effect, isProcessing: false },\n                })\n            );\n            dispatch(showdynSnackbar('Success!'));\n        } catch (error) {\n            displayUpdated(error);\n        }\n    };\n}\n\nexport function handleActiveDisplayEffect(id, payload) {\n    return async (dispatch, getState) => {\n        const display = getState().displays.dictionary[id];\n        if (display)\n            dispatch(\n                displayUpdated({ id, ...display, effect: { ...display.effect, active: payload } })\n            );\n    };\n}\n\nexport function clearDisplayEffect(id) {\n    return async (dispatch, getState) => {\n        const display = getState().displays.dictionary[id];\n        try {\n            dispatch(\n                displayUpdated({\n                    id,\n                    ...display,\n                    effect: { ...display.effect, isProcessing: true },\n                })\n            );\n\n            await displayProxies.deleteDisplayEffect(id);\n            dispatch(\n                displayUpdated({\n                    id,\n                    effect: { ...display.effect, active: false, isProcessing: false },\n                })\n            );\n        } catch (error) {\n            displayUpdated(error);\n        }\n    };\n}\n\nexport function deleteDisplay(id) {\n    return async dispatch => {\n        try {\n            const response = await displayProxies.deleteDisplay(id);\n            if (response.statusText === 'OK') {\n                dispatch(fetchDisplayList());\n            }\n        } catch (error) {\n            console.log('Error deleting display', error.message);\n        }\n    };\n}\n\nconst convertDisplaysDictionaryToList = (displays = {}) =>\n    Object.keys(displays).map(key => {\n        const currentDisplay = displays[key];\n        return {\n            ...currentDisplay,\n            key,\n            id: key,\n            name: currentDisplay.config.name,\n        };\n    });\n","import { createAction, handleActions } from 'redux-actions';\nimport * as displayProxies from 'proxies/display';\n\n// Actions\nconst ACTION_ROOT = 'selectedDisplay';\n\nexport const displayRequested = createAction(`${ACTION_ROOT}/DISPLAY_REQUESTED`);\nexport const displayReceived = createAction(`${ACTION_ROOT}/DISPLAY_RECEIVED`);\nexport const effectRequested = createAction(`${ACTION_ROOT}/DISPLAY_EFFECT_REQUESTED`);\nexport const effectReceived = createAction(`${ACTION_ROOT}/DISPLAY_EFFECT_RECEIVED`);\n\n// Reducer\nconst INITIAL_STATE = {\n    isDisplayLoading: false,\n    display: null,\n    isEffectLoading: false,\n    effect: {},\n};\n\nexport default handleActions(\n    {\n        [displayRequested]: state => ({\n            ...state,\n            isDisplayLoading: true,\n        }),\n        [displayReceived]: (state, { payload, error }) => ({\n            ...state,\n            isDisplayLoading: false,\n            display: error ? null : payload,\n            error: error ? payload.message : '',\n        }),\n        [effectRequested]: state => ({\n            ...state,\n            isEffectLoading: true,\n        }),\n        [effectReceived]: (state, { payload, error }) => ({\n            ...state,\n            isEffectLoading: false,\n            effect: error ? {} : payload,\n            error: error ? payload.message : '',\n        }),\n    },\n    INITIAL_STATE\n);\n\nexport function clearDisplayEffect(displayId) {\n    return async dispatch => {\n        try {\n            const {\n                statusText,\n                data: { effect },\n            } = await displayProxies.deleteDisplayEffect(displayId);\n            if (statusText !== 'OK') {\n                throw new Error(`Error Clearing Display:${displayId} Effect`);\n            }\n            dispatch(effectReceived(effect));\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n\nexport function setDisplayEffect(displayId, { type, config }) {\n    return async (dispatch, getState) => {\n        const currentEffect = getState().selectedDisplay.effect;\n        const proxy = currentEffect.type\n            ? displayProxies.updateDisplayEffect\n            : displayProxies.setDisplayEffect;\n        try {\n            const {\n                statusText,\n                data: { effect },\n            } = await proxy(displayId, {\n                type,\n                config,\n            });\n\n            if (statusText !== 'OK') {\n                throw new Error(`Error Clearing Display:${displayId} Effect`);\n            }\n            dispatch(effectReceived(effect));\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n\nexport function loadDisplayInfo(displayId) {\n    return async (dispatch, getState) => {\n        try {\n            let display = getState().displays.dictionary;\n            dispatch(displayRequested());\n            display = await displayProxies.getDisplay(displayId);\n            dispatch(displayReceived(display));\n\n            dispatch(effectRequested());\n            const {\n                data: { effect },\n            } = await displayProxies.getDisplayEffect(displayId);\n            dispatch(effectReceived(effect));\n        } catch (error) {\n            dispatch(effectReceived(error));\n        }\n    };\n}\n","import devices from './devices';\nimport presets from './presets';\nimport selectedDevice from './selectedDevice';\nimport schemas from './schemas';\nimport scenes from './scenes';\nimport settings from './settings';\nimport virtuals from './virtuals';\nimport integrations from './integrations';\nimport ui from './ui';\nimport displays from './displays';\nimport selectedDisplay from './selectedDisplay';\nconst modules = {\n    devices,\n    integrations,\n    presets,\n    schemas,\n    scenes,\n    settings,\n    selectedDevice,\n    virtuals,\n    ui,\n    displays,\n    selectedDisplay,\n};\n\nexport default modules","import thunk from 'redux-thunk'\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\nimport reducers from '../modules'\n\nexport const history = createBrowserHistory()\n\nconst store = () => {\n    const store = createStore(\n        combineReducers({\n            ...reducers,\n            router: connectRouter(history),\n        }),\n        composeWithDevTools(applyMiddleware(routerMiddleware(history), thunk))\n    )\n    return store\n}\n\nexport default store","export const drawerWidth = 260;\n","import Sockette from 'sockette';\n\nconst { NODE_ENV } = process.env;\nconst { hostname, port } = window.location;\n\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\n\nexport const websocketUrl = `ws://${wsBaseUrl}/api/websocket`;\n\nexport const createWebSocket = options =>\n    new Sockette(websocketUrl, {\n        timeout: 5e3,\n        maxAttempts: 10,\n        ...options,\n    });\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Line } from 'react-chartjs-2';\nimport { createWebSocket } from 'utils/api/websocket';\nimport Box from '@material-ui/core/Box';\n\nconst styles = theme => ({\n    content: {\n        minWidth: 120,\n        maxWidth: '100%',\n        height: 200,\n    },\n});\n\nclass PixelColorGraph extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.ws = undefined;\n        this.websocketActive = false;\n        this.websocketPacketId = 1;\n        this.deviceUpdateSubscription = null;\n        this.state = this.getChartOptionsForDevice(props.device);\n    }\n\n    getChartOptionsForDevice(device) {\n        // console.log(\n        //     'AND AGAAAAIN: Hole 99999 display.config.pixel_count missing...',\n        //     device.config[device.id]\n        // );\n        const { pixel_count } = device.config;\n        // const { pixel_count } = { pixel_count: 50 };\n\n        return {\n            chartData: {\n                labels: Array.apply(null, { length: pixel_count }).map(Function.call, Number),\n                datasets: [\n                    {\n                        label: 'Red',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(255,0,0,0.3)',\n                        borderColor: 'rgba(255,0,0,1)',\n                        pointRadius: 0,\n                        data: new Array(pixel_count).fill(0),\n                    },\n                    {\n                        label: 'Green',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(0,255,0,0.3)',\n                        borderColor: 'rgba(0,255,0,1)',\n                        pointRadius: 0,\n                        data: new Array(pixel_count).fill(0),\n                    },\n                    {\n                        label: 'Blue',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(0,0,255,0.3)',\n                        borderColor: 'rgba(0,0,255,1)',\n                        pointRadius: 0,\n                        data: new Array(pixel_count).fill(0),\n                    },\n                ],\n            },\n            chartOptions: {\n                responsive: true,\n                maintainAspectRatio: false,\n                tooltips: { enabled: false },\n                hover: { mode: null, animationDuration: 0 },\n                animation: {\n                    duration: 0,\n                },\n                responsiveAnimationDuration: 0,\n                scales: {\n                    xAxes: [\n                        {\n                            gridLines: {\n                                display: false,\n                            },\n                            ticks: {\n                                max: pixel_count,\n                                min: 0,\n                                maxTicksLimit: 7,\n                            },\n                        },\n                    ],\n                    yAxes: [\n                        {\n                            // stacked: true,\n                            ticks: {\n                                display: false,\n                                min: 0,\n                                max: 256,\n                                stepSize: 64,\n                            },\n                            gridLines: {\n                                display: false,\n                                color: 'rgba(0, 0, 0, .125)',\n                            },\n                        },\n                    ],\n                },\n                legend: {\n                    display: false,\n                },\n            },\n        };\n    }\n\n    handleMessage = e => {\n        var messageData = JSON.parse(e.data);\n\n        // Ensure this message is for the current device. This can happen\n        // during transistions between devices where the component stays\n        // loaded\n        if (messageData.device_id !== this.props.device.id) {\n            return;\n        }\n\n        this.setState(({ chartData, chartData: { datasets } }) => ({\n            chartData: {\n                ...chartData,\n                datasets: [\n                    { ...datasets[0], data: messageData.pixels[0] },\n                    { ...datasets[1], data: messageData.pixels[1] },\n                    { ...datasets[2], data: messageData.pixels[2] },\n                ],\n            },\n        }));\n    };\n\n    handleOpen = e => {\n        this.enablePixelVisualization(this.props.device);\n        this.websocketActive = true;\n    };\n\n    handleClose = e => {\n        this.websocketActive = false;\n    };\n\n    enablePixelVisualization = device => {\n        if (this.ws) {\n            this.ws.json({\n                id: this.websocketPacketId,\n                type: 'subscribe_event',\n                event_type: 'device_update',\n                event_filter: { device_id: device.id },\n            });\n            this.deviceUpdateSubscription = this.websocketPacketId;\n            this.websocketPacketId++;\n        }\n    };\n\n    disablePixelVisualization = () => {\n        this.ws.json({\n            id: this.websocketPacketId,\n            type: 'unsubscribe_event',\n            subscription_id: this.deviceUpdateSubscription,\n        });\n        this.deviceUpdateSubscription = null;\n        this.websocketPacketId++;\n    };\n\n    connectWebsocket = () => {\n        this.ws = createWebSocket({\n            timeout: 5e3,\n            maxAttempts: 10,\n            onopen: this.handleOpen,\n            onmessage: this.handleMessage,\n            onclose: this.handleClose,\n            onerror: e => console.log('WebSocket Error:', e),\n        });\n    };\n\n    disconnectWebsocket = () => {\n        if (this.ws !== undefined && this.websocketActive) {\n            this.ws.close(1000);\n            this.ws = undefined;\n        }\n    };\n\n    componentDidMount() {\n        this.connectWebsocket();\n    }\n\n    componentWillUnmount() {\n        this.disconnectWebsocket();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { device } = this.props;\n        if (prevProps.device.id !== device.id && this.websocketActive) {\n            this.disablePixelVisualization();\n            this.enablePixelVisualization(device);\n            this.setState(this.getChartOptionsForDevice(device));\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <Box className={classes.content}>\n                <Line data={this.state.chartData} options={this.state.chartOptions} />\n            </Box>\n        );\n    }\n}\n\nPixelColorGraph.propTypes = {\n    classes: PropTypes.object.isRequired,\n    device: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PixelColorGraph);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport Switch from '@material-ui/core/Switch';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { NavLink } from 'react-router-dom';\n\nconst styles = theme => ({\n    button: {\n        margin: theme.spacing(1),\n        float: 'right',\n    },\n    submitControls: {\n        margin: theme.spacing(1),\n        display: 'block',\n        width: '100%',\n    },\n    tableCell: {\n        lineHeight: '1.2',\n        padding: '12px 8px',\n        verticalAlign: 'middle',\n    },\n    deviceLink: {\n        size: 'large',\n        margin: theme.spacing(1),\n        textDecoration: 'none',\n        '&,&:hover': {\n            color: 'inherit',\n        },\n    },\n    textLink: {\n        textDecoration: 'none',\n        color: 'inherit',\n        '&:hover': {\n            color: theme.palette.primary.main,\n        },\n    },\n    actionsContainer: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n    toggleContainer: {\n        width: '70px',\n    },\n});\n\nconst DeviceMiniControl = props => {\n    const toggleOn = ({ target: { checked } }) => {\n        const { device, setDeviceEffect } = props;\n\n        setDeviceEffect(device.id, {\n            ...device.effect,\n            active: checked,\n        });\n    };\n\n    const {\n        classes,\n        device: { id, config, effect },\n    } = props;\n\n    return (\n        <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\n            <Grid item xs=\"auto\">\n                <NavLink to={`/devices/${id}`} className={classes.textLink} key={id}>\n                    <Typography variant=\"h5\">{config.name}</Typography>\n                </NavLink>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                    Effect: {effect.name ? effect.name : 'None'}\n                </Typography>\n            </Grid>\n\n            <Grid item className={classes.actionsContainer}>\n                <Button\n                    component={NavLink}\n                    to={`/devices/${id}`}\n                    className={classes.deviceLink}\n                    key={id}\n                >\n                    Change Effect\n                </Button>\n                <Grid\n                    container\n                    justify=\"center\"\n                    alignContent=\"center\"\n                    className={classes.toggleContainer}\n                >\n                    {effect.isProcessing ? (\n                        <CircularProgress size={20} />\n                    ) : (\n                        <Switch checked={effect.active} onChange={toggleOn} color=\"primary\" />\n                    )}\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n\nDeviceMiniControl.propTypes = {\n    classes: PropTypes.object.isRequired,\n    device: PropTypes.object.isRequired,\n    setDeviceEffect: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DeviceMiniControl);\n","import React, { useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SaveIcon from '@material-ui/icons/Save';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n}));\n\nconst INITIAL_STATE = {\n    name: '',\n    error: '',\n};\n\nconst AddSceneCard = ({ scenes = {}, addScene }) => {\n    const classes = useStyles();\n    const [state, dispatch] = useReducer(\n        (state, payload) => ({\n            ...state,\n            ...payload,\n        }),\n        INITIAL_STATE\n    );\n    const { name, error } = state;\n\n    const handleSave = () => {\n        addScene(name);\n    };\n\n    const handleNameChanged = ({ target: { value } }) => {\n        const error = validateInput(value, scenes.list) ? '' : 'Scene name already in use!';\n        dispatch({ name: value, error });\n    };\n\n    return (\n        <Card>\n            <CardHeader\n                title=\"Add Scene\"\n                subheader=\"Save current effects of all devices as a Scene\"\n            />\n            <CardContent>\n                <Box display=\"flex\">\n                    <Box item=\"true\" flexGrow={1}>\n                        <TextField\n                            error={!!error}\n                            id=\"SceneNameInput\"\n                            label=\"Scene Name\"\n                            onChange={handleNameChanged}\n                            fullWidth\n                            helperText={error}\n                        />\n                    </Box>\n                    <Box item=\"true\">\n                        <Button\n                            className={classes.button}\n                            color=\"primary\"\n                            size=\"medium\"\n                            aria-label=\"Save\"\n                            disabled={!!error || !name.length}\n                            variant=\"contained\"\n                            onClick={handleSave}\n                            endIcon={<SaveIcon />}\n                        >\n                            Save Scene\n                        </Button>\n                    </Box>\n                </Box>\n            </CardContent>\n        </Card>\n    );\n};\n\nconst validateInput = (input, scenes) =>\n    !scenes.some(p => p.name.toLowerCase() === input.toLowerCase());\n\nAddSceneCard.propTypes = {\n    addScene: PropTypes.func.isRequired,\n    scenes: PropTypes.shape({\n        isLoading: PropTypes.bool.isRequired,\n        list: PropTypes.array.isRequired,\n        dictionary: PropTypes.object.isRequired,\n    }).isRequired,\n};\n\nexport default AddSceneCard;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { getScenes } from 'modules/scenes';\nconst styles = theme => ({\n    sceneButton: {\n        size: 'large',\n        margin: theme.spacing(1),\n    },\n    submitControls: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        width: '100%',\n        height: '100%',\n    },\n});\n\nconst MiniScenesCard = ({ classes, activateScene }) => {\n    const scenes = useSelector(state => state.scenes);\n    useEffect(() => {\n        getScenes();\n    }, []);\n    return (\n        <Card>\n            <CardHeader title=\"Scenes\" subheader=\"Easily deploy effects across multiple devices\" />\n            <CardContent className={classes.submitControls}>\n                {scenes.isLoading ? (\n                    <Grid\n                        container\n                        justify=\"center\"\n                        alignContent=\"center\"\n                        className={classes.spinnerContainer}\n                    >\n                        <CircularProgress size={80} />\n                    </Grid>\n                ) : (\n                    scenes.list.map(scene => (\n                        <Button\n                            key={scene.id}\n                            variant={'text'}\n                            color={'inherit'}\n                            className={classes.sceneButton}\n                            onClick={() => {\n                                activateScene(scene.id);\n                            }}\n                        >\n                            {scene.name}\n                        </Button>\n                    ))\n                )}\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default withStyles(styles)(MiniScenesCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\n\nimport PixelColorGraph from 'components/PixelColorGraph';\nimport DeviceMiniControl from 'components/DeviceMiniControl';\nimport AddSceneCard from 'components/AddSceneCard';\nimport MiniScenesCard from 'components/MiniScenesCard';\nimport { addScene, getScenes, activateScene } from 'modules/scenes';\nimport { setDeviceEffect, clearDeviceEffect, fetchDeviceList } from 'modules/devices';\nimport { fetchDisplayList } from 'modules/displays';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    card: {\n        width: '100%',\n        overflowX: 'auto',\n    },\n    table: {\n        width: '100%',\n        maxWidth: '100%',\n        backgroundColor: 'transparent',\n        borderSpacing: '0',\n    },\n});\n\nclass DashboardView extends React.Component {\n    componentDidMount() {\n        this.props.getScenes();\n        this.props.fetchDeviceList();\n        this.props.fetchDisplayList();\n    }\n\n    handleUpdateDeviceEffect = (deviceId, data) => {\n        const { setDeviceEffect, clearDeviceEffect } = this.props;\n\n        if (data.active) {\n            setDeviceEffect(deviceId, data);\n        } else {\n            clearDeviceEffect(deviceId);\n        }\n    };\n\n    render() {\n        const { classes, devices, scenes, addScene, activateScene } = this.props;\n\n        if (!devices.list.length) {\n            return (\n                <Card>\n                    <CardContent>\n                        <p>Looks like you have no devices! Go to 'Device Management' to add them</p>\n                    </CardContent>\n                </Card>\n            );\n        }\n\n        return (\n            <div>\n                <Grid container direction=\"row\" spacing={4}>\n                    {devices.list.map(device => {\n                        return (\n                            <Grid key={device.id} item lg={6}>\n                                <Card className={classes.card}>\n                                    <CardContent>\n                                        <DeviceMiniControl\n                                            device={device}\n                                            setDeviceEffect={this.handleUpdateDeviceEffect}\n                                        />\n                                        <PixelColorGraph device={device} />\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n                        );\n                    })}\n                </Grid>\n                <Grid container direction=\"row\" spacing={4}>\n                    <Grid item lg={6}>\n                        <MiniScenesCard activateScene={activateScene} />\n                    </Grid>\n                    <Grid item lg={6}>\n                        <AddSceneCard scenes={scenes} addScene={addScene} />\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nDashboardView.propTypes = {\n    devices: PropTypes.object.isRequired,\n    scenes: PropTypes.object.isRequired,\n};\n\nexport default connect(\n    state => ({\n        devices: state.devices,\n        scenes: state.scenes,\n    }),\n    {\n        addScene,\n        activateScene,\n        getScenes,\n        setDeviceEffect,\n        clearDeviceEffect,\n        fetchDeviceList,\n        fetchDisplayList,\n    }\n)(withStyles(styles)(DashboardView));\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\n\nconst useStyles = makeStyles(theme => ({\n    typography: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function PopoverSure({\n    onConfirm,\n    variant = 'contained',\n    color = 'secondary',\n    label,\n    text = 'Are you sure?',\n    direction = 'left',\n    size = 'small',\n    icon = <DeleteIcon />,\n    className,\n    style = {},\n}) {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n\n    return (\n        <div style={{ display: 'initial' }}>\n            <Button\n                aria-describedby={id}\n                variant={variant}\n                color={color}\n                onClick={handleClick}\n                size={size}\n                className={className}\n                style={style}\n            >\n                {label}\n                {icon}\n            </Button>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: 'center',\n                    horizontal: direction,\n                }}\n                transformOrigin={{\n                    vertical: 'center',\n                    horizontal: 'right',\n                }}\n            >\n                {' '}\n                <div style={{ display: 'flex' }}>\n                    <Typography className={classes.typography}>{text}</Typography>\n                    <Button\n                        aria-describedby={id}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => {\n                            onConfirm();\n                            setAnchorEl(null);\n                        }}\n                    >\n                        <CheckIcon />\n                    </Button>\n                    <Button\n                        aria-describedby={id}\n                        variant=\"contained\"\n                        color=\"default\"\n                        onClick={() => {\n                            setAnchorEl(null);\n                        }}\n                    >\n                        <CloseIcon />\n                    </Button>\n                </div>\n            </Popover>\n        </div>\n    );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updateDisplayConfig } from 'modules/displays';\n\nfunction ConfirmationDialogRaw(props) {\n    const { onClose, value: valueProp, open, ...other } = props;\n    const [value, setValue] = React.useState(valueProp);\n    const radioGroupRef = React.useRef(null);\n\n    React.useEffect(() => {\n        if (!open) {\n            setValue(valueProp);\n        }\n    }, [valueProp, open]);\n\n    const handleEntering = () => {\n        if (radioGroupRef.current != null) {\n            radioGroupRef.current.focus();\n        }\n    };\n\n    const handleCancel = () => {\n        onClose();\n    };\n\n    const handleOk = () => {\n        onClose(value);\n    };\n\n    const handleChange = event => {\n        setValue(event.target.value);\n    };\n\n    delete other.deviceList;\n    return (\n        <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"xs\"\n            onEntering={handleEntering}\n            aria-labelledby=\"confirmation-dialog-title\"\n            open={open}\n            {...other}\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\n            <DialogContent dividers>\n                <RadioGroup\n                    ref={radioGroupRef}\n                    aria-label=\"ringtone\"\n                    name=\"ringtone\"\n                    value={value}\n                    onChange={handleChange}\n                >\n                    {props.deviceList.map(device => (\n                        <FormControlLabel\n                            value={device.name}\n                            key={device.name}\n                            control={<Radio />}\n                            label={device.name}\n                        />\n                    ))}\n                </RadioGroup>\n            </DialogContent>\n            <DialogActions>\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleOk} color=\"primary\">\n                    Ok\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nConfirmationDialogRaw.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n    value: PropTypes.string.isRequired,\n    config: PropTypes.any,\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '1rem auto',\n        backgroundColor: theme.palette.background.paper,\n    },\n    paper: {\n        width: '80%',\n        maxHeight: 435,\n    },\n}));\n\nexport default function ConfirmationDialog({ display, config }) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const dispatch = useDispatch();\n    const deviceList = useSelector(state => state.devices.list) || [];\n\n    const handleClickListItem = () => {\n        setOpen(true);\n    };\n\n    const handleClose = newValue => {\n        setOpen(false);\n        if (newValue) {\n            const device = { ...deviceList.find(d => d.name === newValue) };\n            const temp = [\n                ...display.segments,\n                [device.id, 0, device.config.pixel_count - 1, false],\n            ];\n            const test = temp.filter(t => t.length === 4);\n            dispatch(updateDisplayConfig({ id: display.id, data: test }));\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            {deviceList.length > 0 ? (\n                <>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Add\"\n                        className={classes.button}\n                        endIcon={<AddCircleIcon />}\n                        onClick={handleClickListItem}\n                        role=\"listitem\"\n                    >\n                        ADD SEGMENT\n                    </Button>\n\n                    <ConfirmationDialogRaw\n                        classes={{\n                            paper: classes.paper,\n                        }}\n                        config={config}\n                        id=\"ringtone-menu\"\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        value={deviceList[0].name}\n                        deviceList={deviceList}\n                    />\n                </>\n            ) : (\n                <></>\n            )}\n        </div>\n    );\n}\n","import React, { useEffect } from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchDeviceList } from 'modules/devices';\nimport { handleSegmentChange } from 'modules/displays';\nconst PixelSlider = ({ s, i, display }) => {\n    const dispatch = useDispatch();\n    const devices = useSelector(state => state.devices.list);\n    useEffect(() => {\n        dispatch(fetchDeviceList);\n    }, [dispatch]);\n\n    const currentDevice = devices.find(reduxItem => reduxItem.id === s[0]);\n    if (!currentDevice) {\n        return <></>;\n    }\n    const pixelRange = [s[1], s[2]];\n\n    const handleChange = (event, newValue) => {\n        if (newValue !== pixelRange) {\n            dispatch(handleSegmentChange({ newValue, displayId: display.id, segIndex: i }));\n        }\n    };\n\n    const marks = [\n        { value: 0, label: 0 },\n        {\n            value: currentDevice.config.pixel_count - 1,\n            label: currentDevice.config.pixel_count - 1,\n        },\n    ];\n\n    return (\n        <Slider\n            value={pixelRange}\n            marks={marks}\n            min={0}\n            max={currentDevice.config.pixel_count - 1}\n            onChange={handleChange}\n            aria-labelledby=\"range-slider\"\n            valueLabelDisplay=\"auto\"\n        />\n    );\n};\n\nexport default PixelSlider;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PixelSlider from './PixelSlider';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PopoverSure from 'components/PopoverSure';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\nimport { handleSegmentChange, orderSegmentChange, deleteSegment } from 'modules/displays';\n\nconst useStyles = makeStyles(theme => ({\n    segmentsWrapper: {\n        display: 'flex',\n        borderBottom: '1px dashed #aaa',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '0.5rem 0',\n    },\n    segmentsColOrder: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    segmentsButtonUp: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        minWidth: '50px',\n    },\n    segmentsButtonDown: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        minWidth: '50px',\n        marginRight: '1rem',\n    },\n    segmentsColPixelSlider: {\n        flex: '0 1 70%',\n    },\n    segmentsColActions: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    '@media (max-width: 600px)': {\n        segmentsColPixelSlider: {\n            order: 3,\n            width: 'calc(100% - 2rem)',\n            margin: '2rem auto 0 auto',\n        },\n\n        segmentsWrapper: {\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n        },\n        segmentsColActions: {\n            position: 'absolute',\n            right: '1rem',\n        },\n    },\n}));\n\nconst Segment = ({ s, i, display }) => {\n    const devices = useSelector(state => state.devices.list);\n    const title = devices.find(d => d.id === s[0])['name'];\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const handleInvert = () => {\n        dispatch(handleSegmentChange({ segIndex: i, displayId: display.id, invert: true }));\n    };\n    const reorder = direction => {\n        dispatch(orderSegmentChange({ segIndex: i, displayId: display.id, order: direction }));\n    };\n    const handleDeleteSegment = direction => {\n        dispatch(deleteSegment({ segIndex: i, displayId: display.id }));\n    };\n\n    return (\n        <div style={{ padding: '0 1rem' }}>\n            <div className={classes.segmentsWrapper}>\n                <div className={classes.segmentsColOrder}>\n                    <div style={{ display: 'flex' }}>\n                        <div>\n                            <Button\n                                disabled={i === 0}\n                                variant={'outlined'}\n                                color={'inherit'}\n                                onClick={() => reorder('UP')}\n                                size={'small'}\n                                className={classes.segmentsButtonUp}\n                            >\n                                <ExpandLess />\n                            </Button>\n                        </div>\n                        <div>\n                            <Button\n                                disabled={i === display.segments.length - 1}\n                                variant={'outlined'}\n                                color={'inherit'}\n                                onClick={() => reorder('DOWN')}\n                                size={'small'}\n                                className={classes.segmentsButtonDown}\n                            >\n                                <ExpandMore />\n                            </Button>\n                        </div>\n                    </div>\n                    <div style={{ minWidth: '120px' }}>\n                        <Typography color=\"textSecondary\">{title}</Typography>\n                    </div>\n                </div>\n                <div className={classes.segmentsColPixelSlider}>\n                    <PixelSlider s={s} i={i} display={display} />\n                </div>\n                <div className={classes.segmentsColActions}>\n                    <div>\n                        <Button\n                            variant={s[3] ? 'contained' : 'outlined'}\n                            color={s[3] ? 'primary' : 'default'}\n                            endIcon={<SwapHorizIcon />}\n                            onClick={handleInvert}\n                            style={{ margin: '0 1rem 0 1.5rem' }}\n                        >\n                            Flip\n                        </Button>\n                    </div>\n                    <PopoverSure\n                        variant=\"outlined\"\n                        color=\"default\"\n                        onConfirm={handleDeleteSegment}\n                        style={{ padding: '5px' }}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Segment;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport SaveIcon from '@material-ui/icons/Save';\nimport AddSegmentDialog from './AddSegmentDialog';\nimport Segment from './Segment';\nimport { updateDisplayConfig } from 'modules/displays';\nimport { showdynSnackbar } from 'modules/ui';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nconst useStyles = makeStyles(theme => ({\n    appBar: {\n        position: 'relative',\n        marginBottom: '1rem',\n        background: theme.palette.background.default,\n        color: theme.palette.text.primary,\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n    dialog: {\n        background: theme.palette.background.default,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function FullScreenDialog({ display, icon, className }) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleSave = () => {\n        let output = {};\n        let overlap = false;\n        display.segments.forEach(([name, start, end, someBool]) => {\n            if (!(name in output)) {\n                output[name] = [];\n            }\n            for (let i = 0; i < output[name].length; i++) {\n                const [tmpStart, tmpEnd] = output[name][i];\n                if (!tmpStart) {\n                }\n                if (tmpEnd >= start) {\n                    overlap = true;\n                }\n                // console.log('HERE', tmpStart, tmpEnd, start, end);\n            }\n            output[name].push([start, end]);\n        });\n        if (overlap) {\n            dispatch(\n                showdynSnackbar({ message: 'Overlapping detected! Please Check your config' })\n            );\n        } else {\n            dispatch(updateDisplayConfig({ id: display.id, data: display.segments }));\n            // setOpen(false);\n        }\n    };\n\n    return (\n        <>\n            <Button\n                variant=\"contained\"\n                color={'default'}\n                onClick={handleClickOpen}\n                size=\"small\"\n                className={className}\n            >\n                {icon || <AddCircleIcon />}\n            </Button>\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <Button\n                            autoFocus\n                            color=\"primary\"\n                            variant=\"contained\"\n                            startIcon={<NavigateBeforeIcon />}\n                            onClick={handleClose}\n                            style={{ marginRight: '1rem' }}\n                        >\n                            back\n                        </Button>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            {display.config.name}{' '}\n                        </Typography>\n                        <div>\n                            <Button\n                                autoFocus\n                                color=\"primary\"\n                                variant=\"contained\"\n                                endIcon={<SaveIcon />}\n                                onClick={handleSave}\n                            >\n                                save\n                            </Button>\n                        </div>\n                    </Toolbar>\n                </AppBar>\n\n                <div\n                    style={{\n                        display: 'flex',\n                        borderBottom: '1px dashed #aaa',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        padding: '0.5rem 0',\n                        margin: '0 1rem',\n                    }}\n                >\n                    <Typography variant=\"caption\">Segments-Settings</Typography>\n                </div>\n                {display.segments.length > 0 &&\n                    display.segments.map((s, i) => (\n                        <Segment s={s} i={i} key={i} display={display} />\n                    ))}\n                <div\n                    style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        padding: '0.5rem 0',\n                        margin: '0 1rem',\n                    }}\n                >\n                    <AddSegmentDialog display={display} />\n                </div>\n            </Dialog>\n        </>\n    );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Button from '@material-ui/core/Button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Icon from '@material-ui/core/Icon';\nimport { Switch } from '@material-ui/core';\nimport PopoverSure from 'components/PopoverSure';\nimport DisplaySegmentsDialog from 'components/DisplaySegmentsDialog';\nimport { camelToSnake } from 'utils/helpers';\nconst styles = theme => ({\n    deleteButton: {\n        minWidth: 32,\n    },\n    editButton: {\n        minWidth: 32,\n        marginLeft: theme.spacing(1),\n    },\n    displayLink: {\n        textDecoration: 'none',\n        color: 'inherit',\n        '&:hover': {\n            color: theme.palette.primary.main,\n        },\n    },\n});\n\nfunction DisplaysTableItem({\n    display,\n    device,\n    onDelete,\n    classes,\n    onEditDevice,\n    onEditDisplay,\n    deviceList,\n}) {\n    const handleDeleteDevice = () => {\n        onDelete(display.id);\n    };\n\n    const handleEditDisplay = () => {\n        onEditDisplay(display);\n    };\n    const handleEditDevice = () => {\n        onEditDevice(deviceList.find(d => d.id === display.is_device));\n    };\n\n    return (\n        <TableRow key={display.id}>\n            <TableCell component=\"th\" scope=\"row\" width=\"35px\">\n                <Icon style={{ verticalAlign: 'bottom' }}>\n                    {camelToSnake(display.config.icon_name || 'SettingsInputComponent')}\n                </Icon>\n            </TableCell>\n            <TableCell>\n                <NavLink\n                    to={'/displays/' + display.id}\n                    className={classes.displayLink}\n                    key={display.id}\n                    color=\"inherit\"\n                >\n                    {display.config.name}\n                </NavLink>\n            </TableCell>\n            <TableCell>{display.config.max_brightness}</TableCell>\n            <TableCell>{display.config.crossfade}</TableCell>\n            <TableCell>{display.config.center_offset}</TableCell>\n            <TableCell>\n                <Switch checked={display.config.preview_only} />\n            </TableCell>\n            <TableCell align=\"right\">\n                <PopoverSure onConfirm={handleDeleteDevice} className={classes.deleteButton} />\n\n                {display.is_device ? (\n                    <Button\n                        variant=\"contained\"\n                        size=\"small\"\n                        className={classes.editButton}\n                        onClick={handleEditDevice}\n                    >\n                        <SettingsIcon />\n                    </Button>\n                ) : (\n                    <DisplaySegmentsDialog\n                        display={display}\n                        className={classes.editButton}\n                        icon={<SettingsIcon />}\n                    />\n                )}\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    className={classes.editButton}\n                    onClick={handleEditDisplay}\n                >\n                    <EditIcon />\n                </Button>\n            </TableCell>\n        </TableRow>\n    );\n}\n\nDisplaysTableItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n    display: PropTypes.object.isRequired,\n    onDelete: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DisplaysTableItem);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\n\nimport DisplaysTableItem from './DisplaysTableItem.jsx';\n\nconst styles = theme => ({\n    table: {\n        borderSpacing: '0',\n        borderCollapse: 'collapse',\n    },\n    tableResponsive: {\n        overflowX: 'auto',\n    },\n});\n\nfunction DisplaysTable({\n    onDeleteDisplay,\n    classes,\n    items,\n    onEditDevice,\n    onEditDisplay,\n    deviceList,\n}) {\n    return (\n        <div className={classes.tableResponsive}>\n            <Table className={classes.table}>\n                <TableHead>\n                    <TableRow>\n                        <TableCell></TableCell>\n                        <TableCell>Name</TableCell>\n                        <TableCell>Max Brightness</TableCell>\n                        <TableCell>Crossfade</TableCell>\n                        <TableCell>Center-Offset</TableCell>\n                        <TableCell>Preview-Only</TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n\n                <TableBody>\n                    {items.map(display => (\n                        <DisplaysTableItem\n                            key={display.id}\n                            display={display}\n                            deviceList={deviceList}\n                            onDelete={onDeleteDisplay}\n                            onEditDevice={onEditDevice}\n                            onEditDisplay={onEditDisplay}\n                        />\n                    ))}\n                </TableBody>\n            </Table>\n        </div>\n    );\n}\n\nDisplaysTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n    items: PropTypes.array.isRequired,\n};\n\nexport default withStyles(styles)(DisplaysTable);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n        margin: theme.spacing(1),\n        width: '100%',\n    },\n}));\n\nfunction DropDown({ onChange, value, options, label }) {\n    const classes = useStyles();\n\n    const handleChange = ({ target: { value } }) => {\n        if (onChange) {\n            onChange(value);\n        }\n    };\n    return (\n        <FormControl className={classes.control}>\n            {label && <InputLabel>{label}</InputLabel>}\n            <Select value={value} onChange={handleChange}>\n                <MenuItem value=\"\" select=\"selected\">\n                    <Typography>None</Typography>\n                </MenuItem>\n\n                {options.map(({ display, value }) => {\n                    return (\n                        <MenuItem key={value} value={value}>\n                            <Typography>{display}</Typography>\n                        </MenuItem>\n                    );\n                })}\n            </Select>\n        </FormControl>\n    );\n}\n\nDropDown.propTypes = {\n    onChange: PropTypes.func.isRequired,\n    options: PropTypes.array,\n    value: PropTypes.string,\n};\nDropDown.defaultProps = {\n    classes: '',\n    options: [],\n    value: '',\n};\n\nexport default DropDown;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SchemaForm } from 'react-schema-form';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Collapse from '@material-ui/core/Collapse';\n\nconst useStyles = makeStyles(theme => ({\n    flexWrap: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    schemaForm: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n}));\n\nfunction AdditionalProperties({ form, model, schema, onChange, open }) {\n    const classes = useStyles();\n\n    const handleChange = (...args) => {\n        if (onChange) {\n            onChange(...args);\n        }\n    };\n\n    return (\n        <Collapse in={open}>\n            <div className={classes.flexWrap}>\n                <SchemaForm\n                    className={classes.schemaForm}\n                    schema={schema}\n                    form={form}\n                    model={model}\n                    onModelChange={handleChange}\n                />\n            </div>\n        </Collapse>\n    );\n}\n\nAdditionalProperties.propTypes = {\n    onChange: PropTypes.func.isRequired,\n    form: PropTypes.array,\n    model: PropTypes.object,\n    scheme: PropTypes.object,\n};\nAdditionalProperties.defaultProps = {\n    classes: '',\n    form: [],\n    model: {},\n    scheme: {},\n};\n\nexport default AdditionalProperties;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SchemaForm, utils } from 'react-schema-form';\nimport clsx from 'clsx';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Box from '@material-ui/core/Box';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\nimport DropDown from 'components/forms/DropDown';\nimport AdditionalProperties from './AdditionalProperties';\n\nconst styles = theme => ({\n    form: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    schemaForm: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        width: '100%',\n    },\n    bottomContainer: {\n        flex: 1,\n        marginTop: 8,\n    },\n    actionButtons: {\n        '& > *': {\n            marginLeft: theme.spacing(2),\n        },\n    },\n    expandIcon: {\n        transform: 'rotate(180deg)',\n    },\n});\n\nclass DeviceConfigDialog extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            deviceType: '',\n            model: {},\n            additionalPropertiesOpen: false,\n        };\n    }\n\n    componentDidMount() {\n        const { initial } = this.props;\n        if (initial.type) {\n            this.handleTypeChange(initial.type, initial.config);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        const { initial } = this.props;\n        if (initial !== prevProps.initial) {\n            this.handleTypeChange(initial.type, initial.config);\n        }\n    }\n\n    handleTypeChange = (value, initial = {}) => {\n        this.setState({ deviceType: value, model: initial });\n    };\n\n    onModelChange = (key, val) => {\n        utils.selectOrSet(key, this.state.model, val);\n    };\n\n    toggleShowAdditional = e => {\n        this.setState(prevState => ({\n            additionalPropertiesOpen: !prevState.additionalPropertiesOpen,\n        }));\n    };\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleSubmit = () => {\n        const { initial, onAddDevice, onUpdateDevice } = this.props;\n        const { deviceType, model: config } = this.state;\n\n        if (initial.id) {\n            onUpdateDevice(initial.id, deviceType, config);\n        } else {\n            onAddDevice(deviceType, config);\n        }\n\n        this.props.onClose();\n    };\n\n    render() {\n        const { classes, deviceTypes, open, initial } = this.props;\n        const { model, additionalPropertiesOpen, deviceType } = this.state;\n\n        const currentSchema = {\n            type: 'object',\n            title: 'Configuration',\n            properties: {},\n            ...(deviceType ? deviceTypes[deviceType].schema : {}),\n        };\n\n        const requiredKeys = currentSchema.required;\n        const optionalKeys = Object.keys(currentSchema.properties).filter(\n            key => !(requiredKeys && requiredKeys.some(rk => key === rk))\n        );\n        const showAdditionalUi = optionalKeys.length > 0;\n\n        return (\n            <Dialog\n                onClose={this.handleClose}\n                className={classes.cardResponsive}\n                aria-labelledby=\"form-dialog-title\"\n                disableBackdropClick\n                open={open}\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {initial.id ? 'Edit Device' : 'Add Device'}\n                </DialogTitle>\n                <DialogContent className={classes.cardResponsive}>\n                    <DialogContentText>\n                        To add a device to LedFx, please first select the type of device you wish to\n                        add then provide the necessary configuration.\n                    </DialogContentText>\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\n                        <DropDown\n                            label=\"Type\"\n                            value={deviceType}\n                            options={Object.keys(deviceTypes).map(key => ({\n                                value: key,\n                                display: key,\n                            }))}\n                            onChange={this.handleTypeChange}\n                        />\n\n                        <SchemaForm\n                            className={classes.schemaForm}\n                            schema={currentSchema}\n                            form={requiredKeys}\n                            model={model}\n                            onModelChange={this.onModelChange}\n                        />\n\n                        {showAdditionalUi && (\n                            <AdditionalProperties\n                                schema={currentSchema}\n                                form={optionalKeys}\n                                model={model}\n                                onChange={this.onModelChange}\n                                open={additionalPropertiesOpen}\n                            />\n                        )}\n\n                        <DialogActions className={classes.bottomContainer}>\n                            {showAdditionalUi && (\n                                <Button\n                                    size=\"medium\"\n                                    className={classes.additionalButton}\n                                    onClick={this.toggleShowAdditional}\n                                >\n                                    <ExpandMoreIcon\n                                        color=\"disabled\"\n                                        className={clsx({\n                                            [classes.expandIcon]: additionalPropertiesOpen,\n                                        })}\n                                    />\n                                    {`Show ${!additionalPropertiesOpen ? 'More' : 'Less'}`}\n                                </Button>\n                            )}\n                            <Box\n                                flex={1}\n                                display=\"flex\"\n                                justifyContent=\"flex-end\"\n                                className={classes.actionButtons}\n                            >\n                                <Button\n                                    className={classes.button}\n                                    onClick={this.handleCancel}\n                                    color=\"primary\"\n                                >\n                                    {'Cancel'}\n                                </Button>\n                                <Button\n                                    className={classes.button}\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disabled={!deviceType}\n                                >\n                                    {'Submit'}\n                                </Button>\n                            </Box>\n                        </DialogActions>\n                    </form>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\n\nexport default withStyles(styles)(DeviceConfigDialog);\n\nDeviceConfigDialog.propTypes = {\n    deviceTypes: PropTypes.object,\n};\n\nDeviceConfigDialog.defaultProps = {\n    deviceTypes: {},\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SchemaForm } from 'react-schema-form';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Collapse from '@material-ui/core/Collapse';\n\nconst useStyles = makeStyles(theme => ({\n    flexWrap: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    schemaForm: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n}));\n\nfunction AdditionalProperties({ form, model, schema, onChange, open }) {\n    const classes = useStyles();\n\n    const handleChange = (...args) => {\n        if (onChange) {\n            onChange(...args);\n        }\n    };\n\n    return (\n        <Collapse in={open}>\n            <div className={classes.flexWrap}>\n                <SchemaForm\n                    className={classes.schemaForm}\n                    schema={schema}\n                    form={form}\n                    model={model}\n                    onModelChange={handleChange}\n                />\n            </div>\n        </Collapse>\n    );\n}\n\nAdditionalProperties.propTypes = {\n    onChange: PropTypes.func.isRequired,\n    form: PropTypes.array,\n    model: PropTypes.object,\n    schema: PropTypes.object,\n};\nAdditionalProperties.defaultProps = {\n    classes: '',\n    form: [],\n    model: {},\n    schema: {},\n};\n\nexport default AdditionalProperties;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport { SchemaForm, utils } from 'react-schema-form';\nimport clsx from 'clsx';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Box from '@material-ui/core/Box';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\n// import DropDown from 'components/forms/DropDown';\nimport AdditionalProperties from './AdditionalProperties';\n\nconst styles = theme => ({\n    form: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    schemaForm: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        width: '100%',\n    },\n    bottomContainer: {\n        flex: 1,\n        marginTop: 8,\n    },\n    actionButtons: {\n        '& > *': {\n            marginLeft: theme.spacing(2),\n        },\n    },\n    expandIcon: {\n        transform: 'rotate(180deg)',\n    },\n});\n\nclass DisplayConfigDialog extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            model: {},\n            additionalPropertiesOpen: false,\n        };\n    }\n    toggleShowAdditional = e => {\n        this.setState(prevState => ({\n            additionalPropertiesOpen: !prevState.additionalPropertiesOpen,\n        }));\n    };\n    onModelChange = (key, val) => {\n        utils.selectOrSet(key, this.state.model, val);\n    };\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleSubmit = () => {\n        const { initial, onAddDisplay, onUpdateDisplay } = this.props;\n        const { model: config } = this.state;\n\n        if (initial.id) {\n            onUpdateDisplay(initial.id, config);\n        } else {\n            onAddDisplay({ config });\n        }\n        // alert(\"NOT YET BROO\")\n        this.props.onClose();\n    };\n\n    render() {\n        const { classes, open, displays } = this.props;\n        const { model, additionalPropertiesOpen } = this.state;\n\n        const currentSchema = {\n            type: 'object',\n            title: 'Configuration',\n            properties: {},\n            ...(displays ? displays.schema : {}),\n        };\n\n        const requiredKeys = currentSchema.required;\n        const optionalKeys = Object.keys(currentSchema.properties).filter(\n            key => !(requiredKeys && requiredKeys.some(rk => key === rk))\n        );\n        const showAdditionalUi = optionalKeys.length > 0;\n\n        return (\n            <Dialog\n                onClose={this.handleClose}\n                className={classes.cardResponsive}\n                aria-labelledby=\"form-dialog-title\"\n                disableBackdropClick\n                open={open}\n            >\n                <DialogTitle id=\"form-dialog-title\">Add Display</DialogTitle>\n                <DialogContent className={classes.cardResponsive}>\n                    <DialogContentText>\n                        To add a device to LedFx, please first select the type of device you wish to\n                        add then provide the necessary configuration.\n                    </DialogContentText>\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\n                        <SchemaForm\n                            className={classes.schemaForm}\n                            schema={currentSchema}\n                            form={requiredKeys}\n                            model={model}\n                            onModelChange={this.onModelChange}\n                        />\n\n                        {showAdditionalUi && (\n                            <AdditionalProperties\n                                schema={currentSchema}\n                                form={optionalKeys}\n                                model={model}\n                                onChange={this.onModelChange}\n                                open={additionalPropertiesOpen}\n                            />\n                        )}\n\n                        <DialogActions className={classes.bottomContainer}>\n                            <Box\n                                flex={1}\n                                display=\"flex\"\n                                justifyContent=\"flex-end\"\n                                className={classes.actionButtons}\n                            >\n                                {showAdditionalUi && (\n                                    <Button\n                                        size=\"medium\"\n                                        className={classes.additionalButton}\n                                        onClick={this.toggleShowAdditional}\n                                    >\n                                        <ExpandMoreIcon\n                                            color=\"disabled\"\n                                            className={clsx({\n                                                [classes.expandIcon]: additionalPropertiesOpen,\n                                            })}\n                                        />\n                                        {`Show ${!additionalPropertiesOpen ? 'More' : 'Less'}`}\n                                    </Button>\n                                )}\n                                <Button\n                                    className={classes.button}\n                                    onClick={this.handleCancel}\n                                    color=\"primary\"\n                                >\n                                    {'Cancel'}\n                                </Button>\n                                <Button\n                                    className={classes.button}\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                >\n                                    {'Submit'}\n                                </Button>\n                            </Box>\n                        </DialogActions>\n                    </form>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\n\nexport default withStyles(styles)(DisplayConfigDialog);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport DisplaysTable from 'components/DisplaysTable';\nimport DeviceConfigDialog from 'components/DeviceConfigDialog';\nimport DisplayConfigDialog from 'components/DisplayConfigDialog';\nimport { addDevice, updateDeviceConfig, fetchDeviceList, findWLEDDevices } from 'modules/devices';\nimport { deleteDisplay, fetchDisplayList, addDisplay } from 'modules/displays';\nimport { updateDisplay } from 'proxies/display';\n\nconst styles = theme => ({\n    cardResponsive: {\n        width: '100%',\n        overflowX: 'auto',\n    },\n    button: {\n        size: 'large',\n        margin: theme.spacing(1),\n    },\n    dialogButton: {\n        float: 'right',\n    },\n});\n\nclass DevicesView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            addDialogOpened: false,\n            addDisplayOpened: false,\n            selectedDevice: {},\n            selectedDisplay: {},\n            searchDevicesLoading: false,\n        };\n    }\n    componentDidMount() {\n        const { fetchDeviceList, fetchDisplayList } = this.props;\n        fetchDeviceList();\n\n        fetchDisplayList();\n    }\n\n    openAddDeviceDialog = () => {\n        this.setState({ selectedDevice: {}, addDialogOpened: true });\n    };\n    openAddDisplayDialog = () => {\n        this.setState({ selectedDisplay: {}, addDisplayOpened: true });\n    };\n\n    closeAddDeviceDialog = () => {\n        this.setState({ selectedDevice: {}, addDialogOpened: false });\n    };\n    closeAddDisplayDialog = () => {\n        this.setState({ selectedDisplay: {}, addDisplayOpened: false });\n    };\n\n    handleEditDevice = device => {\n        this.setState({ selectedDevice: device, addDialogOpened: true });\n    };\n    handleEditDisplay = display => {\n        this.setState({ selectedDisplay: display, addDisplayOpened: true });\n    };\n    handleFindDevices = () => {\n        const { findWLEDDevices } = this.props;\n        this.setState({ searchDevicesLoading: true });\n        new Promise((resolve, reject) => {\n            findWLEDDevices({ resolve, reject });\n        }).then(() => {\n            this.setState({ searchDevicesLoading: false });\n        });\n    };\n\n    render() {\n        const {\n            classes,\n            deviceList,\n            displayList,\n            deleteDisplay,\n            schemas,\n            addDevice,\n            addDisplay,\n            updateDeviceConfig,\n            scanProgress,\n        } = this.props;\n        const { addDialogOpened, selectedDevice } = this.state;\n        const { addDisplayOpened, selectedDisplay } = this.state;\n\n        return (\n            <>\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <Card>\n                            <CardContent>\n                                <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\n                                    <Grid item xs=\"auto\">\n                                        <Typography variant=\"h5\">Devices</Typography>\n                                        <Typography\n                                            variant=\"body1\"\n                                            color=\"textSecondary\"\n                                        ></Typography>\n                                    </Grid>\n                                    {!schemas.isLoading && (\n                                        <>\n                                            <Grid item>\n                                                <Box\n                                                    display=\"flex\"\n                                                    flexDirection=\"row\"\n                                                    alignItems=\"center\"\n                                                    justifyContent=\"center\"\n                                                >\n                                                    <CircularProgress\n                                                        variant=\"determinate\"\n                                                        value={scanProgress * 10}\n                                                        size={35}\n                                                    />\n                                                    <Tooltip\n                                                        title={\n                                                            <ul style={{ padding: '0.5rem' }}>\n                                                                <li>\n                                                                    Ensure WLED Devices are on and\n                                                                    connected to your WiFi.\n                                                                </li>\n                                                                <li>\n                                                                    If not detected, check WLED\n                                                                    device mDNS setting. Go to:\n                                                                </li>\n                                                                <li>\n                                                                    WLED device ip - Config - WiFi\n                                                                    Setup - mDNS Address{' '}\n                                                                </li>\n                                                            </ul>\n                                                        }\n                                                        interactive\n                                                        arrow\n                                                    >\n                                                        <Button\n                                                            variant=\"contained\"\n                                                            color=\"primary\"\n                                                            aria-label=\"Scan\"\n                                                            disabled={\n                                                                this.state.searchDevicesLoading\n                                                            }\n                                                            className={classes.button}\n                                                            onClick={this.handleFindDevices}\n                                                            endIcon={<WifiTetheringIcon />}\n                                                        >\n                                                            Find WLED Devices\n                                                        </Button>\n                                                    </Tooltip>\n                                                    <Tooltip\n                                                        title={\n                                                            <ul style={{ padding: '0.5rem' }}>\n                                                                <li>\n                                                                    A virtual device lets you\n                                                                    control the mapping of an effect\n                                                                    onto devices. You can:\n                                                                </li>\n                                                                <li>\n                                                                    Split a device to show multiple\n                                                                    effects\n                                                                </li>\n                                                                <li>\n                                                                    Combine devices to show a single\n                                                                    effect\n                                                                </li>\n                                                                <li>\n                                                                    Or any combination of the two!\n                                                                </li>\n                                                            </ul>\n                                                        }\n                                                        interactive\n                                                        arrow\n                                                    >\n                                                        <Button\n                                                            variant=\"contained\"\n                                                            color=\"primary\"\n                                                            aria-label=\"Scan\"\n                                                            className={classes.button}\n                                                            onClick={this.openAddDisplayDialog}\n                                                            endIcon={<AddCircleIcon />}\n                                                        >\n                                                            Add Virtual Device\n                                                        </Button>\n                                                    </Tooltip>\n                                                    <Button\n                                                        variant=\"contained\"\n                                                        color=\"primary\"\n                                                        aria-label=\"Add\"\n                                                        className={classes.button}\n                                                        onClick={this.openAddDeviceDialog}\n                                                        endIcon={<AddCircleIcon />}\n                                                    >\n                                                        Add Device\n                                                    </Button>\n                                                    <DeviceConfigDialog\n                                                        open={addDialogOpened}\n                                                        onClose={this.closeAddDeviceDialog}\n                                                        deviceTypes={schemas.deviceTypes}\n                                                        onAddDevice={addDevice}\n                                                        initial={selectedDevice}\n                                                        onUpdateDevice={updateDeviceConfig}\n                                                    />\n                                                    <DisplayConfigDialog\n                                                        open={addDisplayOpened}\n                                                        displays={schemas.displays}\n                                                        onClose={this.closeAddDisplayDialog}\n                                                        onAddDisplay={addDisplay}\n                                                        initial={selectedDisplay}\n                                                        onUpdateDisplay={updateDisplay}\n                                                    />\n                                                </Box>\n                                            </Grid>\n                                        </>\n                                    )}\n                                </Grid>\n\n                                <DisplaysTable\n                                    items={displayList}\n                                    deviceList={deviceList}\n                                    onEditDevice={this.handleEditDevice}\n                                    onDeleteDisplay={deleteDisplay}\n                                    onEditDisplay={this.handleEditDisplay}\n                                />\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                </Grid>\n            </>\n        );\n    }\n}\n\nexport default connect(\n    state => ({\n        deviceList: state.devices.list,\n        displayList: state.displays.list || [],\n        schemas: state.schemas,\n        scanProgress: state.devices.scanProgress,\n    }),\n    {\n        addDevice,\n        addDisplay,\n        deleteDisplay,\n        updateDeviceConfig,\n        fetchDeviceList,\n        findWLEDDevices,\n        fetchDisplayList,\n    }\n)(withStyles(styles)(DevicesView));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\n\nconst SceneConfigTable = ({ devices }) => (\n    <Table>\n        <TableHead>\n            <TableRow>\n                <TableCell>Device</TableCell>\n                <TableCell>Effect</TableCell>\n            </TableRow>\n        </TableHead>\n        <TableBody>{renderRows(devices)}</TableBody>\n    </Table>\n);\n\nconst renderRows = devices =>\n    Object.keys(devices)\n        .filter(id => !!devices[id].type)\n        .map(id => (\n            <TableRow key={id}>\n                <TableCell>{id}</TableCell>\n                <TableCell>{devices[id].type}</TableCell>\n            </TableRow>\n        ));\n\nSceneConfigTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n    devices: PropTypes.object.isRequired,\n};\n\nexport default SceneConfigTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport SceneConfigTable from 'components/SceneCard/SceneConfigTable';\nimport PopoverSure from 'components/PopoverSure';\n\nconst useStyles = makeStyles(theme => ({\n    deleteButton: {\n        margin: theme.spacing(1),\n        size: 'medium',\n    },\n    button: {\n        color: 'primary',\n        margin: theme.spacing(1),\n        size: 'medium',\n        variant: 'contained',\n    },\n    submitControls: {\n        flex: 1,\n        justifyContent: 'flex-end',\n    },\n}));\n\nexport default function SceneCard({ scene, activateScene, deleteScene }) {\n    const classes = useStyles();\n\n    const handleActivate = () => {\n        activateScene(scene.id);\n    };\n\n    const handleDelete = () => {\n        deleteScene(scene.id);\n    };\n\n    return (\n        <Card>\n            <CardHeader title={scene.name} />\n            <CardContent>\n                {scene.devices && <SceneConfigTable classes={classes} devices={scene.devices} />}\n            </CardContent>\n            <CardActions className={classes.submitControls}>\n                <PopoverSure onConfirm={handleDelete} label=\"delete\" size=\"medium\" />\n                <Button\n                    className={classes.button}\n                    aria-label=\"Activate\"\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={handleActivate}\n                    endIcon={<CheckCircleIcon />}\n                >\n                    Activate\n                </Button>\n            </CardActions>\n        </Card>\n    );\n}\n\nSceneCard.propTypes = {\n    scene: PropTypes.object.isRequired,\n    deleteScene: PropTypes.func.isRequired,\n    activateScene: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport ScenesCard from 'components/SceneCard';\nimport AddSceneCard from 'components/AddSceneCard';\nimport { getScenes, addScene, activateScene, deleteScene } from 'modules/scenes';\nimport { fetchDisplayList } from 'modules/displays';\n\nconst styles = theme => ({\n    cardResponsive: {\n        width: '100%',\n        overflowX: 'auto',\n    },\n    button: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    dialogButton: {\n        float: 'right',\n    },\n    spinnerContainer: {\n        height: '10rem',\n    },\n});\n\nclass ScenesView extends React.Component {\n    componentDidMount() {\n        this.props.getScenes();\n        this.props.fetchDisplayList();\n    }\n\n    handleAddScene = name => {\n        const { addScene } = this.props;\n        addScene(name);\n    };\n\n    render() {\n        const { scenes, classes, deleteScene, activateScene } = this.props;\n\n        return (\n            <Grid container direction=\"row\" spacing={4}>\n                <Grid item xs={12}>\n                    <AddSceneCard scenes={scenes} addScene={this.handleAddScene} />\n                </Grid>\n                {scenes.isLoading ? (\n                    <Grid\n                        container\n                        justify=\"center\"\n                        alignContent=\"center\"\n                        className={classes.spinnerContainer}\n                    >\n                        <CircularProgress size={80} />\n                    </Grid>\n                ) : (\n                    scenes.list.map(scene => (\n                        <Grid key={scene.name} item xs={12} md={4}>\n                            <ScenesCard\n                                key={scene.id}\n                                scene={scene}\n                                deleteScene={deleteScene}\n                                activateScene={activateScene}\n                            />\n                        </Grid>\n                    ))\n                )}\n            </Grid>\n        );\n    }\n}\n\nexport default connect(\n    state => ({\n        scenes: state.scenes,\n    }),\n    { getScenes, addScene, activateScene, deleteScene, fetchDisplayList }\n)(withStyles(styles)(ScenesView));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nimport { loadDeviceInfo, setDeviceEffect, clearDeviceEffect } from 'modules/selectedDevice';\nimport { fetchDeviceList } from 'modules/devices';\nimport { fetchDisplayList } from 'modules/displays';\nimport { activatePreset, getEffectPresets, addPreset } from 'modules/presets';\n// import EffectControl from 'components/EffectControl';\n// import EffectControlBlade from 'components/EffectControl/blade';\nimport PixelColorGraph from 'components/PixelColorGraph';\n// import PresetsCard from 'components/PresetsCard';\n\nclass DeviceView extends React.Component {\n    componentDidMount() {\n        const { deviceId } = this.props.match.params;\n        this.handleLoadDevice(deviceId);\n        this.props.fetchDeviceList();\n        this.props.fetchDisplayList();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const { deviceId } = this.props.match.params;\n        const { deviceId: newDeviceId } = nextProps.match.params;\n        if (deviceId !== newDeviceId) {\n            this.handleLoadDevice(newDeviceId);\n        }\n    }\n\n    handleLoadDevice = deviceId => {\n        const { loadDeviceInfo } = this.props;\n        loadDeviceInfo(deviceId);\n    };\n\n    handleClearEffect = deviceId => {\n        const { clearDeviceEffect } = this.props;\n        clearDeviceEffect(deviceId);\n    };\n\n    handleSetEffect = data => {\n        const { setDeviceEffect } = this.props;\n        setDeviceEffect(data.deviceId, data);\n    };\n\n    handleTypeChange = effectType => {\n        const { getEffectPresets } = this.props;\n        getEffectPresets(effectType);\n    };\n\n    render() {\n        const { devices, schemas, selectedDevice } = this.props;\n        const { device, effect, isDeviceLoading } = selectedDevice;\n\n        if (schemas.isLoading || isDeviceLoading || !device) {\n            return <p>Loading</p>;\n        }\n\n        if (\n            devices.find(d => d.id === device.id) &&\n            !devices.find(d => d.id === device.id).displays\n        ) {\n            return (\n                <>\n                    <Card>\n                        <CardContent>\n                            <PixelColorGraph device={device} />\n                        </CardContent>\n                    </Card>\n                    <Grid container direction=\"row\" spacing={4}>\n                        {renderPixelGraph(device, effect)}\n\n                        {/* {parseInt(window.localStorage.getItem('BladeMod')) > 3 && (\n                            <Grid item xs={12} lg={6}>\n                                <Card>\n                                    <CardContent>\n                                        <EffectControlBlade\n                                            device={device}\n                                            effect={effect}\n                                            schemas={schemas}\n                                            onClear={this.handleClearEffect}\n                                            onSubmit={this.handleSetEffect}\n                                            onTypeChange={this.handleTypeChange}\n                                        />\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n                        )} */}\n                    </Grid>\n                </>\n            );\n        }\n        return (\n            <>\n                <Card>\n                    <CardContent>\n                        <PixelColorGraph device={device} />\n                    </CardContent>\n                </Card>\n                {parseInt(window.localStorage.getItem('BladeMod')) > 2 && <Card style={{ marginTop: '2rem' }}>\n                    <CardContent>\n                        <Typography variant=\"h5\">Displays</Typography>\n\n                        <Typography color=\"textSecondary\">\n                            These displays are outputting to this device:\n                        </Typography>\n                        <ul>\n                            {devices.find(d => d.id === device.id) &&\n                                devices\n                                    .find(d => d.id === device.id)\n                                    .displays.map(display => <li key={display}>{display}</li>)}\n                        </ul>\n                    </CardContent>\n                </Card>}\n\n            </>\n        );\n    }\n}\n\nconst renderPixelGraph = (device, effect) => {\n    if (device && effect?.name) {\n        return (\n            <Grid item xs={12}>\n                <Card>\n                    <CardContent>\n                        <PixelColorGraph device={device} />\n                    </CardContent>\n                </Card>\n            </Grid>\n        );\n    }\n};\n\nDeviceView.propTypes = {\n    schemas: PropTypes.object.isRequired,\n    selectedDevice: PropTypes.object.isRequired,\n};\n\nexport default connect(\n    state => ({\n        schemas: state.schemas,\n        selectedDevice: state.selectedDevice,\n        presets: state.presets,\n        devices: state.devices.list,\n    }),\n    {\n        loadDeviceInfo,\n        clearDeviceEffect,\n        setDeviceEffect,\n        activatePreset,\n        getEffectPresets,\n        addPreset,\n        fetchDeviceList,\n        fetchDisplayList,\n    }\n)(DeviceView);\n","import React from 'react';\nimport {ComposedComponent} from 'react-schema-form';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Box from '@material-ui/core/Box';\nimport debounce from 'debounce';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n        width: '100%',\n        flex: '1 0 30%',\n    },\n    valueLabel: {\n        transformOrigin: 'top right',\n    }\n}));\n\nfunction valuetext(value) {\n    return value.toString();\n}\n\nconst SliderComponent = props => {\n    const {\n        form: { schema },\n        value,\n        onChangeValidate,\n    } = props;\n\n    const debouncedOnChangeHandler = debounce(onChangeValidate, 200)\n\n    const onChange = (e, newValue) => {\n        debouncedOnChangeHandler(newValue);\n    };\n\n    const classes = useStyles();\n\n    const marks = [\n        {\n            value: schema.minimum,\n            label: schema.minimum,\n        },\n        {\n            value: schema.maximum,\n            label: schema.maximum,\n        },\n    ];\n\n    return (\n        <div className={classes.root}>\n            <Box display=\"flex\" justifyContent=\"space-between\">\n                <InputLabel id=\"discrete-slider\" shrink>\n                    {schema.title}\n                </InputLabel>\n                <InputLabel shrink className={classes.valueLabel}>\n                    {value}\n                </InputLabel>\n            </Box>\n            <Slider\n                defaultValue={schema.default}\n                getAriaValueText={valuetext}\n                aria-labelledby=\"discrete-slider\"\n                step={0.001}\n                marks={marks}\n                valueLabelDisplay=\"auto\"\n                min={schema.minimum}\n                max={schema.maximum}\n                onChange={onChange}\n            />\n        </div>\n    );\n};\n\n// export default SliderComponent;\nexport default ComposedComponent(SliderComponent);\n","import React from 'react';\n// import  {NumberField as DefaultNumberField} from 'react-schema-form/core';\n\nimport Slider from './customFields/Slider';\n\nconst mapper = {\n    number: props => {\n        const {\n            form: {\n                schema\n            },\n        } = props;\n\n        if (schema.minimum !== undefined && schema.maximum !== undefined) {\n            return <Slider {...props} />;\n        }\n\n        return <div {...props}/>\n    },\n};\n\nexport default mapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SchemaForm, utils } from 'react-schema-form';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Box from '@material-ui/core/Box';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CasinoIcon from '@material-ui/icons/Casino';\n\nimport DropDown from 'components/forms/DropDown';\nimport mapper from 'components/SchemaForm/mapper';\n\nconst styles = theme => ({\n    form: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    schemaForm: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        width: '100%',\n    },\n    bottomContainer: {\n        flex: 1,\n        marginTop: 8,\n    },\n    actionButtons: {\n        '& > *': {\n            marginLeft: theme.spacing(2),\n        },\n    },\n    expandIcon: {\n        transform: 'rotate(180deg)',\n    },\n});\n\nclass DisplayEffectControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            selectedType: '',\n            model: {},\n        };\n    }\n\n    componentDidMount() {\n        const { effect } = this.props;\n        if (effect.type) {\n            this.handleTypeChange(effect?.type, effect.config);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        const { effect } = this.props;\n        if (effect.type !== prevProps.effect.type || effect?.config !== prevProps.effect?.config) {\n            this.handleTypeChange(effect.type, effect.config);\n        }\n    }\n\n    handleTypeChange = (value = '', initial = {}) => {\n        const { onTypeChange } = this.props;\n        this.setState({ selectedType: value, model: initial });\n        if (onTypeChange) {\n            onTypeChange(value);\n        }\n    };\n\n    onModelChange = (key, val) => {\n        const model = utils.selectOrSet(key, this.state.model, val);\n        this.setState({ model });\n    };\n\n    handleSubmit = e => {\n        const { onSubmit, display } = this.props;\n        const { selectedType, model } = this.state;\n\n        e.preventDefault();\n        if (onSubmit) {\n            onSubmit({ displayId: display.id, type: selectedType, config: model });\n        }\n    };\n\n    handleRandomize = e => {\n        const { onSubmit, display } = this.props;\n        const { selectedType } = this.state;\n\n        e.preventDefault();\n        if (onSubmit) {\n            onSubmit({ displayId: display.id, type: selectedType, config: 'RANDOMIZE' });\n        }\n    };\n\n    handleClearEffect = () => {\n        const { onClear, display } = this.props;\n        onClear(display.id);\n    };\n\n    render() {\n        const { classes, schemas } = this.props;\n        const { model, selectedType } = this.state;\n\n        const currentSchema = {\n            type: 'object',\n            title: 'Configuration',\n            properties: {},\n            ...(selectedType ? schemas.effects[selectedType].schema : {}),\n        };\n\n        const requiredKeys = Object.keys(currentSchema.properties);\n\n        if (schemas.effects) {\n            return (\n                <>\n                    <Typography variant=\"h5\">Effect Control</Typography>\n                    <Typography variant=\"body1\" color=\"textSecondary\">\n                        Set and configure effects\n                    </Typography>\n                    <form onSubmit={this.handleSubmit} className={classes.form}>\n                        <DropDown\n                            label=\"Type\"\n                            value={selectedType}\n                            options={Object.keys(schemas?.effects).map(key => ({\n                                value: key,\n                                display: key,\n                            }))}\n                            onChange={this.handleTypeChange}\n                        />\n\n                        <SchemaForm\n                            className={classes.schemaForm}\n                            schema={currentSchema}\n                            form={requiredKeys}\n                            model={model}\n                            onModelChange={this.onModelChange}\n                            mapper={mapper}\n                        />\n\n                        <DialogActions className={classes.bottomContainer}>\n                            {selectedType && (\n                                <Button\n                                    onClick={this.handleRandomize}\n                                    endIcon={<CasinoIcon />}\n                                    color=\"primary\"\n                                >\n                                    Randomize\n                                </Button>\n                            )}\n                            <Box\n                                flex={1}\n                                display=\"flex\"\n                                justifyContent=\"flex-end\"\n                                className={classes.actionButtons}\n                            >\n                                <Button\n                                    className={classes.button}\n                                    onClick={this.handleClearEffect}\n                                    color=\"primary\"\n                                    endIcon={<CancelIcon />}\n                                >\n                                    Clear Effect\n                                </Button>\n                                <Button\n                                    className={classes.button}\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disabled={!selectedType}\n                                    endIcon={<CheckCircleIcon />}\n                                >\n                                    Set Effect\n                                </Button>\n                            </Box>\n                        </DialogActions>\n                    </form>\n                </>\n            );\n        }\n\n        return <p>Loading</p>;\n    }\n}\n\nDisplayEffectControl.propTypes = {\n    classes: PropTypes.object.isRequired,\n    schemas: PropTypes.object.isRequired,\n    display: PropTypes.object.isRequired,\n    effect: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(DisplayEffectControl);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Line } from 'react-chartjs-2';\nimport { createWebSocket } from 'utils/api/websocket';\nimport Box from '@material-ui/core/Box';\n\nconst styles = theme => ({\n    content: {\n        minWidth: 120,\n        maxWidth: '100%',\n        height: 200,\n    },\n});\n\nclass DisplayPixelColorGraph extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.ws = undefined;\n        this.websocketActive = false;\n        this.websocketPacketId = 1;\n        this.displayUpdateSubscription = null;\n        this.state = this.getChartOptionsForDisplay(props.display);\n    }\n\n    getChartOptionsForDisplay(display) {\n        const { pixel_count } = display.config[display.id];\n\n        return {\n            chartData: {\n                labels: Array.apply(null, { length: pixel_count }).map(Function.call, Number),\n                datasets: [\n                    {\n                        label: 'Red',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(255,0,0,0.3)',\n                        borderColor: 'rgba(255,0,0,1)',\n                        pointRadius: 0,\n                        data: new Array(pixel_count).fill(0),\n                    },\n                    {\n                        label: 'Green',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(0,255,0,0.3)',\n                        borderColor: 'rgba(0,255,0,1)',\n                        pointRadius: 0,\n                        data: new Array(pixel_count).fill(0),\n                    },\n                    {\n                        label: 'Blue',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(0,0,255,0.3)',\n                        borderColor: 'rgba(0,0,255,1)',\n                        pointRadius: 0,\n                        data: new Array(pixel_count).fill(0),\n                    },\n                ],\n            },\n            chartOptions: {\n                responsive: true,\n                maintainAspectRatio: false,\n                tooltips: { enabled: false },\n                hover: { mode: null, animationDuration: 0 },\n                animation: {\n                    duration: 0,\n                },\n                responsiveAnimationDuration: 0,\n                scales: {\n                    xAxes: [\n                        {\n                            gridLines: {\n                                display: false,\n                            },\n                            ticks: {\n                                max: pixel_count,\n                                min: 0,\n                                maxTicksLimit: 7,\n                            },\n                        },\n                    ],\n                    yAxes: [\n                        {\n                            // stacked: true,\n                            ticks: {\n                                display: false,\n                                min: 0,\n                                max: 256,\n                                stepSize: 64,\n                            },\n                            gridLines: {\n                                display: false,\n                                color: 'rgba(0, 0, 0, .125)',\n                            },\n                        },\n                    ],\n                },\n                legend: {\n                    display: false,\n                },\n            },\n        };\n    }\n\n    handleMessage = e => {\n        var messageData = JSON.parse(e.data);\n\n        // Ensure this message is for the current display. This can happen\n        // during transistions between displays where the component stays\n        // loaded\n        if (messageData.display_id !== this.props.display.id) {\n            return;\n        }\n\n        this.setState(({ chartData, chartData: { datasets } }) => ({\n            chartData: {\n                ...chartData,\n                datasets: [\n                    { ...datasets[0], data: messageData.pixels[0] },\n                    { ...datasets[1], data: messageData.pixels[1] },\n                    { ...datasets[2], data: messageData.pixels[2] },\n                ],\n            },\n        }));\n    };\n\n    handleOpen = e => {\n        this.enablePixelVisualization(this.props.display);\n        this.websocketActive = true;\n    };\n\n    handleClose = e => {\n        this.websocketActive = false;\n    };\n\n    enablePixelVisualization = display => {\n        if (this.ws) {\n            this.ws.json({\n                id: this.websocketPacketId,\n                type: 'subscribe_event',\n                event_type: 'display_update',\n                event_filter: { display_id: display.id },\n            });\n            this.displayUpdateSubscription = this.websocketPacketId;\n            this.websocketPacketId++;\n        }\n    };\n\n    disablePixelVisualization = () => {\n        this.ws.json({\n            id: this.websocketPacketId,\n            type: 'unsubscribe_event',\n            subscription_id: this.displayUpdateSubscription,\n        });\n        this.displayUpdateSubscription = null;\n        this.websocketPacketId++;\n    };\n\n    connectWebsocket = () => {\n        this.ws = createWebSocket({\n            timeout: 5e3,\n            maxAttempts: 10,\n            onopen: this.handleOpen,\n            onmessage: this.handleMessage,\n            onclose: this.handleClose,\n            onerror: e => console.log('WebSocket Error:', e),\n        });\n    };\n\n    disconnectWebsocket = () => {\n        if (this.ws !== undefined && this.websocketActive) {\n            this.ws.close(1000);\n            this.ws = undefined;\n        }\n    };\n\n    componentDidMount() {\n        this.connectWebsocket();\n    }\n\n    componentWillUnmount() {\n        this.disconnectWebsocket();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { display } = this.props;\n        if (prevProps.display.id !== display.id && this.websocketActive) {\n            this.disablePixelVisualization();\n            this.enablePixelVisualization(display);\n            this.setState(this.getChartOptionsForDisplay(display));\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <Box className={classes.content}>\n                <Line data={this.state.chartData} options={this.state.chartOptions} />\n            </Box>\n        );\n    }\n}\n\nDisplayPixelColorGraph.propTypes = {\n    classes: PropTypes.object.isRequired,\n    display: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(DisplayPixelColorGraph);\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport SaveIcon from '@material-ui/icons/Save';\n\n// CONSTANT device categories\nexport const DEFAULT_CAT = 'default_presets';\nexport const CUSTOM_CAT = 'custom_presets';\n\nconst useStyles = makeStyles(theme => ({\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        padding: theme.spacing(2),\n        paddingBottom: 0,\n    },\n    presetButton: {\n        margin: theme.spacing(1),\n        textDecoration: 'none',\n    },\n    buttonGrid: {\n        direction: 'row',\n    },\n    actions: {\n        display: 'flex',\n        flexDirection: 'row',\n        paddingBottom: theme.spacing(3),\n    },\n}));\n\nconst PresetsCard = ({ device, presets, effect, activatePreset, getEffectPresets, addPreset }) => {\n    const classes = useStyles();\n    const [name, setName] = useState('');\n    const isNameValid = validateTextInput(name, presets);\n\n    useEffect(() => {\n        getEffectPresets(effect.type);\n    }, [effect.type, getEffectPresets]);\n\n    const handleActivatePreset = (deviceId, category, type, presetId) => () => {\n        activatePreset(deviceId, category, type, presetId);\n        setName('');\n    };\n\n    const renderPresetsButton = (list, CATEGORY) => {\n        if (!list?.length)\n            return (\n                <Button className={classes.presetButton} disabled>\n                    No Saved Presets\n                </Button>\n            );\n        return list.map(preset => {\n            return (\n                <Grid item key={preset.id}>\n                    <Button\n                        className={classes.presetButton}\n                        onClick={handleActivatePreset(\n                            device.id,\n                            CATEGORY,\n                            presets.effectType,\n                            preset.id\n                        )}\n                    >\n                        {preset.name}\n                    </Button>\n                </Grid>\n            );\n        });\n    };\n\n    const handleAddPreset = () => {\n        addPreset(device.id, name);\n    };\n\n    return (\n        <Card variant=\"outlined\">\n            <CardHeader title=\"Presets\" subheader=\"Explore different effect configurations\" />\n            <CardContent className={classes.content}>\n                <Typography variant=\"subtitle2\">LedFx Presets</Typography>\n                <Grid container className={classes.buttonGrid}>\n                    {renderPresetsButton(presets?.defaultPresets, DEFAULT_CAT)}\n                </Grid>\n                <Typography variant=\"subtitle2\">My Presets</Typography>\n                <Grid container className={classes.buttonGrid}>\n                    {renderPresetsButton(presets?.customPresets, CUSTOM_CAT)}\n                </Grid>\n                <Typography variant=\"h6\">Add Preset</Typography>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                    Save this effect configuration as a preset\n                </Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <TextField\n                    error={!isNameValid}\n                    id=\"presetNameInput\"\n                    label=\"Preset Name\"\n                    onChange={e => setName(e.target.value)}\n                />\n                <Button\n                    className={classes.presetButton}\n                    color=\"primary\"\n                    aria-label=\"Save Preset\"\n                    disabled={name.length === 0 || !isNameValid}\n                    variant=\"contained\"\n                    onClick={handleAddPreset}\n                    endIcon={<SaveIcon />}\n                >\n                    Save Preset\n                </Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nconst validateTextInput = (input, presets) => {\n    const used = presets.customPresets.concat(presets.defaultPresets);\n    return !used.some(p => p.name === input);\n};\n\nexport default PresetsCard;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\n// import EffectControlBlade from 'components/EffectControl/blade';\n\nconst MoreInfo = ({ display }) => {\n    return (\n        <>\n            {' '}\n            {/* {parseInt(window.localStorage.getItem('BladeMod')) > 2 && (\n            <Grid item xs={12} lg={6}>\n                <Card>\n                    <CardContent>\n                        <EffectControlBlade\n                            display={display}\n                            effect={effect}\n                            schemas={schemas}\n                            onClear={handleClearEffect}\n                            onSubmit={handleSetEffect}\n                            onTypeChange={handleTypeChange}\n                        />\n                    </CardContent>\n                </Card>\n            </Grid>\n        )} */}\n            <Grid item xs={6} lg={6}>\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h5\">Display Config</Typography>\n                        <Typography variant=\"subtitle1\">\n                            Total Pixels: {display.config[display.id].pixel_count}\n                        </Typography>\n                        <br />\n                        <Typography variant=\"caption\">\n                            Active: {JSON.stringify(display.config[display.id].active)}\n                            <br />\n                            Center Offset: {display.config[display.id].config.center_offset}\n                            <br />\n                            Crossfade: {display.config[display.id].config.crossfade}\n                            <br />\n                            Max Brightness: {display.config[display.id].config.crossfade}\n                            <br />\n                            Preview only:{' '}\n                            {JSON.stringify(display.config[display.id].config.preview_only)}\n                        </Typography>\n                    </CardContent>\n                </Card>\n            </Grid>\n            <Grid item xs={6} lg={6}>\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h5\">Display Segments</Typography>\n                        <Typography variant=\"subtitle1\">\n                            Segments: {display.config[display.id].segments.length}\n                        </Typography>\n                        <br />\n                        {display.config[display.id].segments.map((s, i) => (\n                            <li key={i}>{s.join(',')}</li>\n                        ))}\n                    </CardContent>\n                </Card>\n            </Grid>\n        </>\n    );\n};\n\nexport default MoreInfo;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport { loadDisplayInfo, setDisplayEffect, clearDisplayEffect } from 'modules/selectedDisplay';\nimport { activatePreset, getEffectPresets, addPreset } from 'modules/presets';\nimport DisplayEffectControl from 'components/EffectControl/DisplayEffectControl';\nimport DisplayPixelColorGraph from 'components/PixelColorGraph/DisplayPixelColorGraph';\nimport PresetsCard from 'components/PresetsCard';\nimport { fetchDisplayList } from 'modules/displays';\nimport MoreInfo from './MoreInfo';\n\nconst DisplayView = ({\n    match: {\n        params: { displayId },\n    },\n}) => {\n    const schemas = useSelector(state => state.schemas);\n    const selectedDisplay = useSelector(state => state.selectedDisplay);\n    const { display, effect, isDisplayLoading } = selectedDisplay;\n    const presets = useSelector(state => state.presets);\n    const dispatch = useDispatch();\n    const [dispId, setDispId] = useState();\n\n    useEffect(() => {\n        if (displayId !== dispId) {\n            dispatch(loadDisplayInfo(displayId));\n            setDispId(displayId);\n        }\n    }, [displayId, dispId, dispatch]);\n\n    useEffect(() => {\n        dispatch(fetchDisplayList());\n    }, [dispatch]);\n\n    if (schemas.isLoading || isDisplayLoading || !display) {\n        return <p>Loading...</p>;\n    }\n\n    return (\n        <>\n            <Grid container direction=\"row\" spacing={4}>\n                {Object.keys(effect).length === 0 ? (\n                    <Grid item xs={12} lg={12}>\n                        <Card>\n                            <CardContent>\n                                <DisplayPixelColorGraph display={display} />\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                ) : (\n                    renderPixelGraph(display, effect)\n                )}\n\n                <Grid item xs={12} lg={6}>\n                    <Card>\n                        <CardContent>\n                            <DisplayEffectControl\n                                display={display}\n                                effect={effect}\n                                schemas={schemas}\n                                onClear={() => dispatch(clearDisplayEffect(displayId))}\n                                onSubmit={data => dispatch(setDisplayEffect(data.displayId, data))}\n                                onTypeChange={effectType => dispatch(getEffectPresets(effectType))}\n                            />\n                        </CardContent>\n                    </Card>\n                </Grid>\n                <Grid item xs={12} lg={6}>\n                    {effect.type && (\n                        <PresetsCard\n                            device={display}\n                            presets={presets}\n                            effect={effect}\n                            activatePreset={() => dispatch(activatePreset)}\n                            getEffectPresets={() => dispatch(getEffectPresets)}\n                            addPreset={() => dispatch(addPreset)}\n                        />\n                    )}\n                </Grid>\n\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 && (\n                    <MoreInfo display={display} />\n                )}\n            </Grid>\n        </>\n    );\n};\n\nconst renderPixelGraph = (display, effect) => {\n    if (display && effect?.name) {\n        return (\n            <Grid item xs={12}>\n                <Card>\n                    <CardContent>\n                        <DisplayPixelColorGraph display={display} />\n                    </CardContent>\n                </Card>\n            </Grid>\n        );\n    }\n};\n\nexport default DisplayView;\n","import React from 'react';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport TextField from '@material-ui/core/TextField';\n\nexport default function PopoverNew({\n    old,\n    onSubmit,\n    variant = 'contained',\n    userInput = 'name',\n    buttonText = 'Add Virtual',\n    buttonIcon = <AddCircleIcon />,\n    submitIcon = <AddCircleIcon />,\n}) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n    const [name, setName] = React.useState('');\n    const handleChange = event => {\n        setName(event.target.value);\n    };\n\n    return (\n        <div>\n            <Button aria-describedby={id} variant={variant} color=\"primary\" onClick={handleClick}>\n                {buttonText}\n                {buttonIcon}\n            </Button>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: 'center',\n                    horizontal: 'right',\n                }}\n                transformOrigin={{\n                    vertical: 'center',\n                    horizontal: 'left',\n                }}\n            >\n                {' '}\n                <div style={{ display: 'flex' }}>\n                    <TextField\n                        id=\"outlined-basic\"\n                        label={userInput}\n                        value={name}\n                        onChange={handleChange}\n                        variant=\"outlined\"\n                    />\n                    <Button\n                        aria-describedby={id}\n                        variant=\"contained\"\n                        style={{ margin: '8px' }}\n                        color=\"primary\"\n                        onClick={() => {\n                            if (name === 'BladeMod') {\n                                window.localStorage.setItem('BladeMod', '1');\n                            }\n                            onSubmit({ old: old, new: name });\n                            setAnchorEl(null);\n                        }}\n                    >\n                        {submitIcon}\n                    </Button>\n                </div>\n            </Popover>\n        </div>\n    );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { v1 as uuidv1 } from 'uuid';\n\nfunction ConfirmationDialogRaw(props) {\n    const { onClose, value: valueProp, open, ...other } = props;\n    const [value, setValue] = React.useState(valueProp);\n    const radioGroupRef = React.useRef(null);\n\n    React.useEffect(() => {\n        if (!open) {\n            setValue(valueProp);\n        }\n    }, [valueProp, open]);\n\n    const handleEntering = () => {\n        if (radioGroupRef.current != null) {\n            radioGroupRef.current.focus();\n        }\n    };\n\n    const handleCancel = () => {\n        onClose();\n    };\n\n    const handleOk = () => {\n        onClose(value);\n    };\n\n    const handleChange = event => {\n        setValue(event.target.value);\n    };\n\n    delete other.deviceList;\n    return (\n        <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"xs\"\n            onEntering={handleEntering}\n            aria-labelledby=\"confirmation-dialog-title\"\n            open={open}\n            {...other}\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\n            <DialogContent dividers>\n                <RadioGroup\n                    ref={radioGroupRef}\n                    aria-label=\"ringtone\"\n                    name=\"ringtone\"\n                    value={value}\n                    onChange={handleChange}\n                >\n                    {props.deviceList.map(device => (\n                        <FormControlLabel\n                            value={device.name}\n                            key={device.name}\n                            control={<Radio />}\n                            label={device.name}\n                        />\n                    ))}\n                </RadioGroup>\n            </DialogContent>\n            <DialogActions>\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleOk} color=\"primary\">\n                    Ok\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nConfirmationDialogRaw.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n    value: PropTypes.string.isRequired,\n    config: PropTypes.any,\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    paper: {\n        width: '80%',\n        maxHeight: 435,\n    },\n}));\n\nexport default function ConfirmationDialog({ virtual, deviceList, config }) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const dispatch = useDispatch();\n    const virtuals = useSelector(state => state.virtuals.list);\n\n    const addSegment = data => {\n        dispatch({ type: 'virtuals/ADD_SEGMENT', payload: data });\n    };\n\n    const handleClickListItem = () => {\n        setOpen(true);\n    };\n\n    const handleClose = newValue => {\n        setOpen(false);\n        if (newValue) {\n            const id = uuidv1();\n            const output = { ...deviceList.find(d => d.name === newValue) };\n            output['device_key'] = output.key;\n            output['id'] = '' + output.key + '_' + id;\n            output['key'] = output['id'];\n            output['led_start'] = 1;\n            output['led_end'] = output.config.pixel_count;\n            output['order_number'] = virtuals.find(v => v.name === virtual).items.length;\n            output['used_pixel'] = output.config.pixel_count;\n            output['invert'] = false;\n            output['pixel_density'] = 30;\n            addSegment({ virtual: virtual, device: output });\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            {deviceList.length > 0 ? (\n                <>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Add\"\n                        className={classes.button}\n                        endIcon={<AddCircleIcon />}\n                        onClick={handleClickListItem}\n                        role=\"listitem\"\n                    >\n                        ADD SEGMENT\n                    </Button>\n\n                    <ConfirmationDialogRaw\n                        classes={{\n                            paper: classes.paper,\n                        }}\n                        config={config}\n                        id=\"ringtone-menu\"\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        value={deviceList[0].name}\n                        deviceList={deviceList}\n                    />\n                </>\n            ) : (\n                <></>\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst PixelSlider = ({ virtual, device }) => {\n    const dispatch = useDispatch();\n    const virtualsList = useSelector(state => state.virtuals.list);\n    const currentVirtual = virtualsList\n        .find(reduxItem => reduxItem.name === virtual)\n        .items.find(d => d.id === device.id);\n    if (!currentVirtual) {\n        return <></>;\n    }\n    const pixelRange = [currentVirtual.led_start, currentVirtual.led_end];\n\n    const handleChange = (event, newValue) => {\n        if (newValue !== pixelRange) {\n            dispatch({\n                type: 'virtuals/CHANGE_SEGMENT_PXEL',\n                payload: { virtual: virtual, device: device.id, newValue: newValue },\n            });\n        }\n    };\n\n    const marks = [\n        { value: 1, label: 1 },\n        { value: currentVirtual.config.pixel_count, label: currentVirtual.config.pixel_count },\n    ];\n\n    return (\n        <Slider\n            value={pixelRange}\n            marks={marks}\n            min={1}\n            max={currentVirtual.config.pixel_count}\n            onChange={handleChange}\n            aria-labelledby=\"range-slider\"\n            valueLabelDisplay=\"auto\"\n            style={{ marginBottom: '15px' }}\n        />\n    );\n};\n\nexport default PixelSlider;\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Popover from '@material-ui/core/Popover'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nconst useStyles = makeStyles((theme) => ({\n    typography: {\n        padding: theme.spacing(2),\n    },\n}))\n\nexport default function SimplePopover({ onDeleteVitem, listItem, variant = \"contained\", color = \"secondary\" }) {\n    const classes = useStyles()\n    const [anchorEl, setAnchorEl] = React.useState(null)\n    const handleClick = (event) => { setAnchorEl(event.currentTarget) }\n    const handleClose = () => { setAnchorEl(null) }\n    const open = Boolean(anchorEl)\n    const id = open ? 'simple-popover' : undefined\n\n    return (\n        <div>\n            <Button aria-describedby={id} variant={variant} color={color} onClick={handleClick}>\n                <DeleteIcon />\n            </Button>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: 'center',\n                    horizontal: 'left',\n                }}\n                transformOrigin={{\n                    vertical: 'center',\n                    horizontal: 'right',\n                }}\n            >   <div style={{ display: \"flex\" }}>\n                    <Typography className={classes.typography}>Are you sure?</Typography>\n                    <Button aria-describedby={id} variant=\"contained\" color=\"primary\" onClick={() => { onDeleteVitem(listItem) }}>\n                        <DeleteIcon />\n                    </Button>\n                    <Button aria-describedby={id} variant=\"contained\" color=\"default\" onClick={() => { setAnchorEl(null) }}>\n                        <CloseIcon />\n                    </Button>\n                </div>\n            </Popover>\n        </div>\n    )\n}\n","import React from 'react'\nimport { ListItemText } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\n\nconst UsedPixels = ({ virtual, device }) => {\n  const list = useSelector(state => state.virtuals.list)\n  const test = list.find(reduxItem => reduxItem.name === virtual).items.find(d => d.id === device.id)\n  const pixels = test && test.used_pixel\n  return (\n    <ListItemText style={{ flexBasis: \"20%\", flexGrow: 'unset', width: \"20%\", textAlign: 'center' }} secondary={'Used Pixels'} primary={pixels}\n    />\n  )\n}\n\nexport default UsedPixels\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n    ListItem,\n    ListItemText,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    Switch,\n    TextField,\n} from '@material-ui/core';\nimport { Draggable } from 'react-beautiful-dnd';\nimport FormatLineSpacingIcon from '@material-ui/icons/FormatLineSpacing';\nimport PixelSlider from './PixelSlider';\nimport PopoverSure from './PopoverSure';\nimport UsedPixels from './UsedPixels';\n\nconst DragDropItem = ({ listItem, virtual, index }) => {\n    const dispatch = useDispatch();\n    const onDeleteVitem = () => {\n        dispatch({\n            type: 'virtuals/DELETE_SEGMENT',\n            payload: { virtual: virtual, device: listItem },\n        });\n    };\n\n    const getItemStyle = (isDragging, draggableStyle) => ({\n        // styles we need to apply on draggables\n        ...draggableStyle,\n        borderTop: '1px dashed grey',\n        borderBottom: '1px dashed grey',\n        ...(isDragging && {\n            background: 'rgb(235,235,235)',\n        }),\n    });\n\n    const handleInvert = (virtual, listItem) => {\n        dispatch({\n            type: 'virtuals/CHANGE_SEGMENT_INVERT',\n            payload: { virtual: virtual, device: listItem },\n        });\n    };\n    const handlePixelDensity = (virtual, listItem, newValue) => {\n        dispatch({\n            type: 'virtuals/CHANGE_SEGMENT_PIXELDENSITY',\n            payload: { virtual: virtual, device: listItem, newValue: parseInt(newValue) },\n        });\n    };\n    return (\n        <Draggable\n            key={`${listItem.id}-${index}`}\n            draggableId={listItem.id}\n            index={index}\n            style={{ border: '2px solid red' }}\n        >\n            {(provided, snapshot) => (\n                <ListItem\n                    ContainerComponent=\"li\"\n                    ContainerProps={{ ref: provided.innerRef }}\n                    {...provided.draggableProps}\n                    style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n                >\n                    <ListItemIcon {...provided.dragHandleProps}>\n                        <FormatLineSpacingIcon color=\"secondary\" />\n                    </ListItemIcon>\n                    <ListItemText\n                        primary={listItem.name}\n                        secondary={listItem.config.ip_address}\n                        style={{ flexBasis: '30%', flexGrow: 'unset', width: '30%' }}\n                    />\n                    <ListItemText style={{ flexBasis: '20%', flexGrow: 'unset', width: '20%' }}>\n                        <PixelSlider virtual={virtual} device={listItem} />\n                    </ListItemText>\n                    <UsedPixels virtual={virtual} device={listItem} />\n                    <ListItemText\n                        primary={\n                            <TextField\n                                label=\"\"\n                                defaultValue={listItem.pixel_density || 30}\n                                style={{\n                                    minWidth: 'unset',\n                                    maxWidth: '80%',\n                                    margin: '0 1em 0 0',\n                                    textAlign: 'center',\n                                }}\n                                inputProps={{ style: { textAlign: 'center' } }}\n                                type=\"number\"\n                                onChange={e =>\n                                    handlePixelDensity(virtual, listItem, e.target.value)\n                                }\n                            />\n                        }\n                        secondary={'PixelDensity'}\n                        style={{\n                            maxWidth: '10%',\n                            textAlign: 'center',\n                        }}\n                    />\n                    <ListItemText\n                        primary={\n                            <Switch\n                                color=\"primary\"\n                                checked={listItem.invert}\n                                onChange={() => handleInvert(virtual, listItem)}\n                            />\n                        }\n                        secondary={'Invert'}\n                        style={{ flexGrow: 0, textAlign: 'center' }}\n                    />\n                    <ListItemSecondaryAction>\n                        <PopoverSure onDeleteVitem={onDeleteVitem} listItem={listItem} />\n                    </ListItemSecondaryAction>\n                </ListItem>\n            )}\n        </Draggable>\n    );\n};\n\nexport default DragDropItem;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { List } from '@material-ui/core';\nimport RootRef from '@material-ui/core/RootRef';\nimport DragDropItem from './DragDropItem';\n\nconst reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n};\n\nconst DragDropContainer = React.memo(function DragDropContainer({\n    listItems,\n    provided,\n    style,\n    virtual,\n    device,\n}) {\n    const dispatch = useDispatch();\n    const onDeleteVitem = () => {\n        dispatch({\n            type: 'virtuals/DELETE_SEGMENT',\n            payload: { virtual: virtual, device: device },\n        });\n    };\n    return (\n        <List style={style}>\n            {listItems.map((listItem, index) => (\n                <DragDropItem\n                    virtual={virtual}\n                    listItem={listItem}\n                    index={index}\n                    key={`${listItem.id}-${index}`}\n                    onDeleteVitem={onDeleteVitem}\n                    style={{ marginBottom: '5em' }}\n                />\n            ))}\n            {provided.placeholder}\n        </List>\n    );\n});\n\nexport default function DragDropWrapper({ items, virtual, device, setdeviceListYz }) {\n    const [state, setState] = useState({\n        listitems: items.sort((a, b) => (a.order_number > b.order_number ? 1 : -1)),\n    });\n    const dispatch = useDispatch();\n    const virtuals = useSelector(state => state.virtuals.list);\n\n    function onDragEnd(result) {\n        if (!result.destination) {\n            return;\n        }\n        if (result.destination.index === result.source.index) {\n            return;\n        }\n        const listitems = reorder(state.listitems, result.source.index, result.destination.index);\n        listitems.map((item, index) => {\n            const [vir] = virtuals\n                .map(v => v.items.find(vi => vi.id === item.id))\n                .filter(virt => virt !== undefined);\n            vir.order_number = index;\n            return dispatch({\n                type: 'virtuals/CHANGE_SEGMENT_PXEL',\n                payload: { virtual: virtual, device: { id: vir.id }, newValue: vir },\n            });\n        });\n        setState({ listitems });\n    }\n\n    useEffect(() => {\n        setState({ listitems: items });\n    }, [items]);\n\n    return (\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId=\"list\">\n                {(provided, snapshot) => (\n                    <RootRef rootRef={provided.innerRef}>\n                        <DragDropContainer\n                            listItems={state.listitems}\n                            provided={provided}\n                            virtual={virtual.name}\n                            device={device}\n                            setdeviceListYz={setdeviceListYz}\n                        />\n                    </RootRef>\n                )}\n            </Droppable>\n        </DragDropContext>\n    );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PopoverNew from 'components/VirtualComponents/PopoverNew';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport EditIcon from '@material-ui/icons/Edit';\nimport CheckIcon from '@material-ui/icons/Check';\nimport AddSegmentDialog from 'components/VirtualComponents/DialogAddSegment';\nimport VirtualComponents from 'components/VirtualComponents';\nimport PopoverSure from './PopoverSure';\n\nfunction Virtual({ v, setSnackbarState }) {\n    const dispatch = useDispatch();\n    const virtuals = useSelector(state => state.virtuals.list);\n    const deviceList = useSelector(state => state.devices.list);\n    const allPixels = virtuals\n        .filter(vi => vi.name === v.name)\n        .map(\n            vir =>\n                vir.items &&\n                vir.items.length > 0 &&\n                vir.items.map(d => d.led_end - d.led_start + 1).reduce((sum, part) => sum + part)\n        )[0];\n\n    const deleteVirtual = virtual => {\n        dispatch({ type: 'virtuals/VIRTUAL_DELETE', payload: virtual });\n    };\n    const changeNameVirtual = newName => {\n        if (virtuals.find(e => e.name === newName.new)) {\n            setSnackbarState({\n                open: true,\n                message: 'Name already existing! Please choose a different one.',\n                type: 'warning',\n            });\n        } else {\n            dispatch({\n                type: 'virtuals/VIRTUAL_RENAME',\n                payload: { old: newName.old, new: newName.new },\n            });\n            setSnackbarState({ open: true, message: 'Virtual Device renamed', type: 'success' });\n        }\n    };\n\n    return (\n        <Card style={{ marginBottom: '2em' }}>\n            <CardContent>\n                <Grid container direction=\"row\" spacing={1} justify=\"space-between\">\n                    <Grid item xs=\"auto\" style={{ display: 'flex' }}>\n                        <Typography variant=\"h5\">{v.name}</Typography>\n                        <PopoverNew\n                            old={v.name}\n                            buttonText=\"\"\n                            onSubmit={changeNameVirtual}\n                            variant=\"text\"\n                            buttonIcon={<EditIcon />}\n                            submitIcon={<CheckIcon />}\n                        />\n                        <PopoverSure\n                            onDeleteVitem={() => deleteVirtual(v.name)}\n                            color=\"primary\"\n                            variant=\"text\"\n                            listItem={v.name}\n                        />\n                    </Grid>\n                    <Grid item xs=\"auto\">\n                        <Typography variant=\"body1\" color=\"textSecondary\">\n                            Total Pixels: {allPixels}\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <AddSegmentDialog deviceList={deviceList} virtual={v.name} />\n                    </Grid>\n                </Grid>\n                {v.items && v.items.length > 0 && <VirtualComponents items={v.items} virtual={v} />}\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default Virtual;\n","import React, { useEffect, useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport PopoverNew from 'components/VirtualComponents/PopoverNew';\nimport Virtual from 'components/VirtualComponents/Virtual';\nimport { fetchDeviceList } from 'modules/devices';\nimport { getAsyncVirtuals } from 'modules/virtuals';\nimport SaveIcon from '@material-ui/icons/Save';\nimport * as virtualsProxies from 'proxies/virtuals';\nimport { fetchDisplayList } from 'modules/displays';\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst VirtualsView = () => {\n    const virtuals = useSelector(state => state.virtuals.list);\n    const dispatch = useDispatch();\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\n\n    const addNewVirtual = newName => {\n        if (virtuals.find(e => e.name === newName.new)) {\n            setSnackbarState({\n                ...snackbarState,\n                open: true,\n                message: 'Name already existing! Please choose a different one.',\n                type: 'warning',\n            });\n        } else {\n            dispatch({ type: 'virtuals/VIRTUAL_ADD', payload: newName });\n            setSnackbarState({\n                ...snackbarState,\n                open: true,\n                message: 'Virtual Device added',\n                type: 'success',\n            });\n        }\n    };\n\n    const handleClose = () => {\n        setSnackbarState({ ...snackbarState, open: false });\n    };\n    useEffect(() => {\n        dispatch(fetchDeviceList());\n        dispatch(fetchDisplayList());\n        dispatch(getAsyncVirtuals());\n    }, [dispatch]);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} md={12}>\n                {virtuals.map((v, i) => (\n                    <Virtual v={v} key={i} setSnackbarState={setSnackbarState} />\n                ))}\n                <div style={{ display: 'flex', marginTop: '1em', justifyContent: 'space-between' }}>\n                    <PopoverNew onSubmit={addNewVirtual} />\n                    <Button\n                        variant=\"contained\"\n                        style={{ margin: '8px' }}\n                        color=\"primary\"\n                        onClick={() => {\n                            virtualsProxies.setVirtuals({ virtuals: { list: virtuals } });\n                        }}\n                    >\n                        Save\n                        <SaveIcon style={{ marginLeft: '0.5em' }} />\n                    </Button>\n                </div>\n            </Grid>\n            <Snackbar\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                autoHideDuration={1000 + snackbarState.message.length * 60}\n                open={snackbarState.open}\n                onClose={handleClose}\n                key={'bottomcenter'}\n            >\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\n            </Snackbar>\n        </Grid>\n    );\n};\n\nexport default VirtualsView;\n","import { api } from 'utils/api';\n\nexport function getVirtuals() {\n    return api.get('/virtuals');\n}\nexport function setVirtuals({ virtuals }) {\n    return api.post('/virtuals', { virtuals: virtuals });\n}\n\n// export function deleteVirtuals(id) {\n//     return api.delete('/virtuals', { data: { id } });\n// }\n\n// export function activateVirtuals(id) {\n//     return api.put('/virtuals', {\n//         id,\n//         action: 'activate',\n//     });\n// }\n// export function renameScene({ id, virtual }) {\n//     return api.put('/virtuals', {\n//         action: 'rename',\n//         id,\n//         virtual,\n//     });\n// }\n","const DisplaysView = () => {\n  return (\n    <div>\n      Deprecated\n    </div>\n  )\n}\n\nexport default DisplaysView\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport { useSelector } from 'react-redux';\nimport { SchemaForm, utils } from 'react-schema-form';\nimport * as integrationsProxies from 'proxies/integrations';\n\nfunction ConfirmationDialogRaw(props) {\n    const { onClose, value: valueProp, open, ...other } = props;\n    const [value, setValue] = React.useState(valueProp);\n    const radioGroupRef = React.useRef(null);\n    const integrationTypes = useSelector(state => state.schemas.integrationTypes || {});\n    const integration = props.integration;\n    const [model] = React.useState({});\n\n    React.useEffect(() => {\n        if (!open) {\n            setValue(valueProp);\n        }\n    }, [valueProp, open]);\n\n    const handleEntering = () => {\n        if (radioGroupRef.current != null) {\n            radioGroupRef.current.focus();\n        }\n    };\n\n    const handleCancel = () => {\n        onClose();\n    };\n\n    const handleOk = () => {\n        onClose(value);\n        integrationsProxies.createIntegration({ config: model, type: 'qlc' });\n        window.location = window.location.href;\n    };\n\n    // const handleChange = event => {\n    //     // setValue(event.target.value);\n    // };\n    const onModelChange = (key, val) => {\n        utils.selectOrSet(key, model, val);\n\n        // setModel(val);\n    };\n    delete other.deviceList;\n    return (\n        <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"xs\"\n            onEntering={handleEntering}\n            aria-labelledby=\"confirmation-dialog-title\"\n            open={open}\n            {...other}\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">\n                {integrationTypes[integration].name} Integration Setup\n            </DialogTitle>\n            <DialogContent dividers>\n                <SchemaForm\n                    // className={classes.schemaForm}\n                    schema={{\n                        type: 'object',\n                        title: 'Configuration',\n                        properties: {},\n                        ...(integrationTypes ? integrationTypes[integration].schema : {}),\n                    }}\n                    form={\n                        integrationTypes[integration] &&\n                        integrationTypes[integration].schema.required\n                    }\n                    model={model}\n                    onModelChange={onModelChange}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleOk} color=\"primary\">\n                    Ok\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nConfirmationDialogRaw.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n    value: PropTypes.string.isRequired,\n    config: PropTypes.any,\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    paper: {\n        width: '80%',\n        maxHeight: 535,\n    },\n}));\n\nexport default function ConfirmationDialog({ virtual, deviceList, config, integration }) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickListItem = () => {\n        setOpen(true);\n    };\n\n    const handleClose = newValue => {\n        setOpen(false);\n    };\n\n    return (\n        <div className={classes.root}>\n            <>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    aria-label=\"Add\"\n                    className={classes.button}\n                    endIcon={<AddCircleIcon />}\n                    onClick={handleClickListItem}\n                    role=\"listitem\"\n                >\n                    ADD\n                </Button>\n\n                <ConfirmationDialogRaw\n                    classes={{\n                        paper: classes.paper,\n                    }}\n                    config={config}\n                    id=\"ringtone-menu\"\n                    keepMounted\n                    open={open}\n                    onClose={handleClose}\n                    value={integration}\n                    deviceList={deviceList}\n                    integration={integration}\n                />\n            </>\n        </div>\n    );\n}\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DialogAddIntegration from 'components/IntegrationComponents/DialogAddIntegration';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n    integrationCard: {\n        width: 300,\n        height: 220,\n        justifyContent: 'space-between',\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n});\n\nconst IntegrationsCard = ({ intTypes, int }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.integrationCard} variant=\"outlined\">\n            <CardContent>\n                <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                    Integration\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {intTypes[int].name}\n                </Typography>\n                <Typography className={classes.pos} color=\"textSecondary\">\n                    v0.0.1\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    {intTypes[int].description}\n                </Typography>\n            </CardContent>\n            <CardActions>\n                <DialogAddIntegration integration={intTypes[int].id} />\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default IntegrationsCard;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport PopoverSure from 'components/VirtualComponents/PopoverSure';\nimport Button from '@material-ui/core/Button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { deleteAsyncIntegration } from 'modules/integrations';\nimport { toggleAsyncIntegration } from 'modules/integrations';\nimport { Switch, Chip } from '@material-ui/core';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n// import DialogAddIntegration from 'components/IntegrationComponents/DialogAddIntegration';\n\nconst useStyles = makeStyles({\n    integrationCard: {\n        width: 300,\n        height: 230,\n        justifyContent: 'space-between',\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n\nconst IntegrationsCard = ({ int }) => {\n    const classes = useStyles();\n\n    const handleToggle = props => {\n        // console.log('YO', props);\n        toggleAsyncIntegration(props);\n    };\n    return (\n        <Card className={classes.integrationCard} variant=\"outlined\">\n            <CardContent style={{ paddingBottom: 0 }}>\n                <div\n                    style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'flex-start',\n                        marginBottom: '0.5em',\n                    }}\n                >\n                    <Typography variant=\"h5\" component=\"h2\">\n                        {int.config.name}\n                    </Typography>\n                    <Chip label={`type: ${int.type}`} size=\"small\" />\n                </div>\n                <Typography variant=\"h6\" component=\"p\" gutterBottom>\n                    Status:{' '}\n                    {int.status === 3\n                        ? 'Connecting...'\n                        : int.status === 2\n                        ? 'Disconnecting'\n                        : int.status === 1\n                        ? 'Connected'\n                        : int.status === 0\n                        ? 'Disconnected'\n                        : 'Unknown'}\n                </Typography>\n                <Typography style={{ fontSize: '14px' }} color=\"textSecondary\" gutterBottom>\n                    QLC+ IP Address: {int.config.ip_address}:{int.config.port}\n                </Typography>\n                <Typography style={{ fontSize: '14px' }} color=\"textSecondary\" gutterBottom>\n                    Description:{int.config.description}\n                </Typography>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    aria-label=\"Add\"\n                    className={classes.button}\n                    endIcon={<AddCircleIcon />}\n                    //onClick={handleClickListItem}\n                    role=\"listitem\"\n                >\n                    ADD Event Listener\n                </Button>\n            </CardContent>\n            <CardActions>\n                <PopoverSure\n                    variant=\"text\"\n                    onDeleteVitem={() =>\n                        deleteAsyncIntegration({\n                            id: int.id,\n                        })\n                    }\n                />\n                <Button\n                    variant=\"text\"\n                    color=\"secondary\"\n                    onClick={() => {\n                        // console.log('edit');\n                    }}\n                >\n                    <EditIcon />\n                </Button>\n                <Switch\n                    color=\"primary\"\n                    onChange={() =>\n                        handleToggle({\n                            id: int.id,\n                        })\n                    }\n                    checked={int.active}\n                />\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default IntegrationsCard;\n","import React from 'react';\nimport { deleteAsyncIntegration } from 'modules/integrations';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Switch } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport PopoverSure from 'components/VirtualComponents/PopoverSure';\n\nconst DataRow = ({ id, name, type, data }) =>\n    data.map(dr => (\n        <TableRow key={id}>\n            <TableCell>{name}</TableCell>\n            <TableCell>{type}</TableCell>\n            <TableCell>{dr[0]}</TableCell>\n            <TableCell>{dr[1] && dr[1].scene_name}</TableCell>\n            <TableCell>{JSON.stringify(dr[3])}</TableCell>\n            <TableCell>\n                <div style={{ display: 'flex' }}>\n                    <PopoverSure\n                        variant=\"text\"\n                        onDeleteVitem={() =>\n                            deleteAsyncIntegration({\n                                id: id,\n                            })\n                        }\n                    />\n                    <Button\n                        variant=\"text\"\n                        color=\"secondary\"\n                        onClick={() => {\n                            // console.log('edit');\n                        }}\n                    >\n                        <EditIcon />\n                    </Button>\n                    <Switch color=\"primary\" checked={data && dr && dr[2]} />\n                </div>\n            </TableCell>\n        </TableRow>\n    ));\n\nexport default DataRow;\n","import React from 'react';\nimport DataRow from './DataRow'\n\nconst IntegrationRow = ({ installedIntegrations, installedIntegration }) =>\n    (installedIntegrations[installedIntegration] && installedIntegrations[installedIntegration].data && installedIntegrations[installedIntegration].data.length > 0) ? (\n        <DataRow id={installedIntegrations[installedIntegration].id} name={installedIntegrations[installedIntegration].config.name} type={installedIntegrations[installedIntegration].type} data={installedIntegrations[installedIntegration].data} />\n\n\n    ) : (<></>)\n\n\n\nexport default IntegrationRow;\n","import React, { useEffect, useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\n\nimport { getAsyncIntegrations } from 'modules/integrations';\nimport Card from '../../components/IntegrationComponents/Card';\nimport CardB from '../../components/IntegrationComponents/CardB';\nimport Row from '../../components/IntegrationComponents/Row';\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst IntegrationsView = () => {\n    const intTypes = useSelector(state => state.schemas.integrationTypes || {});\n    const instInts = useSelector(state => state.integrations.list || []);\n    const dispatch = useDispatch();\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\n\n    const handleClose = () => {\n        setSnackbarState({ ...snackbarState, open: false });\n    };\n\n    useEffect(() => {\n        dispatch(getAsyncIntegrations());\n    }, [dispatch]);\n\n    return (\n        <><Grid container spacing={2}>\n            <Grid item xs={12} md={12}>\n                <Typography\n                    variant=\"h6\"\n                    component=\"h2\"\n                    color=\"textPrimary\"\n                    style={{ marginBottom: '1em' }}\n                >\n                    Available Integrations\n                </Typography>\n                <Grid container justify=\"flex-start\" spacing={5}>\n                    {intTypes &&\n                        intTypes !== {} &&\n                        Object.keys(intTypes).map((int, i) => (\n                            <Grid key={i} item>\n                                <Card intTypes={intTypes} int={int} />\n                            </Grid>\n                        ))}\n                </Grid>\n                <Typography\n                    variant=\"h6\"\n                    component=\"h2\"\n                    color=\"textPrimary\"\n                    style={{ marginBottom: '1em', marginTop: '3em' }}\n                >\n                    Installed Integrations\n                </Typography>\n                <Grid container justify=\"flex-start\" spacing={5}>\n                    {instInts &&\n                        Object.keys(instInts).map((instInt, i) => (\n                            <Grid key={instInts[instInt].id} item>\n                                <CardB int={instInts[instInt]} />\n                            </Grid>\n                        ))}\n                </Grid>\n            </Grid>\n            <Snackbar\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                autoHideDuration={1000 + snackbarState.message.length * 60}\n                open={snackbarState.open}\n                onClose={handleClose}\n                key={'bottomcenter'}\n            >\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\n            </Snackbar>\n        </Grid><Typography\n            variant=\"h6\"\n            component=\"h2\"\n            color=\"textPrimary\"\n            style={{ marginBottom: '1em', marginTop: '3em' }}\n        >\n                Integration Event Listeners\n            </Typography>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Name</TableCell>\n                        <TableCell>Type</TableCell>\n                        <TableCell>Event Type</TableCell>\n                        <TableCell>Event Trigger</TableCell>\n                        <TableCell>Payload</TableCell>\n                        <TableCell>Actions</TableCell>\n                    </TableRow>\n                </TableHead>\n\n                <TableBody>\n                    {instInts &&\n                        Object.keys(instInts).map((instInt, i) => (\n                            <Row\n                                key={instInts[instInt].id}\n                                installedIntegrations={instInts}\n                                installedIntegration={instInt} />\n                        ))}\n                </TableBody>\n            </Table></>\n    );\n};\n\nexport default IntegrationsView;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Card,\n    CardHeader,\n    CardContent,\n    Accordion,\n    AccordionSummary,\n    AccordionDetails,\n    Button,\n    TextField,\n    FormControlLabel,\n    Checkbox,\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Delete } from '@material-ui/icons';\n\nconst { LazyLog } = require('react-lazylog');\nconst { NODE_ENV } = process.env;\nconst { hostname, port } = window.location;\n\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\nconst useStyles = makeStyles({\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    saved: {\n        backgroundColor: '#222222',\n        padding: '2rem',\n        fontFamily: '\"Monaco\", monospace',\n        fontSize: '12px',\n        width: '100%',\n        overflowX: 'scroll',\n    },\n    lineno: {\n        color: '#999',\n        width: '35px',\n        marginRight: '1rem',\n        textAlign: 'right',\n        display: 'inline-block',\n    },\n    linetime: {\n        color: '#999',\n    },\n    root: {\n        flexWrap: 'wrap',\n    },\n    bar: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'space-between',\n        margin: '0.5rem',\n    },\n    wrapping: {\n        whiteSpace: 'wrap',\n    },\n    not_wrapping: {\n        whiteSpace: 'nowrap',\n    },\n});\nconst ws_log_url = `ws://${wsBaseUrl}/api/log`;\nlet socket = null;\nconst LogCard = ({ settings, error }) => {\n    const classes = useStyles();\n    const [logger, setLogger] = useState(JSON.parse(window.sessionStorage.getItem('logger')) || []);\n    const [logLength, setLogLength] = useState(\n        JSON.parse(window.sessionStorage.getItem('messages')) || 30\n    );\n    const [wrap, setWrap] = useState(false);\n    return (\n        <Card>\n            <CardHeader title=\"Console\" subheader=\"View the Console\" />\n            <CardContent className={classes.content}>\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 ? (\n                    <>\n                        <Accordion expanded={true}>\n                            <AccordionSummary aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n                                <Typography className={classes.heading}>\n                                    Realtime-Console\n                                </Typography>\n                            </AccordionSummary>\n\n                            <AccordionDetails>\n                                <div style={{ minHeight: 300, width: '100%' }}>\n                                    <div style={{ height: 300 }}>\n                                        <LazyLog\n                                            enableSearch\n                                            url={ws_log_url}\n                                            value={'hi'}\n                                            websocket\n                                            follow\n                                            websocketOptions={{\n                                                onClose: () => {\n                                                    if (socket) {\n                                                        return;\n                                                    }\n                                                },\n\n                                                onOpen: (e, sock) => {\n                                                    socket = sock;\n                                                    sock.send(\n                                                        JSON.stringify({\n                                                            message: 'Logger Websocket Open',\n                                                        })\n                                                    );\n                                                },\n                                                formatMessage: e => {\n                                                    const line = `${\n                                                        JSON.parse(e).levelno === 10\n                                                            ? '\\u001b[36m'\n                                                            : JSON.parse(e).levelno === 20\n                                                            ? '\\u001b[34m'\n                                                            : JSON.parse(e).levelno === 30\n                                                            ? '\\u001b[33m'\n                                                            : JSON.parse(e).levelno === 40\n                                                            ? '\\u001b[31m'\n                                                            : JSON.parse(e).levelno === 50\n                                                            ? '\\u001b[35m'\n                                                            : '\\u001b[32m'\n                                                    }[${JSON.parse(e).levelname}] \\u001b[37m${\n                                                        JSON.parse(e).name\n                                                    } : ${JSON.parse(e).message}`;\n                                                    const saveLine = {\n                                                        levelno: JSON.parse(e).levelno,\n                                                        levelname: JSON.parse(e).levelname,\n                                                        message: JSON.parse(e).message,\n                                                        asctime: JSON.parse(e).asctime,\n                                                    };\n\n                                                    const log =\n                                                        JSON.parse(\n                                                            window.sessionStorage.getItem('logger')\n                                                        ) || [];\n                                                    log.push(saveLine);\n                                                    const test = log.slice(\n                                                        log.length > logLength - 1\n                                                            ? log.length - logLength\n                                                            : 0,\n                                                        log.length\n                                                    );\n                                                    setLogger(test);\n\n                                                    window.sessionStorage.setItem(\n                                                        'logger',\n                                                        JSON.stringify(test)\n                                                    );\n\n                                                    return line;\n                                                },\n                                            }}\n                                        />\n                                    </div>\n                                </div>\n                            </AccordionDetails>\n                        </Accordion>\n                        <Accordion>\n                            <AccordionSummary\n                                expandIcon={<ExpandMoreIcon />}\n                                aria-controls=\"panel2a-content\"\n                                id=\"panel2a-header\"\n                            >\n                                <Typography className={classes.heading}>\n                                    SavedLogs-Console\n                                </Typography>\n                            </AccordionSummary>\n                            <AccordionDetails className={classes.root}>\n                                <div className={classes.bar}>\n                                    <Typography className={classes.heading}></Typography>\n                                    <div\n                                        style={{\n                                            display: 'flex',\n                                            justifyContent: 'center',\n                                            alignItems: 'center',\n                                        }}\n                                    >\n                                        <Button\n                                            size=\"large\"\n                                            style={{ marginRight: '1rem' }}\n                                            startIcon={<Delete />}\n                                            variant=\"text\"\n                                            onClick={() => {\n                                                window.sessionStorage.removeItem('logger');\n                                                setLogger([]);\n                                            }}\n                                        ></Button>\n                                        <FormControlLabel\n                                            value=\"top\"\n                                            control={\n                                                <Checkbox\n                                                    color=\"primary\"\n                                                    checked={wrap}\n                                                    onChange={() => setWrap(!wrap)}\n                                                    style={{ padding: '2px 8px 13px' }}\n                                                />\n                                            }\n                                            labelPlacement=\"top\"\n                                            label={\n                                                <span style={{ fontSize: '0.7rem', color: '#bbb' }}>\n                                                    Wrap\n                                                </span>\n                                            }\n                                        />\n                                        <TextField\n                                            id=\"standard-number\"\n                                            label=\"Stored logs\"\n                                            style={{ minWidth: '90px' }}\n                                            defaultValue={logLength}\n                                            onChange={e => {\n                                                window.sessionStorage.setItem(\n                                                    'messages',\n                                                    e.target.value\n                                                );\n                                                setLogLength(e.target.value);\n                                            }}\n                                            type=\"number\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            InputProps={{\n                                                inputProps: {\n                                                    min: 0,\n                                                    max: 100,\n                                                    style: { textAlign: 'center' },\n                                                },\n                                            }}\n                                        />\n                                    </div>\n                                </div>\n                                <div className={classes.saved}>\n                                    {logger &&\n                                        logger.length > 0 &&\n                                        logger.map((l, i) => (\n                                            <div\n                                                key={i}\n                                                className={\n                                                    wrap ? classes.wrapping : classes.not_wrapping\n                                                }\n                                            >\n                                                <span className={classes.lineno}>{i + 1}</span>{' '}\n                                                <span className={classes.linetime}>\n                                                    {l.asctime}\n                                                </span>{' '}\n                                                | [\n                                                <span\n                                                    style={{\n                                                        color:\n                                                            l.levelno === 10\n                                                                ? 'purple'\n                                                                : l.levelno === 20\n                                                                ? 'cyan'\n                                                                : l.levelno === 30\n                                                                ? 'yellow'\n                                                                : l.levelno === 40\n                                                                ? 'orange'\n                                                                : l.levelno === 50\n                                                                ? 'red'\n                                                                : 'green',\n                                                    }}\n                                                >\n                                                    {l.levelname}\n                                                </span>\n                                                ]{' '}\n                                                <span\n                                                    style={{\n                                                        color: '#fff',\n                                                    }}\n                                                >\n                                                    {l.message}\n                                                </span>\n                                            </div>\n                                        ))}\n                                </div>\n                            </AccordionDetails>\n                        </Accordion>\n                    </>\n                ) : (\n                    <div style={{ minHeight: 300, width: '100%' }}>\n                        <div style={{ height: 300 }}>\n                            <LazyLog\n                                enableSearch\n                                url={ws_log_url}\n                                value={'hi'}\n                                websocket\n                                follow\n                                websocketOptions={{\n                                    onClose: () => {\n                                        if (socket) {\n                                            return;\n                                        }\n                                    },\n\n                                    onOpen: (e, sock) => {\n                                        socket = sock;\n                                        sock.send(\n                                            JSON.stringify({ message: 'Logger Websocket Open' })\n                                        );\n                                    },\n                                    formatMessage: e => {\n                                        const line = `${\n                                            JSON.parse(e).levelno === 10\n                                                ? '\\u001b[36m'\n                                                : JSON.parse(e).levelno === 20\n                                                ? '\\u001b[34m'\n                                                : JSON.parse(e).levelno === 30\n                                                ? '\\u001b[33m'\n                                                : JSON.parse(e).levelno === 40\n                                                ? '\\u001b[31m'\n                                                : JSON.parse(e).levelno === 50\n                                                ? '\\u001b[35m'\n                                                : '\\u001b[32m'\n                                        }[${JSON.parse(e).levelname}] \\u001b[37m${\n                                            JSON.parse(e).name\n                                        } : ${JSON.parse(e).message}`;\n                                        const saveLine = {\n                                            levelno: JSON.parse(e).levelno,\n                                            levelname: JSON.parse(e).levelname,\n                                            message: JSON.parse(e).message,\n                                            asctime: JSON.parse(e).asctime,\n                                        };\n\n                                        const log =\n                                            JSON.parse(window.sessionStorage.getItem('logger')) ||\n                                            [];\n                                        log.push(saveLine);\n                                        const test = log.slice(\n                                            log.length > logLength - 1 ? log.length - logLength : 0,\n                                            log.length\n                                        );\n                                        setLogger(test);\n\n                                        window.sessionStorage.setItem(\n                                            'logger',\n                                            JSON.stringify(test)\n                                        );\n\n                                        return line;\n                                    },\n                                }}\n                            />\n                        </div>\n                    </div>\n                )}\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default LogCard;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Button from '@material-ui/core/Button';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst ControlsCard = () => {\n    return (\n        <Card>\n            <CardHeader title=\"Controls\" subheader=\"for development\" />\n            <CardContent>\n                <Button\n                    size=\"small\"\n                    startIcon={<CloudUploadIcon />}\n                    variant=\"contained\"\n                    style={{ marginRight: '10px' }}\n                >\n                    Export Configuration\n                </Button>\n                <Button\n                    size=\"small\"\n                    startIcon={<CloudDownloadIcon />}\n                    variant=\"contained\"\n                    style={{ marginRight: '10px' }}\n                >\n                    Import Configuration\n                </Button>\n                <Button size=\"small\" startIcon={<PowerSettingsNewIcon />} variant=\"contained\">\n                    Shutdown\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ControlsCard;\n","import React, { useState } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nconst ThemesCard = () => {\n    const [theme, setTheme] = useState(window.localStorage.getItem('blade') || 0);\n\n    const changeTheme = event => {\n        setTheme(event.target.value);\n        window.localStorage.setItem('blade', event.target.value);\n        window.location = window.location.href;\n    };\n    return (\n        <Card>\n            <CardHeader title=\"UI-Settings\" subheader=\"Customize the appearance of LedFx\" />\n            <CardContent>\n                <FormControl>\n                    <InputLabel id=\"theme-selector\">Theme</InputLabel>\n                    <Select\n                        labelId=\"theme-selector\"\n                        id=\"theme-select\"\n                        value={theme}\n                        onChange={changeTheme}\n                    >\n                        <MenuItem value={0}>Default</MenuItem>\n                        <MenuItem value={1}>Dark</MenuItem>\n                        <MenuItem value={2}>Blade</MenuItem>\n                        <MenuItem value={3}>BladeDark</MenuItem>\n                    </Select>\n                </FormControl>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ThemesCard;\n","import React from 'react';\nimport AceEditor from 'react-ace';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport 'ace-builds/src-noconflict/mode-yaml';\nimport 'ace-builds/src-noconflict/theme-twilight';\nimport 'ace-builds/src-noconflict/theme-github';\n\n// const yaml = require('./ledfx-config.yml');\nconst yaml2 = `\ncrossfade: 1.0\ncustom_presets: {}\ndev_mode: false\ndevices: []\nfade: 1.0\nhost: 0.0.0.0\nintegrations: []\nmax_workers: 10\nport: 8888\nscenes: {}\nvirtuals: []\n\n`;\nfunction onChange(newValue) {\n    // console.log('change', newValue);\n}\n\nconst ConfigEditor = () => {\n    return (\n        <Card>\n            <CardHeader title=\"Config Editor\" subheader=\"for development\" />\n            <CardContent>\n                <AceEditor\n                    mode=\"yaml\"\n                    theme={window.localStorage.getItem('blade') === '3' ? 'twilight' : 'github'}\n                    onChange={onChange}\n                    value={yaml2}\n                    name=\"UNIQUE_ID_OF_DIV\"\n                    editorProps={{ $blockScrolling: true }}\n                    placeholder={'AWESOME SHIT INCOMING.... - hacked by Blade'}\n                    style={{ width: '100%' }}\n                />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ConfigEditor;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Grid from '@material-ui/core/Grid';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Button, Divider } from '@material-ui/core';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\n\nimport Check from '@material-ui/icons/Check';\nimport Warning from '@material-ui/icons/Warning';\nimport Info from '@material-ui/icons/Info';\n\nimport LogCard from './LogCard';\nimport ControlsCard from './ControlsCard';\nimport ThemesCard from './ThemesCard';\nimport ConfigEditor from './ConfigEditor';\nimport { fetchDisplayList } from 'modules/displays';\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst AdvancedView = () => {\n    const [snackbarState, setSnackbarState] = useState({ open: false, message: '', type: 'error' });\n\n    const handleClose = () => {\n        setSnackbarState({ ...snackbarState, open: false });\n    };\n    const dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(fetchDisplayList());\n    }, [dispatch]);\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} md={12}>\n                <ThemesCard />\n                <Divider style={{ margin: '2rem 0' }} />\n                <LogCard />\n\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 && (\n                    <>\n                        <Divider style={{ margin: '2rem 0' }} />\n                        <ControlsCard />\n                        <Divider style={{ margin: '2rem 0' }} />\n                        <ConfigEditor />\n                        <Divider style={{ margin: '2rem 0' }} />\n                        <Card>\n                            <CardHeader title=\"DevButtons\" subheader=\"for development\" />\n                            <CardContent>\n                                <Button\n                                    size=\"small\"\n                                    startIcon={<Warning />}\n                                    variant=\"contained\"\n                                    style={{ marginRight: '10px' }}\n                                    onClick={() => {\n                                        setSnackbarState({\n                                            ...snackbarState,\n                                            message: 'TEST ERROR',\n                                            open: true,\n                                        });\n                                    }}\n                                >\n                                    Error Message\n                                </Button>\n                                <Button\n                                    size=\"small\"\n                                    startIcon={<Check />}\n                                    variant=\"contained\"\n                                    style={{ marginRight: '10px' }}\n                                    onClick={() => {\n                                        setSnackbarState({\n                                            ...snackbarState,\n                                            message: 'TEST SUCCESS',\n                                            open: true,\n                                            type: 'success',\n                                        });\n                                    }}\n                                >\n                                    Success Message\n                                </Button>\n                                <Button\n                                    size=\"small\"\n                                    startIcon={<Warning />}\n                                    style={{ marginRight: '10px' }}\n                                    variant=\"contained\"\n                                    onClick={() => {\n                                        setSnackbarState({\n                                            ...snackbarState,\n                                            message: 'TEST WARNING',\n                                            open: true,\n                                            type: 'warning',\n                                        });\n                                    }}\n                                >\n                                    Warning Message\n                                </Button>\n                                <Button\n                                    size=\"small\"\n                                    startIcon={<Info />}\n                                    variant=\"contained\"\n                                    onClick={() => {\n                                        setSnackbarState({\n                                            ...snackbarState,\n                                            message: 'TEST INFO',\n                                            open: true,\n                                            type: 'info',\n                                        });\n                                    }}\n                                >\n                                    Info Message\n                                </Button>\n                            </CardContent>\n                        </Card>\n                    </>\n                )}\n            </Grid>\n            <Snackbar\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                autoHideDuration={1000 + snackbarState.message.length * 60}\n                open={snackbarState.open}\n                onClose={handleClose}\n                key={'bottomcenter'}\n            >\n                <Alert severity={snackbarState.type}>{snackbarState.message}</Alert>\n            </Snackbar>\n        </Grid>\n    );\n};\n\nexport default AdvancedView;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from '@material-ui/core/InputLabel';\n\nconst useStyles = makeStyles({\n    form: {\n        display: 'flex',\n    },\n});\n\nconst AudioCard = ({ options, value, onChange, error, isSaving, isLoading }) => {\n    const classes = useStyles();\n    const handleAudioSelected = e => {\n        const { value } = e.target;\n        const selectedOption = options.find(o => o.value === value) || {};\n        onChange(selectedOption);\n    };\n\n    return (\n        <Card>\n            <CardHeader title=\"Audio Input\" subheader=\"Select an audio source for LedFx\" />\n            <CardContent>\n                <FormControl error={!!error} className={classes.form} disabled={isLoading || isSaving}>\n                    <InputLabel id=\"audio-input-select-label\">Current Device</InputLabel>\n                    <Select\n                        labelId=\"audio-input-select-label\"\n                        id=\"audio-input-select\"\n                        value={value}\n                        onChange={handleAudioSelected}\n                    >\n                        {options.map(({ index, value }) => (\n                            <MenuItem key={index} value={value}>\n                                {value}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                    <FormHelperText>{error}</FormHelperText>\n                </FormControl>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default AudioCard;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles({\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n\nconst ConfigCard = ({ settings, error }) => {\n    const classes = useStyles();\n    return (\n        <Card>\n            <CardHeader title=\"Configs\" subheader=\"Manage network and developer settings\" />\n            <CardContent className={classes.content}>\n                <InputLabel id=\"host-label\">Host</InputLabel>\n                <TextField disabled label-id=\"host-label\" id=\"host\" value={settings.host} />\n                <InputLabel id=\"port-label\">Port</InputLabel>\n                <TextField disabled label-id=\"port-label\" id=\"port\" value={settings.port} />\n                <InputLabel id=\"devMode-label\">DevMode</InputLabel>\n                <TextField\n                    disabled\n                    label-id=\"devMode-label\"\n                    id=\"devMode\"\n                    value={settings.devMode}\n                />\n                {error && <FormHelperText>{error}</FormHelperText>}\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ConfigCard;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Card,\n    CardHeader,\n    CardActions,\n    CardContent,\n    Accordion,\n    AccordionSummary,\n    AccordionDetails,\n    Button,\n    TextField,\n    FormControlLabel,\n    Checkbox,\n    IconButton,\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Delete } from '@material-ui/icons';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport { useSelector } from 'react-redux';\n\nconst { LazyLog } = require('react-lazylog');\nconst { NODE_ENV } = process.env;\nconst { hostname, port } = window.location;\n\nconst wsBaseUrl = NODE_ENV === 'development' ? 'localhost:8888' : `${hostname}:${port}`;\nconst useStyles = makeStyles({\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    saved: {\n        backgroundColor: '#222222',\n        padding: '2rem',\n        fontFamily: '\"Monaco\", monospace',\n        fontSize: '12px',\n        width: '100%',\n        overflowX: 'scroll',\n    },\n    lineno: {\n        color: '#999',\n        width: '35px',\n        marginRight: '1rem',\n        textAlign: 'right',\n        display: 'inline-block',\n    },\n    linetime: {\n        color: '#999',\n    },\n    root: {\n        flexWrap: 'wrap',\n    },\n    bar: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'space-between',\n        margin: '0.5rem',\n    },\n    wrapping: {\n        whiteSpace: 'wrap',\n    },\n    not_wrapping: {\n        whiteSpace: 'nowrap',\n    },\n});\nconst ws_log_url = `ws://${wsBaseUrl}/api/log`;\nlet socket = null;\nconst LogCard = ({ settings, error }) => {\n    const classes = useStyles();\n    const [logger, setLogger] = useState(JSON.parse(window.sessionStorage.getItem('logger')) || []);\n    const [logLength, setLogLength] = useState(\n        JSON.parse(window.sessionStorage.getItem('messages')) || 30\n    );\n    const [wrap, setWrap] = useState(false);\n    const settings2 = useSelector(state => state.settings);\n    return (\n        <Card>\n            <CardHeader title=\"Console\" subheader=\"View the Console\" />\n            <CardContent className={classes.content}>\n                {parseInt(window.localStorage.getItem('BladeMod')) > 1 ? (\n                    <>\n                        <Accordion expanded={true}>\n                            <AccordionSummary aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n                                <Typography className={classes.heading}>\n                                    Realtime-Console\n                                </Typography>\n                            </AccordionSummary>\n\n                            <AccordionDetails>\n                                <div style={{ minHeight: 300, width: '100%' }}>\n                                    <div style={{ height: 300 }}>\n                                        <LazyLog\n                                            enableSearch\n                                            url={ws_log_url}\n                                            value={'hi'}\n                                            websocket\n                                            follow\n                                            websocketOptions={{\n                                                onClose: () => {\n                                                    if (socket) {\n                                                        return;\n                                                    }\n                                                },\n\n                                                onOpen: (e, sock) => {\n                                                    socket = sock;\n                                                    sock.send(\n                                                        JSON.stringify({\n                                                            message: 'Logger Websocket Open',\n                                                        })\n                                                    );\n                                                },\n                                                formatMessage: e => {\n                                                    const line = `${\n                                                        JSON.parse(e).levelno === 10\n                                                            ? '\\u001b[36m'\n                                                            : JSON.parse(e).levelno === 20\n                                                            ? '\\u001b[34m'\n                                                            : JSON.parse(e).levelno === 30\n                                                            ? '\\u001b[33m'\n                                                            : JSON.parse(e).levelno === 40\n                                                            ? '\\u001b[31m'\n                                                            : JSON.parse(e).levelno === 50\n                                                            ? '\\u001b[35m'\n                                                            : '\\u001b[32m'\n                                                    }[${JSON.parse(e).levelname}] \\u001b[37m${\n                                                        JSON.parse(e).name\n                                                    } : ${JSON.parse(e).message}`;\n                                                    const saveLine = {\n                                                        levelno: JSON.parse(e).levelno,\n                                                        levelname: JSON.parse(e).levelname,\n                                                        message: JSON.parse(e).message,\n                                                        asctime: JSON.parse(e).asctime,\n                                                    };\n\n                                                    const log =\n                                                        JSON.parse(\n                                                            window.sessionStorage.getItem('logger')\n                                                        ) || [];\n                                                    log.push(saveLine);\n                                                    const test = log.slice(\n                                                        log.length > logLength - 1\n                                                            ? log.length - logLength\n                                                            : 0,\n                                                        log.length\n                                                    );\n                                                    setLogger(test);\n\n                                                    window.sessionStorage.setItem(\n                                                        'logger',\n                                                        JSON.stringify(test)\n                                                    );\n\n                                                    return line;\n                                                },\n                                            }}\n                                        />\n                                    </div>\n                                </div>\n                            </AccordionDetails>\n                        </Accordion>\n                        <Accordion>\n                            <AccordionSummary\n                                expandIcon={<ExpandMoreIcon />}\n                                aria-controls=\"panel2a-content\"\n                                id=\"panel2a-header\"\n                            >\n                                <Typography className={classes.heading}>\n                                    SavedLogs-Console\n                                </Typography>\n                            </AccordionSummary>\n                            <AccordionDetails className={classes.root}>\n                                <div className={classes.bar}>\n                                    <Typography className={classes.heading}></Typography>\n                                    <div\n                                        style={{\n                                            display: 'flex',\n                                            justifyContent: 'center',\n                                            alignItems: 'center',\n                                        }}\n                                    >\n                                        <Button\n                                            size=\"large\"\n                                            style={{ marginRight: '1rem' }}\n                                            startIcon={<Delete />}\n                                            variant=\"text\"\n                                            onClick={() => {\n                                                window.sessionStorage.removeItem('logger');\n                                                setLogger([]);\n                                            }}\n                                        ></Button>\n                                        <FormControlLabel\n                                            value=\"top\"\n                                            control={\n                                                <Checkbox\n                                                    color=\"primary\"\n                                                    checked={wrap}\n                                                    onChange={() => setWrap(!wrap)}\n                                                    style={{ padding: '2px 8px 13px' }}\n                                                />\n                                            }\n                                            labelPlacement=\"top\"\n                                            label={\n                                                <span style={{ fontSize: '0.7rem', color: '#bbb' }}>\n                                                    Wrap\n                                                </span>\n                                            }\n                                        />\n                                        <TextField\n                                            id=\"standard-number\"\n                                            label=\"Stored logs\"\n                                            style={{ minWidth: '90px' }}\n                                            defaultValue={logLength}\n                                            onChange={e => {\n                                                window.sessionStorage.setItem(\n                                                    'messages',\n                                                    e.target.value\n                                                );\n                                                setLogLength(e.target.value);\n                                            }}\n                                            type=\"number\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            InputProps={{\n                                                inputProps: {\n                                                    min: 0,\n                                                    max: 100,\n                                                    style: { textAlign: 'center' },\n                                                },\n                                            }}\n                                        />\n                                    </div>\n                                </div>\n                                <div className={classes.saved}>\n                                    {logger &&\n                                        logger.length > 0 &&\n                                        logger.map((l, i) => (\n                                            <div\n                                                key={i}\n                                                className={\n                                                    wrap ? classes.wrapping : classes.not_wrapping\n                                                }\n                                            >\n                                                <span className={classes.lineno}>{i + 1}</span>{' '}\n                                                <span className={classes.linetime}>\n                                                    {l.asctime}\n                                                </span>{' '}\n                                                | [\n                                                <span\n                                                    style={{\n                                                        color:\n                                                            l.levelno === 10\n                                                                ? 'purple'\n                                                                : l.levelno === 20\n                                                                ? 'cyan'\n                                                                : l.levelno === 30\n                                                                ? 'yellow'\n                                                                : l.levelno === 40\n                                                                ? 'orange'\n                                                                : l.levelno === 50\n                                                                ? 'red'\n                                                                : 'green',\n                                                    }}\n                                                >\n                                                    {l.levelname}\n                                                </span>\n                                                ]{' '}\n                                                <span\n                                                    style={{\n                                                        color: '#fff',\n                                                    }}\n                                                >\n                                                    {l.message}\n                                                </span>\n                                            </div>\n                                        ))}\n                                </div>\n                            </AccordionDetails>\n                        </Accordion>\n                    </>\n                ) : (\n                    <div style={{ minHeight: 300, width: '100%' }}>\n                        <div style={{ height: 300 }}>\n                            <LazyLog\n                                enableSearch\n                                url={ws_log_url}\n                                value={'hi'}\n                                websocket\n                                follow\n                                websocketOptions={{\n                                    onClose: () => {\n                                        if (socket) {\n                                            return;\n                                        }\n                                    },\n\n                                    onOpen: (e, sock) => {\n                                        socket = sock;\n                                        sock.send(\n                                            JSON.stringify({ message: 'Logger Websocket Open' })\n                                        );\n                                    },\n                                    formatMessage: e => {\n                                        const line = `${\n                                            JSON.parse(e).levelno === 10\n                                                ? '\\u001b[36m'\n                                                : JSON.parse(e).levelno === 20\n                                                ? '\\u001b[34m'\n                                                : JSON.parse(e).levelno === 30\n                                                ? '\\u001b[33m'\n                                                : JSON.parse(e).levelno === 40\n                                                ? '\\u001b[31m'\n                                                : JSON.parse(e).levelno === 50\n                                                ? '\\u001b[35m'\n                                                : '\\u001b[32m'\n                                        }[${JSON.parse(e).levelname}] \\u001b[37m${\n                                            JSON.parse(e).name\n                                        } : ${JSON.parse(e).message}`;\n                                        const saveLine = {\n                                            levelno: JSON.parse(e).levelno,\n                                            levelname: JSON.parse(e).levelname,\n                                            message: JSON.parse(e).message,\n                                            asctime: JSON.parse(e).asctime,\n                                        };\n\n                                        const log =\n                                            JSON.parse(window.sessionStorage.getItem('logger')) ||\n                                            [];\n                                        log.push(saveLine);\n                                        const test = log.slice(\n                                            log.length > logLength - 1 ? log.length - logLength : 0,\n                                            log.length\n                                        );\n                                        setLogger(test);\n\n                                        window.sessionStorage.setItem(\n                                            'logger',\n                                            JSON.stringify(test)\n                                        );\n\n                                        return line;\n                                    },\n                                }}\n                            />\n                        </div>\n                    </div>\n                )}\n            </CardContent>\n            <CardActions style={{ justifyContent: 'flex-end' }}>\n                {logger.length > 2 && (\n                    <IconButton\n                        aria-label=\"BugTracker\"\n                        color=\"inherit\"\n                        onClick={() => {\n                            const message = `\n<!---ENTER A TITLE--->\n<!---DESCRIBE YOUR ISSUE IN DETAIL--->\n\n\n<!---DON'T TOUCH THE REST - JUST CLICK PREVIEW--->\n## Settings:\n\\`\\`\\`json\n${JSON.stringify(settings2, null, 2)}\n\\`\\`\\`\n\n\n## userAgent:\n\\`\\`\\`json\n${navigator.userAgent.replaceAll(';', '-')}\n\\`\\`\\`\n\n## Logs:\n\\`\\`\\`json\n${JSON.stringify(\n    logger.map(l => l.message).filter((v, i, a) => a.indexOf(v) === i),\n    null,\n    2\n)}\n\\`\\`\\`\n    `;\n                            window.open(\n                                `https://github.com/LedFx/LedFx/issues/new?body=${encodeURIComponent(\n                                    message\n                                )}`\n                            );\n                        }}\n                        target=\"_blank\"\n                        title=\"BugTracker\"\n                    >\n                        <BugReportIcon />\n                    </IconButton>\n                )}\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default LogCard;\n","import React, { useState } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nconst ThemesCard = () => {\n    const [theme, setTheme] = useState(window.localStorage.getItem('blade') || 0);\n\n    const changeTheme = event => {\n        setTheme(event.target.value);\n        window.localStorage.setItem('blade', event.target.value);\n        window.location = window.location.href;\n    };\n    return (\n        <Card>\n            <CardHeader title=\"UI-Settings\" subheader=\"Customize the appearance of LedFx\" />\n            <CardContent>\n                <FormControl>\n                    <InputLabel id=\"theme-selector\">Theme</InputLabel>\n                    <Select\n                        labelId=\"theme-selector\"\n                        id=\"theme-select\"\n                        value={theme}\n                        onChange={changeTheme}\n                    >\n                        <MenuItem value={0}>Default</MenuItem>\n                        <MenuItem value={1}>Dark</MenuItem>\n                        <MenuItem value={2}>Blade</MenuItem>\n                        <MenuItem value={3}>BladeDark</MenuItem>\n                    </Select>\n                </FormControl>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ThemesCard;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport { getAudioInputs, setAudioInput } from 'modules/settings';\n\nimport AudioInputCard from './AudioInput';\nimport ConfigCard from './ConfigCard';\nimport LogCard from './LogCard';\nimport ThemesCard from './ThemesCard';\nimport { fetchDisplayList } from 'modules/displays';\n\nconst styles = theme => ({});\n\nclass SettingsView extends Component {\n    componentDidMount() {\n        this.props.getAudioInputs();\n        this.props.fetchDisplayList();\n    }\n\n    render() {\n        const { setAudioInput, settings } = this.props;\n        const { audioInputs } = settings;\n\n        return (\n            <Grid container direction=\"column\" spacing={4} style={{ overflow: 'hidden' }}>\n                <Grid container item direction=\"row\" spacing={4}>\n                    <Grid item md={4}>\n                        <AudioInputCard {...audioInputs} onChange={setAudioInput} />\n                    </Grid>\n                    <Grid item md={4}>\n                        <ThemesCard />\n                    </Grid>\n                    <Grid item md={4}>\n                        <ConfigCard settings={settings} />\n                    </Grid>\n                    <Grid item md={12}>\n                        <LogCard />\n                    </Grid>\n                    `\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nexport default connect(\n    state => ({\n        settings: state.settings,\n    }),\n    {\n        getAudioInputs,\n        setAudioInput,\n        fetchDisplayList,\n    }\n)(withStyles(styles)(SettingsView));\n","import { api } from 'utils/api';\n\nexport function getSystemConfig() {\n    return api.get('/config');\n}\n\nexport function getSystemInfo() {\n    return api.get('/info');\n}\n\nexport function getAudioInputs() {\n    return api.get('/audio/devices');\n}\nexport function updateSelectedAudioInput(data) {\n    return api.put('/audio/devices', data);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Line } from 'react-chartjs-2';\nimport { createWebSocket } from 'utils/api/websocket';\n\nconst styles = theme => ({\n    content: {\n        minWidth: 120,\n        maxWidth: '100%',\n    },\n});\n\nclass PixelColorGraph extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.websocketPacketId = 1;\n        this.deviceUpdateSubscription = null;\n\n        this.state = {\n            chartData: {\n                labels: [],\n                datasets: [\n                    {\n                        label: 'Melbank',\n                        lineTension: 0.1,\n                        backgroundColor: 'rgba(0,0,0,0.1)',\n                        borderColor: 'rgba(0,0,0,1)',\n                        pointRadius: 0,\n                        data: [],\n                    },\n                ],\n            },\n            chartOptions: {\n                responsive: true,\n                maintainAspectRatio: false,\n                tooltips: { enabled: false },\n                hover: {\n                    animationDuration: 0,\n                    mode: null,\n                },\n                animation: {\n                    duration: 0,\n                },\n                responsiveAnimationDuration: 0,\n                scales: {\n                    xAxes: [\n                        {\n                            gridLines: {\n                                display: false,\n                            },\n                            ticks: {\n                                maxTicksLimit: 7,\n                                callback: function(value, index, values) {\n                                    return value + ' Hz';\n                                },\n                            },\n                        },\n                    ],\n                    yAxes: [\n                        {\n                            ticks: {\n                                min: 0,\n                                max: 2.0,\n                                stepSize: 0.5,\n                            },\n                            gridLines: {\n                                color: 'rgba(0, 0, 0, .125)',\n                            },\n                        },\n                    ],\n                },\n                legend: {\n                    display: false,\n                },\n            },\n        };\n    }\n\n    handleMessage = e => {\n        var chartData = this.state.chartData;\n        var messageData = JSON.parse(e.data);\n        chartData.labels = messageData.frequencies;\n        chartData.datasets[0].data = messageData.melbank;\n\n        // Adjust the axes based on the max\n        var melbankMax = Math.max.apply(Math, messageData.melbank);\n        var chartOptions = this.state.chartOptions;\n        chartOptions.scales.yAxes[0].ticks.min = 0;\n        chartOptions.scales.yAxes[0].ticks.max = Math.max(\n            chartOptions.scales.yAxes[0].ticks.max,\n            melbankMax\n        );\n        chartOptions.scales.yAxes[0].ticks.stepSize = chartOptions.scales.yAxes[0].ticks.max / 4;\n\n        this.setState({ chartData: chartData, chartOptions: chartOptions });\n    };\n\n    handleOpen = e => {\n        this.enablePixelVisualization();\n    };\n\n    handleClose = e => {};\n\n    enablePixelVisualization = () => {\n        this.state.ws.json({\n            id: this.websocketPacketId,\n            type: 'subscribe_event',\n            event_type: 'graph_update',\n            event_filter: { graph_id: this.props.graphId },\n        });\n        this.deviceUpdateSubscription = this.websocketPacketId;\n        this.websocketPacketId++;\n    };\n\n    disablePixelVisualization = () => {\n        this.state.ws.json({\n            id: this.websocketPacketId,\n            type: 'unsubscribe_event',\n            subscription_id: this.deviceUpdateSubscription,\n        });\n        this.deviceUpdateSubscription = null;\n        this.websocketPacketId++;\n    };\n\n    connectWebsocket = () => {\n        const ws = createWebSocket({\n            timeout: 5e3,\n            maxAttempts: 10,\n            onopen: this.handleOpen,\n            onmessage: this.handleMessage,\n            onclose: this.handleClose,\n            onerror: e => console.log('WebSocket Error:', e),\n        });\n\n        this.setState({ ws: ws });\n    };\n\n    disconnectWebsocket = () => {\n        if (this.state.ws !== undefined) {\n            this.state.ws.close(1000);\n            this.setState({ ws: undefined });\n        }\n    };\n\n    componentDidMount() {\n        this.connectWebsocket();\n    }\n\n    componentWillUnmount() {\n        this.disconnectWebsocket();\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Card>\n                <CardContent className={classes.content}>\n                    <Line data={this.state.chartData} options={this.state.chartOptions} />\n                </CardContent>\n            </Card>\n        );\n    }\n}\n\nPixelColorGraph.propTypes = {\n    classes: PropTypes.object.isRequired,\n    graphId: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(PixelColorGraph);\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport MelbankGraph from 'components/MelbankGraph';\n\nclass DeveloperView extends React.Component {\n    render() {\n        const { graphString } = this.props.match.params;\n\n        let graphList = graphString.split('+');\n        let graphDom = Object.keys(graphList).map(graphIndex => {\n            return (\n                <Grid item key={graphIndex} xs={12}>\n                    <p>{graphList[graphIndex].replace(/^\\w/, c => c.toUpperCase())} Graph</p>\n                    <MelbankGraph key={graphIndex} graphId={graphList[graphIndex]} />\n                </Grid>\n            );\n        });\n\n        return (\n            <Grid container spacing={3}>\n                {graphDom}\n            </Grid>\n        );\n    }\n}\n\nexport default DeveloperView;\n","// Icons\nimport Dashboard from '@material-ui/icons/Dashboard';\nimport List from '@material-ui/icons/List';\nimport Settings from '@material-ui/icons/Settings';\nimport Tune from '@material-ui/icons/Tune';\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport BuildIcon from '@material-ui/icons/Build';\nimport DeviceHubIcon from '@material-ui/icons/DeviceHub';\nimport PowerIcon from '@material-ui/icons/Power';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport TvIcon from '@material-ui/icons/Tv';\n\n// Components and Views\nimport DashboardView from '../views/Dashboard';\nimport DevicesView from '../views/Devices';\nimport ScenesView from '../views/Scenes';\nimport DeviceView from '../views/Device';\nimport DisplayView from '../views/Display';\nimport VirtualsView from '../views/Virtuals';\nimport DisplaysView from '../views/Displays';\nimport IntegrationsView from '../views/Integrations';\nimport AdvancedView from '../views/Advanced';\nimport SettingsView from '../views/Settings';\nimport DeveloperView from '../views/Developer';\n\nconst virtuals =\n    parseInt(window.localStorage.getItem('BladeMod')) > 2\n        ? {\n              path: '/virtuals',\n              sidebarName: 'Virtual Strips',\n              navbarName: 'Virtual Strips',\n              icon: DeviceHubIcon,\n              component: VirtualsView,\n          }\n        : {\n              path: '/virtuals',\n              navbarName: 'Virtual Strips',\n              icon: DeviceHubIcon,\n              component: VirtualsView,\n          };\nconst displays =\n    parseInt(window.localStorage.getItem('BladeMod')) > 1\n        ? {\n              path: '/displays',\n              navbarName: 'Displays',\n              icon: TvIcon,\n              component: DisplaysView,\n          }\n        : {\n              path: '/displays',\n              navbarName: 'Displays',\n              icon: TvIcon,\n              component: DisplaysView,\n          };\nconst integrations =\n    parseInt(window.localStorage.getItem('BladeMod')) > 1\n        ? {\n              path: '/integrations',\n              sidebarName: 'Integrations',\n              navbarName: 'Integrations',\n              icon: PowerIcon,\n              component: IntegrationsView,\n          }\n        : {\n              path: '/integrations',\n              navbarName: 'Integrations',\n              icon: PowerIcon,\n              component: IntegrationsView,\n          };\nconst advanced =\n    parseInt(window.localStorage.getItem('BladeMod')) > 2\n        ? {\n              path: '/advanced',\n              sidebarName: 'Advanced',\n              navbarName: 'Advanced',\n              icon: LockOpenIcon,\n              component: AdvancedView,\n          }\n        : {\n              path: '/advanced',\n              navbarName: 'Advanced',\n              icon: LockOpenIcon,\n              component: AdvancedView,\n          };\nconst viewRoutes = [\n    {\n        path: '/dashboard',\n        sidebarName: 'Dashboard',\n        navbarName: 'Dashboard',\n        icon: Dashboard,\n        component: DashboardView,\n    },\n    {\n        path: '/displays/:displayId',\n        navbarName: 'Displays',\n        sidebarName: 'Displays',\n        icon: List,\n        component: DisplayView,\n    },\n    {\n        path: '/devices/:deviceId',\n        navbarName: 'Devices',\n        sidebarName: 'Devices',\n        icon: List,\n        component: DeviceView,\n    },\n    {\n        path: '/scenes',\n        sidebarName: 'Scenes Management',\n        navbarName: 'Scenes Management',\n        icon: SaveAltIcon,\n        component: ScenesView,\n    },\n    {\n        path: '/devices',\n        sidebarName: 'Device Management',\n        navbarName: 'Device Management',\n        icon: Settings,\n        component: DevicesView,\n    },\n    displays,\n    integrations,\n    virtuals,\n    {\n        path: '/settings',\n        sidebarName: 'Settings',\n        navbarName: 'Settings',\n        icon: BuildIcon,\n        component: SettingsView,\n    },\n    advanced,\n    {\n        path: '/developer/:graphString',\n        navbarName: 'Developer',\n        component: DeveloperView,\n    },\n    {\n        path: '/developer/melbank',\n        sidebarName: 'Developer',\n        navbarName: 'Developer',\n        icon: Tune,\n        component: DeveloperView,\n    },\n    { redirect: true, path: '/', to: '/dashboard', navbarName: 'Redirect' },\n];\n\nexport default viewRoutes;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\nimport Typography from '@material-ui/core/Typography';\nimport Menu from '@material-ui/icons/Menu';\nimport RedeemIcon from '@material-ui/icons/Redeem';\nimport StarIcon from '@material-ui/icons/Star';\nimport DevIcon from '@material-ui/icons/DeveloperMode';\nimport viewRoutes from 'routes/views.jsx';\nimport { drawerWidth } from 'utils/style';\nimport Fab from '@material-ui/core/Fab';\n\nconst styles = theme => ({\n    appBar: {\n        backgroundColor: theme.palette.background.default,\n        paddingLeft: drawerWidth,\n        [theme.breakpoints.up('md')]: {\n            width: `100%`,\n            left: 0,\n        },\n    },\n    // toolBar: {\n    //     background: 'rgb(16,16,16)',\n    //     bordeBottom: '1px solid rgba(255, 255, 255, 0.12)',\n    // },\n    flex: {\n        flex: 1,\n        fontSize: 18,\n        fontWeight: 300,\n    },\n});\n\nconst Header = props => {\n    const getPageName = () => {\n        const { location, devicesDictionary } = props;\n        const { pathname } = location;\n        let name = viewRoutes.find((prop, key) => prop.path === pathname)?.navbarName;\n\n        if (!name) {\n            if (pathname.startsWith('/devices/')) {\n                const deviceId = pathname.replace('/devices/', '');\n                const deviceName =\n                    devicesDictionary[deviceId] !== undefined\n                        ? devicesDictionary[deviceId].config.name\n                        : '';\n                name = 'Devices / ' + deviceName;\n            } else if (pathname.startsWith('/displays/')) {\n                const deviceId = pathname.replace('/displays/', '');\n                const deviceName =\n                    devicesDictionary[deviceId] !== undefined\n                        ? devicesDictionary[deviceId].config.name\n                        : '';\n                name = 'Devices / ' + deviceName;\n            } else if (pathname.startsWith('/developer/')) {\n                name = 'Developer / Custom';\n            }\n        }\n        return name;\n    };\n    const [easterEgg, setEasterEgg] = useState(false);\n\n    const { classes } = props;\n    const name = getPageName();\n    return (\n        <AppBar className={classes.appBar}>\n            <Toolbar className={classes.toolBar}>\n                <>\n                    <Typography\n                        variant=\"h2\"\n                        color=\"textPrimary\"\n                        className={classes.flex}\n                        onDoubleClick={() => {\n                            if (name === 'Device Management') {\n                                setEasterEgg(true);\n                            }\n                        }}\n                    >\n                        {getPageName()}\n                    </Typography>\n                    {(easterEgg || parseInt(window.localStorage.getItem('BladeMod')) > 0) && (\n                        <Fab\n                            variant=\"round\"\n                            color=\"primary\"\n                            size=\"small\"\n                            onDoubleClick={() => {\n                                if (name === 'Settings') {\n                                    window.localStorage.setItem('BladeMod', 1);\n                                    window.location.pathname = '/settings';\n                                    return;\n                                }\n                                if (\n                                    name === 'Advanced' &&\n                                    window.localStorage.getItem('BladeMod') === '1' &&\n                                    window.localStorage.getItem('blade') === '3'\n                                ) {\n                                    window.localStorage.setItem('BladeMod', 2);\n                                    window.location.pathname = '/advanced';\n                                    return;\n                                }\n                                window.localStorage.setItem('BladeMod', 0);\n                                window.location.pathname = '/dashboard';\n                            }}\n                        >\n                            {window.localStorage.getItem('BladeMod') === '1' ? (\n                                <DevIcon />\n                            ) : parseInt(window.localStorage.getItem('BladeMod')) > 1 ? (\n                                <StarIcon />\n                            ) : (\n                                <RedeemIcon />\n                            )}\n                        </Fab>\n                    )}\n                    <Hidden mdUp>\n                        <IconButton aria-label=\"open drawer\" onClick={props.handleDrawerToggle}>\n                            <Menu />\n                        </IconButton>\n                    </Hidden>\n                </>\n            </Toolbar>\n        </AppBar>\n    );\n};\n\nHeader.propTypes = {\n    classes: PropTypes.object.isRequired,\n    devicesDictionary: PropTypes.object.isRequired,\n};\nexport default withStyles(styles)(Header);\n","import { drawerWidth } from 'utils/style';\n\nconst sidebarStyle = theme => ({\n    drawerPaper: {\n        width: drawerWidth,\n        [theme.breakpoints.up('md')]: {\n            width: drawerWidth,\n            position: 'fixed',\n            height: '100%',\n        },\n    },\n    logo: {\n        position: 'relative',\n        padding: '15px 15px',\n        zIndex: '4',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            bottom: '0',\n            height: '1px',\n            right: '15px',\n            width: 'calc(100% - 30px)',\n            backgroundColor: 'rgba(180, 180, 180, 0.3)',\n        },\n    },\n    logoLink: {\n        padding: '5px 0',\n        display: 'block',\n        fontSize: '18px',\n        textAlign: 'left',\n        fontWeight: '400',\n        lineHeight: '30px',\n        textDecoration: 'none',\n        backgroundColor: 'transparent',\n        '&,&:hover': {\n            color: '#FFFFFF',\n        },\n    },\n    logoImage: {\n        width: '30px',\n        display: 'inline-block',\n        maxHeight: '30px',\n        marginLeft: '10px',\n        marginRight: '15px',\n    },\n    img: {\n        width: '35px',\n        top: '17px',\n        position: 'absolute',\n        verticalAlign: 'middle',\n        border: '0',\n    },\n    background: {\n        position: 'absolute',\n        zIndex: '1',\n        height: '100%',\n        width: '100%',\n        display: 'block',\n        top: '0',\n        left: '0',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center center',\n        '&:after': {\n            position: 'absolute',\n            zIndex: '3',\n            width: '100%',\n            height: '100%',\n            content: '\"\"',\n            display: 'block',\n            background: '#000',\n            opacity: '.8',\n        },\n    },\n    list: {\n        marginTop: '20px',\n        paddingLeft: '0',\n        paddingTop: '0',\n        paddingBottom: '0',\n        marginBottom: '0',\n        listStyle: 'none',\n        position: 'unset',\n    },\n    item: {\n        position: 'relative',\n        display: 'block',\n        textDecoration: 'none',\n        '&:hover,&:focus,&:visited,&': {\n            color: '#FFFFFF',\n        },\n    },\n    itemLink: {\n        width: 'auto',\n        transition: 'all 300ms linear',\n        margin: '10px 15px 0',\n        borderRadius: '3px',\n        position: 'relative',\n        display: 'block',\n        padding: '10px 15px',\n        backgroundColor: 'transparent',\n    },\n    itemIcon: {\n        width: '24px',\n        minWidth: '24px',\n        height: '30px',\n        float: 'left',\n        marginRight: '15px',\n        marginTop: '2px',\n        textAlign: 'center',\n        verticalAlign: 'baseline',\n        color: 'rgba(255, 255, 255, 0.8)',\n    },\n    itemText: {\n        margin: '0',\n        lineHeight: '30px',\n        fontSize: '14px',\n        fontWeight: 300,\n        color: '#FFFFFF',\n        verticalAlign: 'middle',\n    },\n    devicesItemText: {\n        margin: '0',\n        marginLeft: '10px',\n        lineHeight: '30px',\n        fontSize: '14px',\n        fontWeight: 300,\n        color: '#FFFFFF',\n        textDecoration: 'none',\n    },\n    activeView: {\n        backgroundColor: [theme.palette.primary.main],\n        boxShadow: [theme.shadows[12]],\n        '&:hover,&:focus,&:visited,&': {\n            backgroundColor: [theme.palette.primary.main],\n            boxShadow: [theme.shadows[12]],\n        },\n        color: '#FFFFFF',\n    },\n    sidebarWrapper: {\n        position: 'relative',\n        height: 'calc(100vh - 70px)',\n        overflow: 'auto',\n        zIndex: '4',\n        overflowScrolling: 'touch',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n    },\n    bottomBar: {\n        position: 'relative',\n        background: theme.palette.grey[900],\n        bottom: 0,\n        left: 0,\n        right: 0,\n        paddingTop: '0.4rem',\n        paddingBottom: '0.4rem',\n        textAlign: 'center',\n        borderTop: `1px solid ${[theme.palette.background.default]}`,\n        color: '#FFFFFF',\n        '& > a': {\n            margin: '0 5px',\n        },\n    },\n});\n\nexport default sidebarStyle;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport BugReportIcon from '@material-ui/icons/BugReport';\n\nexport default function FormDialog({ color }) {\n    const WEBHOOK_URL =\n        'https://discord.com/api/webhooks/801611956452720660/lcCg8hzCRZcxnA-99JVtqX_GYLfgUsr0AjDH4seDNQNEC8XSKkHModopgjTAuFodhNwI';\n    const [open, setOpen] = React.useState(false);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    const settings = useSelector(state => state.settings);\n    const infos = {\n        userAgent: navigator.userAgent,\n        language: navigator.language,\n        platform: navigator.platform,\n    };\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n\n        sendMessage({ text: JSON.stringify(infos) });\n    };\n    const sendMessage = async ({ avatar = '' }) => {\n        const request = new XMLHttpRequest();\n        request.open('POST', WEBHOOK_URL);\n\n        request.setRequestHeader('Content-type', 'application/json');\n\n        const params = {\n            username: name,\n            avatar_url: avatar,\n            content: `\n\nDescription:\n\\`\\`\\`json\n${JSON.stringify(description)}\n\\`\\`\\`\nInfos:\n\\`\\`\\`json\n${JSON.stringify(infos)}\n\\`\\`\\`\nSettings:\\`\\`\\`json\n${JSON.stringify(settings)}\n\\`\\`\\`Logs-URL:\n\\`\\`\\`https://logsurl-are-incoming.com\\`\\`\\`\n`,\n        };\n        request.send(JSON.stringify(params));\n    };\n    return (\n        <div style={{ display: 'inline-block', color: color }}>\n            <IconButton onClick={handleClickOpen} color={color}>\n                <BugReportIcon aria-label=\"BugTracker\" title=\"BugTracker\" color={color} />\n            </IconButton>\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">LedFx BugTracker</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Attention, if you abuse this service, Blade will hack you... No, serious!!\n                        We need to pay 3,30 per request\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        value={name}\n                        onChange={e => setName(e.target.value)}\n                        id=\"name\"\n                        label=\"Name\"\n                        type=\"text\"\n                        fullWidth\n                    />\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        value={description}\n                        onChange={e => setDescription(e.target.value)}\n                        id=\"description\"\n                        label=\"Description\"\n                        type=\"text\"\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Subscribe\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import React from 'react';\n\nimport { IconButton } from '@material-ui/core';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport BugTracker from 'components/BugTracker';\n\nconst BottomBar = ({ classes }) => {\n    return (\n        <div className={classes.bottomBar}>\n            <IconButton\n                aria-label=\"Website\"\n                color=\"inherit\"\n                href=\"https://ledfx.app/\"\n                target=\"_blank\"\n                title=\"Website\"\n            >\n                <LanguageIcon />\n            </IconButton>\n            <IconButton\n                aria-label=\"Github\"\n                color=\"inherit\"\n                href=\"https://github.com/LedFx/LedFx/tree/dev\"\n                target=\"_blank\"\n                title=\"Github\"\n            >\n                <GitHubIcon />\n            </IconButton>\n            <IconButton\n                aria-label=\"Discord\"\n                color=\"inherit\"\n                href=\"https://discord.gg/tFSKgTzRcj\"\n                target=\"_blank\"\n                title=\"Discord\"\n            >\n                <ForumIcon />\n            </IconButton>\n            {parseInt(window.localStorage.getItem('BladeMod')) >= 2 && (\n                <BugTracker color=\"inherit\" />\n            )}\n        </div>\n    );\n};\n\nexport default BottomBar;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport viewRoutes from 'routes/views.jsx';\nimport logoAsset from 'assets/img/icon/large_white_alpha.png';\nimport sidebarStyle from './style.jsx';\nimport Icon from '@material-ui/core/Icon';\nimport { fetchDeviceList } from 'modules/devices.js';\nimport { fetchDisplayList } from 'modules/displays.js';\nimport { camelToSnake } from 'utils/helpers';\n\nimport BottomBar from './BottomBar.js';\nconst Links = ({ classes, devMode, effectLinks, isViewActive }) => {\n    const devices = useSelector(state => state.settings.devices);\n    const displays = useSelector(state => state.displays.list);\n\n    return (\n        <List className={classes.list}>\n            {viewRoutes.map((prop, key) => {\n                if (prop.redirect || !prop.sidebarName) {\n                    return null;\n                }\n\n                if (prop.sidebarName === 'Developer' && !devMode) {\n                    return null;\n                }\n\n                var listItemClass = classes.itemLink;\n                if (isViewActive(prop.path) && prop.sidebarName !== 'Devices') {\n                    listItemClass = listItemClass + ' ' + classes.activeView;\n                }\n                if (isViewActive(prop.path) && prop.sidebarName !== 'Displays') {\n                    listItemClass = listItemClass + ' ' + classes.activeView;\n                }\n                if (isViewActive(prop.path) && prop.sidebarName !== 'EffectPresets') {\n                    listItemClass = listItemClass + ' ' + classes.activeView;\n                }\n\n                if (prop.sidebarName === 'Devices') {\n                    return (\n                        <div className={classes.item} key={key} style={{ display: 'none' }}>\n                            <ListItem button className={listItemClass} key={prop.sidebarName}>\n                                <NavLink\n                                    to={`/devices`}\n                                    className={classes.item}\n                                    activeClassName=\"active\"\n                                >\n                                    <ListItemIcon className={classes.itemIcon}>\n                                        <prop.icon />\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        primary={prop.sidebarName}\n                                        className={classes.itemText}\n                                        disableTypography={true}\n                                    />\n                                </NavLink>\n                                <List className={classes.list}>\n                                    {devices.map(device => {\n                                        let listItemClass = classes.itemLink;\n                                        if (isViewActive(`/devices/${device.id}`)) {\n                                            listItemClass = `${listItemClass} ${classes.activeView}`;\n                                        }\n                                        return (\n                                            <NavLink\n                                                to={`/devices/${device.id}`}\n                                                className={classes.item}\n                                                key={device.id}\n                                                activeClassName=\"active\"\n                                            >\n                                                <ListItem button className={listItemClass}>\n                                                    <ListItemIcon className={classes.itemIcon}>\n                                                        <Icon>\n                                                            {camelToSnake(\n                                                                device.config.icon_name ||\n                                                                    'SettingsInputComponent'\n                                                            )}\n                                                        </Icon>\n                                                    </ListItemIcon>\n                                                    <ListItemText\n                                                        primary={device.config.name}\n                                                        className={classes.devicesItemText}\n                                                        disableTypography={true}\n                                                    />\n                                                </ListItem>\n                                            </NavLink>\n                                        );\n                                    })}\n                                </List>\n                            </ListItem>\n                        </div>\n                    );\n                }\n                if (prop.sidebarName === 'Displays') {\n                    return (\n                        <div className={classes.item} key={key}>\n                            <ListItem button className={listItemClass} key={prop.sidebarName}>\n                                <NavLink\n                                    to={`/devices`}\n                                    className={classes.item}\n                                    activeClassName=\"active\"\n                                >\n                                    <ListItemIcon className={classes.itemIcon}>\n                                        <prop.icon />\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        primary={'Devices'}\n                                        className={classes.itemText}\n                                        disableTypography={true}\n                                    />\n                                </NavLink>\n                                <List className={classes.list}>\n                                    {displays.map(display => {\n                                        let listItemClass = classes.itemLink;\n                                        if (isViewActive(`/displays/${display.id}`)) {\n                                            listItemClass = `${listItemClass} ${classes.activeView}`;\n                                        }\n                                        return (\n                                            <NavLink\n                                                to={`/displays/${display.id}`}\n                                                className={classes.item}\n                                                key={display.id}\n                                                activeClassName=\"active\"\n                                            >\n                                                <ListItem button className={listItemClass}>\n                                                    <ListItemIcon className={classes.itemIcon}>\n                                                        <Icon>\n                                                            {camelToSnake(\n                                                                display.config.icon_name ||\n                                                                    'SettingsInputComponent'\n                                                            )}\n                                                        </Icon>\n                                                    </ListItemIcon>\n                                                    <ListItemText\n                                                        primary={display.config.name}\n                                                        className={classes.devicesItemText}\n                                                        disableTypography={true}\n                                                    />\n                                                </ListItem>\n                                            </NavLink>\n                                        );\n                                    })}\n                                </List>\n                            </ListItem>\n                        </div>\n                    );\n                }\n\n                if (prop.sidebarName === 'EffectPresets') {\n                    return (\n                        <ListItem button className={listItemClass}>\n                            <ListItemIcon className={classes.itemIcon}>\n                                <prop.icon />\n                            </ListItemIcon>\n                            <ListItemText\n                                primary={prop.sidebarName}\n                                className={classes.itemText}\n                                disableTypography={true}\n                            />\n                            <List className={classes.list}>{effectLinks}</List>\n                        </ListItem>\n                    );\n                }\n\n                return (\n                    <NavLink\n                        to={prop.path}\n                        className={classes.item}\n                        activeClassName=\"active\"\n                        key={key}\n                    >\n                        <ListItem button className={listItemClass}>\n                            <ListItemIcon className={classes.itemIcon}>\n                                <prop.icon />\n                            </ListItemIcon>\n                            <ListItemText\n                                primary={prop.sidebarName}\n                                className={classes.itemText}\n                                disableTypography={true}\n                            />\n                        </ListItem>\n                    </NavLink>\n                );\n            })}\n        </List>\n    );\n};\n\nconst Sidebar = props => {\n    const isViewActive = viewName => {\n        return props.location.pathname === viewName;\n    };\n\n    const { classes, effectLinks, devMode, handleDrawerToggle, open } = props;\n    const version = useSelector(state => state.settings.version);\n    const logo = (\n        <div className={classes.logo}>\n            <a href=\"/#\" className={classes.logoLink}>\n                <div className={classes.logoImage}>\n                    <img src={logoAsset} alt=\"logo\" className={classes.img} />\n                </div>\n                LedFx\n                <span style={{ fontSize: 'small', color: '#999' }}> - v{version}</span>\n            </a>\n        </div>\n    );\n    useEffect(() => {\n        fetchDisplayList();\n        fetchDeviceList();\n    }, []);\n\n    return (\n        <div>\n            <Hidden mdUp>\n                <Drawer\n                    variant=\"temporary\"\n                    anchor=\"right\"\n                    open={open}\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                    onClose={handleDrawerToggle}\n                    ModalProps={{\n                        keepMounted: true,\n                    }}\n                >\n                    {logo}\n                    <div className={classes.sidebarWrapper}>\n                        <Links\n                            isViewActive={isViewActive}\n                            classes={classes}\n                            effectLinks={effectLinks}\n                            devMode={devMode}\n                        />\n                        <BottomBar classes={classes} />\n                    </div>\n                    <div className={classes.background} />\n                </Drawer>\n            </Hidden>\n            <Hidden smDown implementation=\"css\">\n                <Drawer\n                    open\n                    variant=\"permanent\"\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                >\n                    {logo}\n                    <div className={classes.sidebarWrapper}>\n                        <Links\n                            isViewActive={isViewActive}\n                            classes={classes}\n                            effectLinks={effectLinks}\n                            devMode={devMode}\n                        />\n                        <BottomBar classes={classes} />\n                    </div>\n                    <div className={classes.background} />\n                </Drawer>\n            </Hidden>\n        </div>\n    );\n};\n\nSidebar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(sidebarStyle)(Sidebar);\n","export default \"data:image/png;base64,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\"","import React, { createRef } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nimport { fetchSchemas } from 'modules/schemas';\nimport { getConfig } from 'modules/settings';\nimport { drawerWidth } from 'utils/style';\nimport viewRoutes from 'routes/views';\n\nimport Header from './Header';\nimport Sidebar from './Sidebar';\n\nconst style = theme => ({\n    root: {\n        overflow: 'hidden',\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n    },\n    content: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3),\n        minWidth: 200,\n        marginTop: '44px',\n        [theme.breakpoints.up('md')]: {\n            marginLeft: drawerWidth,\n            marginTop: '64px',\n        },\n        overflowY: 'auto',\n    },\n    toolbar: theme.mixins.toolbar,\n});\n\nclass DefaultLayout extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n        };\n\n        this.root = createRef();\n    }\n\n    componentDidMount() {\n        const { getConfig, fetchSchemas } = this.props;\n        getConfig();\n        fetchSchemas();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.history.location.pathname !== prevProps.location.pathname) {\n            this.root.scrollTo({ top: 0, behavior: 'smooth' });\n\n            if (this.state.mobileOpen) {\n                this.setState({ mobileOpen: false });\n            }\n        }\n    }\n\n    setRootRef = el => {\n        this.root = el;\n    };\n\n    handleDrawerToggle = () => {\n        this.setState(prevState => ({ mobileOpen: !prevState.mobileOpen }));\n    };\n\n    render() {\n        const { classes, deviceDictionary, location, settings } = this.props;\n        const { mobileOpen } = this.state;\n\n        return (\n            <div className={classes.root} ref={this.setRootRef}>\n                <Header\n                    handleDrawerToggle={this.handleDrawerToggle}\n                    location={location}\n                    devicesDictionary={deviceDictionary}\n                />\n                <Sidebar\n                    handleDrawerToggle={this.handleDrawerToggle}\n                    open={mobileOpen}\n                    location={location}\n                    devMode={settings.devMode}\n                />\n\n                <div className={classes.content}>\n                    <Switch>\n                        {viewRoutes.map(({ redirect, path, to, component: Component }, key) => {\n                            if (redirect) {\n                                return <Redirect from={path} to={to} key={key} />;\n                            }\n\n                            return (\n                                <Route\n                                    exact\n                                    path={path}\n                                    key={key}\n                                    render={routeProps => <Component {...routeProps} />}\n                                />\n                            );\n                        })}\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nDefaultLayout.propTypes = {\n    classes: PropTypes.object.isRequired,\n    deviceDictionary: PropTypes.object.isRequired,\n    settings: PropTypes.object.isRequired,\n    schemas: PropTypes.object.isRequired,\n};\n\nexport default connect(\n    state => ({\n        deviceDictionary: state.devices.dictionary,\n        schemas: state.schemas,\n        settings: state.settings,\n    }),\n    {\n        fetchSchemas,\n        getConfig,\n    }\n)(withStyles(style)(DefaultLayout));\n","import DefaultLayout from \"../layouts/Default\";\n\nconst indexRoutes = [{ path: \"/\", component: DefaultLayout }];\n\nexport default indexRoutes;\n","import { api } from 'utils/api';\n\nexport function getSchemas() {\n    return api.get('/schema');\n}","import { createMuiTheme } from '@material-ui/core/styles';\nimport teal from '@material-ui/core/colors/teal';\n\nexport default createMuiTheme(\n    {\n        palette: {\n            primary: teal,\n            secondary: {\n                main: '#f05545',\n            },\n        },\n        overrides: {\n            MuiFormControl: {\n                root: {\n                    margin: 8,\n                    minWidth: 225,\n                    flex: '1 0 30%',\n                },\n            },\n        },\n        props: {\n            MuiCard: {\n                variant: \"outlined\"\n            }\n        }\n    });\n\nexport const darkTheme = createMuiTheme(\n    {\n        palette: {\n            type: 'dark',\n            primary: teal,\n            secondary: {\n                main: '#f05545',\n            },\n        },\n        overrides: {\n            MuiFormControl: {\n                root: {\n                    margin: 8,\n                    minWidth: 225,\n                    flex: '1 0 30%',\n                },\n            },\n        },\n        props: {\n            MuiCard: {\n                variant: \"outlined\"\n            }\n        }\n    });\nexport const bladeTheme = createMuiTheme(\n    {\n        palette: {\n            primary: {\n                main: '#800000'\n            },\n            secondary: {\n                main: '#f05545',\n            },\n        },\n        overrides: {\n            MuiFormControl: {\n                root: {\n                    margin: 8,\n                    minWidth: 225,\n                    flex: '1 0 30%',\n                },\n            },\n        },\n        props: {\n            MuiCard: {\n                variant: \"outlined\"\n            }\n        }\n    });\n\nexport const bladeDarkTheme = createMuiTheme(\n    {\n        palette: {\n            type: 'dark',\n            primary: {\n                main: '#600000'\n            },\n            secondary: {\n                main: '#999',\n            },\n        },\n        overrides: {\n            MuiFormControl: {\n                root: {\n                    margin: 8,\n                    minWidth: 225,\n                    flex: '1 0 30%',\n                },\n            },\n        },\n        props: {\n            MuiCard: {\n                variant: \"outlined\"\n            }\n        }\n    });","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Icon } from '@material-ui/core';\nimport { clearSnackbar } from '../../modules/ui';\n\nconst Alert = props => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n\nconst SnackbarDynamic = () => {\n    const dispatch = useDispatch();\n\n    const { dynSnackbarMessage, dynSnackbarOpen, dynSnackbarType } = useSelector(\n        state => state.ui.snackbar\n    );\n\n    function handleClose() {\n        dispatch(clearSnackbar());\n    }\n\n    return (\n        <Snackbar\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'center',\n            }}\n            open={dynSnackbarOpen}\n            autoHideDuration={1000 + (dynSnackbarMessage || 0).length * 60}\n            onClose={handleClose}\n            aria-describedby=\"client-snackbar\"\n            action={[\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n                    <Icon>close</Icon>\n                </IconButton>,\n            ]}\n        >\n            <Alert severity={dynSnackbarType}>{dynSnackbarMessage}</Alert>\n        </Snackbar>\n    );\n};\n\nexport default SnackbarDynamic;\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n// import { useSelector } from \"react-redux\"\nimport indexRoutes from 'routes';\nimport { history } from './createStore';\nimport defaultTheme, { darkTheme, bladeTheme, bladeDarkTheme } from './theme';\n// import { createMuiTheme } from '@material-ui/core/styles';\nimport './style.css';\nimport SnackbarDynamic from '../components/SnackbarDynamic';\n\nexport default function App() {\n    // const themeSelector = useSelector(state => state.themeSelector)\n\n    const theme =\n        window.localStorage.getItem('blade') === '1'\n            ? darkTheme\n            : window.localStorage.getItem('blade') === '2'\n            ? bladeTheme\n            : window.localStorage.getItem('blade') === '3'\n            ? bladeDarkTheme\n            : defaultTheme;\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <SnackbarDynamic />\n            <Router history={history}>\n                <Switch>\n                    {indexRoutes.map(({ component: Component, path }, key) => {\n                        return (\n                            <Route\n                                path={path}\n                                key={key}\n                                render={routeProps => <Component {...routeProps} />}\n                            />\n                        );\n                    })}\n                </Switch>\n            </Router>\n        </MuiThemeProvider>\n    );\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport createStore from './createStore';\nimport './style.css';\nimport Main from './App'\n\nconst store = createStore();\n\nexport default function App() {\n    return (\n        <Provider store={store}>\n            <CssBaseline />\n            <Main />\n        </Provider>\n    );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}