{"version":3,"sources":["utils/apiProxy.js","utils/apiStore.jsx","utils/scrollToTop.jsx","utils/Websocket.jsx","AppThemes.jsx","utils/helpers.js","App.styles.jsx","assets/blademod.svg","components/Bars/BarLeft.styles.jsx","components/Icons/Wled.jsx","components/Icons/YZ-Logo2.jsx","components/Icons/BladeIcon.jsx","components/Bars/BarLeft.jsx","assets/logo.png","components/Tours/TourDevice.jsx","components/Tours/TourScenes.jsx","components/Tours/TourSettings.jsx","components/Tours/TourDevices.jsx","components/Tours/TourIntegrations.jsx","components/Bars/BarTop.jsx","components/Dialogs/AddSceneDialog.jsx","components/SchemaForm/BladeBoolean.jsx","components/SchemaForm/BladeFrame.jsx","components/SchemaForm/BladeSelect.jsx","components/SchemaForm/BladeSlider.styles.jsx","components/SchemaForm/BladeSlider.jsx","components/SchemaForm/BladeSchemaForm.jsx","components/Dialogs/AddDeviceDialog.jsx","components/Dialogs/AddVirtualDialog.jsx","components/Dialogs/AddIntegrationDialog.jsx","components/Integrations/Spotify/ChangeSpotifyURLDialog.jsx","components/Integrations/Spotify/SpotifyWidget.jsx","components/AddButton.jsx","components/Bars/BarBottom.styles.jsx","components/Bars/BarBottom.jsx","components/Bars/BarMessage.jsx","components/Dialogs/NoHostDialog.jsx","assets/ring.png","components/Tours/TourHome.jsx","components/Icons/FX.jsx","pages/Home.jsx","components/Popover.jsx","components/Dialogs/_AddSegmentDialog.jsx","pages/Devices/EditVirtuals/PixelSlider.jsx","pages/Devices/EditVirtuals/Segment.styles.jsx","pages/Devices/EditVirtuals/Segment.jsx","pages/Devices/EditVirtuals/EditVirtuals.styles.jsx","pages/Devices/EditVirtuals/EditVirtuals.jsx","components/PixelGraph.jsx","pages/Devices/DeviceCard/DeviceCard.styles.jsx","pages/Devices/DeviceCard/DeviceCard.jsx","components/NoYet.tsx","pages/Devices/Devices.jsx","components/SchemaForm/BladeEffectDropDown.jsx","utils/useClickOutside.jsx","components/SchemaForm/BladeColorPicker.jsx","components/SchemaForm/BladeColorNewPicker.jsx","components/SchemaForm/BladeColorDropDown.jsx","components/SchemaForm/BladeEffectSchemaForm.jsx","components/Tours/TourEffect.jsx","pages/Device/Effects.jsx","pages/Device/Presets.jsx","pages/Device/Transition.jsx","pages/Device/Frequencies.jsx","pages/Device/Device.jsx","pages/Scenes/Scenes.jsx","pages/Settings/AudioCard.jsx","pages/Settings/WledCard.jsx","pages/Settings/Webaudio.jsx","pages/Settings/Settings.jsx","pages/Integrations/IntegrationCard/IntegrationCard.styles.jsx","pages/Integrations/IntegrationCard/IntegrationCard.jsx","pages/Integrations/Integrations.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["storedURL","window","localStorage","getItem","api","axios","create","baseURL","Ledfx","path","set","a","method","body","response","put","delete","post","get","data","payload","ui","snackbar","isOpen","messageType","type","message","reason","JSON","stringify","status","error","useStore","persist","devtools","host","setHost","setItem","title","state","tours","home","devices","device","integrations","scenes","settings","setTour","tour","pixelGraphs","setPixelGraphs","virtuals","dialogs","nohost","open","edit","addScene","addDevice","addVirtual","addIntegration","setDialogOpen","setDialogOpenAddScene","setDialogOpenAddDevice","setDialogOpenAddVirtual","setDialogOpenAddIntegration","bars","leftBar","setLeftBarOpen","showSnackbar","clearSnackbar","getDevices","resp","config","updateDevice","deviceId","getVirtuals","paused","deleteVirtual","virtId","clearVirtualEffect","setVirtualEffect","active","effect","name","updateVirtualEffect","updateVirtualSegments","segments","presets","getPresets","effectId","addPreset","activatePreset","category","effectType","presetId","effect_id","preset_id","deletePreset","getScenes","scene_image","activateScene","id","action","deleteScene","getIntegrations","updateIntegration","toggleIntegration","deleteIntegration","schemas","getSchemas","getSystemConfig","ledfx_presets","undefined","getFullConfig","setSystemConfig","deleteSystemConfig","importSystemConfig","scanForDevices","togglePause","graphs","toggleGraphs","shutdown","timeout","restart","getPing","getDevice","key","active_virtuals","webAud","setWebAud","newState","webAudName","setWebAudName","spotifyEmbedUrl","setSpotifyEmbedUrl","url","ScrollToTop","pathname","useLocation","useLayoutEffect","scrollTo","ws","_ws","Sockette","replace","maxAttempts","onopen","e","target","onmessage","event","parse","event_type","document","dispatchEvent","CustomEvent","detail","vis_id","pixels","onreconnect","console","log","onmaximum","onclose","onerror","createSocket","WsContext","React","createContext","HandleWs","useState","wsReady","setWsReady","startsWith","useEffect","length","map","d","i","request","event_filter","is_device","send","getWs","removeGetWs","BladeDarkTheme","createTheme","palette","primary","main","secondary","background","default","paper","props","MuiCard","variant","drawerWidth","download","content","fileName","contentType","createElement","file","Blob","href","URL","createObjectURL","click","swap","array","j","useStyles","makeStyles","theme","backgroundColor","width","borderRadius","display","root","drawerHeader","justifyContent","alignItems","padding","spacing","mixins","toolbar","flexGrow","transition","transitions","easing","sharp","duration","leavingScreen","marginLeft","contentShift","easeOut","enteringScreen","drawer","flexShrink","drawerPaper","overflowX","logo","position","zIndex","logoLink","fontSize","textAlign","fontWeight","lineHeight","textDecoration","color","logoImage","maxHeight","marginRight","top","verticalAlign","border","devbadge","backgroundImage","blademod","backgroundSize","height","marginBottom","backgroundRepeat","backgroundPosition","activeView","boxShadow","shadows","Wled","stroke","strokeWidth","strokeLinejoin","strokeLinecap","viewBox","fill","Bottom","style","strokeMiterlimit","Top","Y","points","Z","YZLogo2Bottom","transform","marginTop","transformOrigin","xmlns","version","shapeRendering","textRendering","imageRendering","fillRule","clipRule","YZLogo2Top","YZLogo2Y","YZLogo2Z","YZLogo2","BladeIcon","str","colorIndicator","className","scene","card","Icon","split","toLowerCase","slice","letter","LeftBar","classes","useTheme","setOpen","smallScreen","useMediaQuery","handleDrawerClose","src","alt","img","onClick","onDoubleClick","Drawer","anchor","IconButton","direction","ChevronLeft","ChevronRight","Divider","List","Object","keys","to","ListItem","dummy","button","ListItemIcon","icon_name","ListItemText","light","text","steps","selector","paddingLeft","TourDevice","cally","isTourOpen","setIsTourOpen","invisible","MenuItem","Badge","InfoRounded","accentColor","onRequestClose","TourScenes","TourSettings","TourDevices","TourIntegrations","appBar","appBarShift","menuButton","hide","TopBar","anchorEl","setAnchorEl","AppBar","clsx","Toolbar","aria-label","edge","Typography","noWrap","pop","currentTarget","MoreVert","Menu","keepMounted","Boolean","onClose","Language","PlayCircleOutline","Pause","BarChart","component","Link","AddSceneDialog","setName","image","setImage","overwrite","setOverwrite","handleClose","Dialog","aria-labelledby","DialogTitle","DialogContent","wordBreak","TextField","autoFocus","margin","label","value","onChange","onBlur","indexOf","helperText","required","fullWidth","DialogActions","Button","then","flexWrap","maxWidth","wrapper","order","flexBasis","minWidth","left","fontVariant","boxSizing","BladeBoolean","schema","model","hideDesc","model_id","index","Frame","children","replaceAll","FormControlLabel","control","Switch","defaultValue","checked","b","description","Checkbox","BladeFrame","full","alert","BladeSelect","disabled","wrapperStyle","selectStyle","textStyle","menuItemStyle","enum","values","every","Select","disableUnderline","item","Array","isArray","parseInt","find","en","includes","input","touchAction","BladeSliderInner","step","textfield","marks","setValue","handleSliderChange","newValue","handleInputChange","Number","minimum","maximum","Slider","valueLabelDisplay","min","max","onChangeCommitted","Input","inputProps","m","BladeSlider","bladeSchemaForm","FormListHeaders","BladeSchemaFormNew","colorMode","boolMode","boolVariant","selectVariant","sliderVariant","onModelChange","_boolMode","_setBoolMode","_boolVariant","_setBoolVariant","_selectVariant","_setSelectVariant","_sliderVariant","_setSliderVariant","_colorMode","_setColorMode","Fab","size","right","properties","s","permitted","permitted_keys","c","group","audio_groups","audio_device","entries","filter","self","FormSelect","ind","ListSubheader","FormListItem","DialogContentText","FormControl","InputLabel","labelId","AddDeviceDialog","initial","deviceTypes","deviceType","setDeviceType","setModel","currentSchema","handleTypeChange","constructor","toUpperCase","BladeSchemaForm","cleanedModel","fromEntries","defaultModel","val","res","AddVirtualDialog","virtualsSchemas","handleModelChange","AddIntegrationDialog","integrationId","integrationsTypes","integrationType","setIntegrationType","ChangeSpotifyURLDialog","spotifyURL","setSpotifyURL","setUrl","SpotifyWidget","spotifyEnabled","setSpotifyEnabled","spotifyExpanded","setSpotifyExpanded","bottom","QueueMusic","frameBorder","allowtransparency","allow","MenuLine","forwardRef","ref","icon","Send","StyledMenu","withStyles","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","AddButton","setBackdrop","menuitems","SettingsInputComponent","Wallpaper","push","SettingsInputSvideo","Add","menuitem","rootShift","addButton","addButtonShift","LabelBottomNavigation","backdrop","leftOpen","BottomNavigation","showLabels","BottomNavigationAction","Home","Backdrop","Alert","MessageBar","Snackbar","autoHideDuration","aria-describedby","severity","createFilterOptions","NoHostDialog","dialogOpen","storedURLs","hosts","setHosts","hostvalue","setHostvalue","Autocomplete","inputValue","filterOptions","options","params","filtered","getOptionLabel","option","renderOption","Delete","stopPropagation","h","handleDelete","renderInput","selectOnFocus","clearOnBlur","handleHomeEndKeys","freeSolo","some","location","TourHome","FX","currentColor","sleep","ms","Promise","resolve","setTimeout","scanning","setScanning","logoCircle","Card","CardHeader","CardContent","CardActions","sec","CircularProgress","Box","Math","round","typography","Popover","onConfirm","confirmDisabled","confirmContent","onSingleClick","openOnDoubleClick","openOnLongPress","footer","startIcon","noIcon","popoverStyle","openPopover","longPress","useLongPress","onCancel","treshhold","captureEvent","preventDefault","Check","Close","ConfirmationDialogRaw","valueProp","other","deviceList","disableEscapeKeyDown","dividers","ConfirmationDialog","virtual","endIcon","role","test","pixel_count","t","PixelSlider","handleRangeSegment","range","setRange","pixelRange","n","useSegmentStyles","segmentsWrapper","borderBottom","segmentsColOrder","segmentsButtonUp","borderTopRightRadius","borderBottomRightRadius","segmentsButtonDown","borderTopLeftRadius","borderBottomLeftRadius","segmentsColPixelSlider","flex","segmentsColActions","flexDirection","Segment","reorder","newSegments","start","end","seg","useEditVirtualsStyles","dialog","segmentTitle","segmentButtonWrapper","Transition","Slide","MuiMenuItem","FullScreenDialog","innerKey","handleClickOpen","output","tmp","forEach","items","y","overlap","sort","startNew","endNew","getOverlapping","k","fullScreen","TransitionComponent","PixelWrapper","overflow","Pixel","PixelGraph","setPixels","handleWebsockets","addEventListener","removeEventListener","p","useDeviceCardStyles","virtualCardPortrait","borderColor","virtualLink","alignSelf","virtualIconWrapper","virtualIcon","transitionDelay","virtualCardContainer","iconMedia","editButton","editButtonMobile","expand","shortest","expandOpen","buttonBarMobile","buttonBarMobileWrapper","paddingTop","MuiMenu","DeviceCard","useRef","breakpoints","down","expanded","setExpanded","NavLink","preview_only","previewButton","aria-expanded","Collapse","in","unmountOnExit","handleDeleteDevice","handleEditVirtual","NoYet","avatar","Info","subheader","defaultProps","cardWrapper","Devices","FormRow","FormLabel","FormToggleWrapper","FormToggle","BladeEffectDropDown","effects","effectNames","eid","reduce","r","formats","setFormats","htmlFor","onEffectTypeChange","ToggleButtonGroup","newFormats","ToggleButton","useClickOutside","handler","startedInside","startedWhenMounted","listener","current","contains","validateEventStart","picker","cursor","coloring","red","orange","yellow","green","cyan","blue","purple","pink","magenta","black","white","gold","hotpink","lightblue","lightgreen","lightpink","lightyellow","maroon","mint","olive","peach","plum","sepia","skyblue","steelblue","tan","violetred","BladeColorPicker","sendColor","col","clr","popover","useCallback","ClickAwayListener","onClickAway","Popper","BladeColorNewPicker","colorNew","setColorNew","handleColorChange","BladeColorDropDown","selectedType","effectyz","curEffSchema","colors","v","BladeEffectSchemaForm","virtual_id","colorKeys","pickerKeys","handleEffectConfig","TourEffect","number","showNavigation","showNumber","actionButton","grey","pixelbar","opacity","transitionDuration","pixelbarOut","EffectsCard","fade","setFade","Casino","transition_time","Clear","presetButton","buttonGrid","hint","actions","deviceCard","PresetsCard","valid","setValid","handleActivatePreset","renderPresetsButton","list","CATEGORY","preset","Grid","handleRemovePreset","handleAddPreset","container","default_presets","custom_presets","onKeyDown","paddingBottom","formControl","TransitionCard","transition_mode","handleSetTransition","minHeight","mode","logIt","x","log13","hzIt","ValueLabelComponent","Tooltip","enterTouchDelay","placement","FrequenciesCard","frequency_min","frequency_max","freq_max","melbanks","max_frequencies","f","freq_min","min_frequency","convertedMarks","copy","abs","InputLabelProps","shrink","InputProps","endAdornment","InputAdornment","virtualWrapper","girdItem","Device","match","Effects","Presets","sceneTitle","media","Scenes","info","setInfo","setScene","handleInfoClose","SceneDialog","dev","justify","CardActionArea","iconName","CardMedia","aligntItems","gutterBottom","handleInfoOpen","AudioCard","audio","rowContainer","rowB","row","check","WledCard","toggleSetting","setting","wled_preferences","user_enabled","onChangeSetting","scan_on_startup","Accordion","AccordionSummary","expandIcon","aria-controls","heading","AccordionDetails","wled_preferred_mode","realtime_gamma_enabled","force_max_brightness","realtime_dmx_mode","start_universe_setting","dmx_address_start","inactivity_timeout","getMedia","navigator","mediaDevices","getUserMedia","video","Webaudio","audioContext","AudioContext","webkitAudioContext","stream","source","createMediaStreamSource","scriptNode","createScriptProcessor","connect","destination","onaudioprocess","inputBuffer","getChannelData","client","sendWs","readyState","getTracks","track","stop","close","handleClick","data-webaud","Settings","sliderClasses","useSliderStyles","fps","setFps","pixelLength","setPixelLength","configDownload","newConfig","configDelete","removeItem","fileChanged","fileReader","FileReader","readAsText","files","onload","result","setSystemSetting","visualisation_fps","visualisation_maxlen","CloudUpload","hidden","accept","CloudDownload","Refresh","PowerSettingsNew","useIntegrationCardStyles","integrationCardPortrait","integrationLink","integrationIcon","margingBottom","integrationCardContainer","buttonBar","IntegrationCard","integration","handleEditIntegration","handleActivateIntegration","Integrations","App","leftBarOpen","Provider","CssBaseline","basename","process","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7383255b.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = 'http://localhost:8888';\r\nconst storedURL = window.localStorage.getItem('ledfx-host');\r\n\r\nconst api = axios.create({\r\n  baseURL: storedURL || baseURL,\r\n});\r\n\r\nexport const Ledfx = async (path, set, method = 'GET', body) => {\r\n  try {\r\n    let response = null;\r\n    switch (method) {\r\n      case 'PUT':\r\n        response = await api.put(path, body);\r\n        break;\r\n      case 'DELETE':\r\n        response = await api.delete(path, body);\r\n        break;\r\n      case 'POST':\r\n        response = await api.post(path, body);\r\n        break;\r\n\r\n      default:\r\n        response = await api.get(path);\r\n        break;\r\n    }\r\n    \r\n    if (response.data && response.data.payload){\r\n      // console.log(\"YZ1\", response)\r\n      set({\r\n        ui: {\r\n          snackbar: {\r\n            isOpen: true,\r\n            messageType: response.data.payload.type || 'error',\r\n            message:\r\n              response.data.payload.reason || response.data.payload.message || JSON.stringify(response.data.payload),\r\n          },\r\n        },\r\n      });\r\n      if (response.data.status) {\r\n        return response.data.status\r\n      }\r\n    }\r\n    if (response.payload) {\r\n      // console.log(\"YZ2\", response)\r\n      set({\r\n        ui: {\r\n          snackbar: {\r\n            isOpen: true,\r\n            messageType: response.payload.type || 'error',\r\n            message:\r\n              response.payload.reason || response.payload.message || JSON.stringify(response.payload),\r\n          },\r\n        },\r\n      });\r\n    }\r\n    if (response.status === 200) {\r\n      // console.log(\"YZ3\", response)\r\n      return response.data || response;\r\n    }\r\n\r\n    set({\r\n      ui: {\r\n        snackbar: {\r\n          isOpen: true,\r\n          messageType: 'error',\r\n          message: response.error || JSON.stringify(response),\r\n        },\r\n      },\r\n    });\r\n  } catch (error) {\r\n   \r\n    // console.log(\"YZ4\", JSON.parse(JSON.stringify(error)))\r\n    if (error.message) {\r\n      return set({\r\n        ui: {\r\n          snackbar: {\r\n            isOpen: true,\r\n            messageType: 'error',\r\n            message: JSON.stringify(error.message),\r\n          },\r\n        },\r\n      });\r\n    }\r\n    set({\r\n      ui: {\r\n        snackbar: {\r\n          isOpen: true,\r\n          messageType: 'error',\r\n          message: JSON.stringify(error, null, 2),\r\n        },\r\n      },\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n","import create from 'zustand';\r\nimport { devtools, persist } from 'zustand/middleware';\r\nimport { Ledfx } from './apiProxy';\r\n\r\nconst useStore = create(\r\n  persist(\r\n    devtools((set, get) => ({\r\n\r\n      host: 'http://localhost:8888',\r\n      setHost: (host) => {\r\n        window.localStorage.setItem('ledfx-host', host.title ? host.title : host);\r\n        return set((state) => ({\r\n          host,\r\n        }));\r\n      },\r\n\r\n      // FRONTEND STUFF\r\n      tours: {\r\n        home: false,\r\n        devices: false,\r\n        device: false,\r\n        integrations: false,\r\n        scenes: false,\r\n        settings: false\r\n      },\r\n      setTour: (tour) => set((state) => ({\r\n        tours: {\r\n          ...state.tours,\r\n          [tour]: true\r\n        }\r\n      })),\r\n      pixelGraphs: [],\r\n      setPixelGraphs: (virtuals) => set((state) => ({\r\n        pixelGraphs: [...virtuals]\r\n      })),\r\n\r\n      dialogs: {\r\n        nohost: {\r\n          open: false,\r\n          edit: false\r\n        },\r\n        addScene: {\r\n          open: false,\r\n        },\r\n        addDevice: {\r\n          open: false,\r\n          edit: {},\r\n        },\r\n        addVirtual: {\r\n          open: false,\r\n          edit: {},\r\n        },\r\n        addIntegration: {\r\n          open: false,\r\n          edit: {},\r\n        },\r\n      },\r\n      setDialogOpen: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          nohost: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddScene: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addScene: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddDevice: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addDevice: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddVirtual: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addVirtual: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddIntegration: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addIntegration: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n\r\n      ui: {\r\n        snackbar: {\r\n          isOpen: false,\r\n          type: 'error',\r\n          message: 'NO MESSAGE',\r\n        },\r\n        bars: {\r\n          leftBar: {\r\n            open: false,\r\n          },\r\n        }\r\n      },\r\n      setLeftBarOpen: (open) => set((state) => ({\r\n        ui: {\r\n          ...state.ui,\r\n          bars: {\r\n          leftBar: {\r\n            open,\r\n          },\r\n        }},\r\n      })),\r\n      showSnackbar: ({ messageType, message }) => {\r\n        set((state) => ({\r\n          ui: {\r\n            ...state.ui,\r\n            snackbar: { isOpen: true, message, messageType },\r\n          },\r\n        }));\r\n      },\r\n      clearSnackbar: () => {\r\n        set((state) => ({\r\n          ui: {\r\n            ...state.ui,\r\n            snackbar: {\r\n              ...state.ui.snackbar,\r\n              isOpen: false,\r\n            },\r\n          },\r\n        }));\r\n      },\r\n\r\n      // API\r\n      devices: {},\r\n      getDevices: async () => {\r\n        const resp = await Ledfx('/api/devices', set);\r\n        if (resp && resp.devices) {\r\n          set({ devices: resp.devices });\r\n        }\r\n      },\r\n      addDevice: async (config) => await Ledfx(\r\n        `/api/devices`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      updateDevice: async (deviceId, config) => await Ledfx(\r\n        `/api/devices/${deviceId}`,\r\n        set,\r\n        'PUT',\r\n        config,\r\n      ),\r\n\r\n      virtuals: {},\r\n      getVirtuals: async () => {\r\n        const resp = await Ledfx('/api/virtuals', set);\r\n        if (resp) {          \r\n          set({ paused: resp.paused });\r\n          if (resp && resp.virtuals) {          \r\n            set({ virtuals: resp.virtuals });\r\n          }\r\n        }\r\n      },\r\n      addVirtual: async (config) => await Ledfx(\r\n        `/api/virtuals`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      deleteVirtual: async (virtId) => await Ledfx(\r\n        `/api/virtuals/${virtId}`,\r\n        set,\r\n        'DELETE',\r\n      ),\r\n      clearVirtualEffect: async (virtId) => await Ledfx(\r\n        `/api/virtuals/${virtId}/effects`,\r\n        set,\r\n        'DELETE',\r\n      ),\r\n      setVirtualEffect: async (virtId, { type, config, active }) => {\r\n        const resp = await Ledfx(\r\n          `/api/virtuals/${virtId}/effects`,\r\n          set,\r\n          'POST',\r\n          {\r\n            type,\r\n            config,\r\n            active,\r\n          },\r\n        );\r\n\r\n        if (resp && resp.effect) {\r\n          set({\r\n            virtuals: get().virtuals,\r\n            ...{\r\n              [virtId]: {\r\n                effect: {\r\n                  type: resp.effect.type,\r\n                  name: resp.effect.name,\r\n                  config: resp.effect.config,\r\n                },\r\n              },\r\n            },\r\n\r\n          });\r\n        }\r\n      },\r\n      updateVirtualEffect: async (virtId, { type, config, active }) => {\r\n        const resp = await Ledfx(\r\n          `/api/virtuals/${virtId}/effects`,\r\n          set,\r\n          'PUT',\r\n          {\r\n            type,\r\n            config,\r\n            active,\r\n          },\r\n        );\r\n        if (resp && resp.status && resp.status === 'success') {\r\n          if (resp && resp.effect) {\r\n            set({\r\n              virtuals: get().virtuals,\r\n              ...{\r\n                [virtId]: {\r\n                  effect: {\r\n                    type: resp.effect.type,\r\n                    name: resp.effect.name,\r\n                    config: resp.effect.config,\r\n                  },\r\n                },\r\n              },\r\n\r\n            });\r\n          }\r\n        }\r\n      },\r\n      updateVirtualSegments: async ({ virtId, segments }) => {\r\n        const resp = await Ledfx(\r\n          `/api/virtuals/${virtId}`,\r\n          set,\r\n          'POST',\r\n          {\r\n            segments: [...segments],\r\n          },\r\n        );\r\n        if (resp && resp.status && resp.status === 'success') {\r\n          if (resp && resp.effect) {\r\n            set({\r\n              virtuals: get().virtuals,\r\n              ...{\r\n                [virtId]: {\r\n                  effect: {\r\n                    type: resp.effect.type,\r\n                    name: resp.effect.name,\r\n                    config: resp.effect.config,\r\n                  },\r\n                },\r\n              },\r\n\r\n            });\r\n          }\r\n        }\r\n      },\r\n\r\n      presets: {},\r\n      getPresets: async (effectId) => {\r\n        const resp = await Ledfx(`/api/effects/${effectId}/presets`, set);\r\n        if (resp && resp.status === 'success') {\r\n          set({ presets: resp });\r\n        }\r\n      },\r\n      addPreset: async (effectId, name) => await Ledfx(\r\n        `/api/virtuals/${effectId}/presets`,\r\n        set,\r\n        'POST',\r\n        { name }\r\n      ),\r\n      activatePreset: async (virtId, category, effectType, presetId) => await Ledfx(\r\n        `/api/virtuals/${virtId}/presets`,\r\n        set,\r\n        'PUT',\r\n        {\r\n          category,\r\n          effect_id: effectType,\r\n          preset_id: presetId,\r\n        },\r\n      ),\r\n      deletePreset: async (effectId, presetId) => await Ledfx(\r\n        `/api/effects/${effectId}/presets`,\r\n        set,\r\n        'DELETE',\r\n        {\r\n          data: {\r\n            preset_id: presetId,\r\n            category: 'user_presets',\r\n          }\r\n        },\r\n      ),\r\n\r\n      scenes: {},\r\n      getScenes: async () => {\r\n        const resp = await Ledfx('/api/scenes', set);\r\n        if (resp && resp.scenes) {\r\n          set({ scenes: resp.scenes });\r\n        }\r\n      },\r\n      addScene: async ({ name, scene_image }) => await Ledfx(\r\n        '/api/scenes',\r\n        set,\r\n        'POST',\r\n        { name, scene_image },\r\n      ),\r\n      activateScene: async ({ id }) => await Ledfx(\r\n        '/api/scenes',\r\n        set,\r\n        'PUT',\r\n        {\r\n          id,\r\n          action: 'activate',\r\n        },\r\n\r\n      ),\r\n      deleteScene: async (name) => await Ledfx(\r\n        '/api/scenes',\r\n        set,\r\n        'DELETE',\r\n        { data: { id: name } },\r\n      ),\r\n\r\n      integrations: {},\r\n      getIntegrations: async () => {\r\n        const resp = await Ledfx('/api/integrations', set);\r\n        if (resp && resp.integrations) {\r\n          set({ integrations: resp.integrations });\r\n        }\r\n      },\r\n      addIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      updateIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      toggleIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'PUT',\r\n        config,\r\n      ),\r\n      deleteIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'DELETE',\r\n        { data: { id: config } }\r\n      ),\r\n\r\n      schemas: {},\r\n      getSchemas: async () => {\r\n        const resp = await Ledfx('/api/schema', set);\r\n        if (resp) {\r\n          set({ schemas: resp });\r\n        }\r\n      },\r\n\r\n      config: {},\r\n      getSystemConfig: async () => {\r\n        const resp = await Ledfx('/api/config', set);\r\n        if (resp && resp.host) {\r\n          set({ config: { ...resp, ...{ ledfx_presets: undefined, devices: undefined, virtuals: undefined, virtuals: undefined, integrations: undefined, scenes: undefined } } });\r\n        } else {\r\n          set({ dialogs: { nohost: { open: true } } });\r\n        }\r\n      },\r\n      getFullConfig: async () => {\r\n        const resp = await Ledfx('/api/config', set);\r\n        if (resp && resp.host) {\r\n          return { ...resp, ...{ ledfx_presets: undefined } };\r\n        } else {\r\n          set({ dialogs: { nohost: { open: true } } });\r\n        }\r\n      },\r\n      setSystemConfig: async ({config}) => await Ledfx('/api/config', set, 'PUT', config),\r\n      deleteSystemConfig: async () => await Ledfx('/api/config', set, 'DELETE'),\r\n      importSystemConfig: async (config) => await Ledfx('/api/config', set, 'POST', config),\r\n\r\n      scanForDevices: async () => {\r\n        const resp = await Ledfx('/api/find_devices', set, 'POST', {});\r\n        if (resp && resp.status === 'success') {\r\n          \r\n        } else {\r\n          set({ dialogs: { nohost: { open: true } } });\r\n        }\r\n      },\r\n\r\n      paused: false,\r\n      togglePause: async () => {\r\n        const resp = await Ledfx('/api/virtuals', set, 'PUT', {});\r\n        if (resp && resp.paused) {\r\n          set({ paused: resp.paused })\r\n        }\r\n      },\r\n\r\n      graphs: false,\r\n      toggleGraphs: () => {\r\n          set((state) => ({ graphs: !state.graphs }))\r\n      },\r\n\r\n      shutdown: async () => await Ledfx('/api/power', set, 'POST', {\r\n        timeout: 0,\r\n        action: 'shutdown',\r\n      }),\r\n      restart: async () => await Ledfx('/api/power', set, 'POST', {\r\n        timeout: 0,\r\n        action: 'restart',\r\n      }),\r\n      getPing: async (virtId) => await Ledfx(`/api/ping/${virtId}`, set),\r\n      getDevice: async (deviceId) => {\r\n        const resp = await Ledfx(`/api/devices/${deviceId}`, set);\r\n        if (resp && resp.data) {\r\n          return {\r\n            key: deviceId,\r\n            id: deviceId,\r\n            name: resp.data.name,\r\n            config: resp.data,\r\n            virtuals: resp.data.virtuals,\r\n            active_virtuals: resp.data.active_virtuals,\r\n          };\r\n        }\r\n      },\r\n      webAud: false,\r\n      setWebAud: (newState) => {\r\n        set((state) => ({ webAud: newState }))        \r\n      },\r\n      webAudName: 'Name of this machine',\r\n      setWebAudName: (newState) => {\r\n        set((state) => ({ webAudName: newState }))        \r\n      },\r\n      spotifyEmbedUrl: 'https://open.spotify.com/embed/playlist/4sXMBGaUBF2EjPvrq2Z3US?',\r\n      setSpotifyEmbedUrl: (url) => {\r\n        set((state) => ({ spotifyEmbedUrl: url }))        \r\n      },\r\n    })),\r\n  ),\r\n);\r\n\r\nexport default useStore;\r\n","import { useLayoutEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useLayoutEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import React from 'react';\r\nimport { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport useStore from './apiStore';\r\nimport Sockette from 'sockette';\r\n\r\n\r\n// const ws = new WebSocket(`${window.location.protocol === 'https' ? 'wss' : 'ws'}://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0] || 'localhost:8888'}/api/websocket`);\r\n// const ws = new WebSocket(`${(window.localStorage.getItem('ledfx-host') && window.localStorage.getItem('ledfx-host').startsWith('https')) ? 'wss' : 'ws'}://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0] || 'localhost:8888'}/api/websocket`);\r\n// const ws = new WebSocket(`wss://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0].split(':')[0] || 'localhost:8888'}/api/websocket`);\r\n// const ws = new WebSocket(`${window.localStorage.getItem('ledfx-ws') ? window.localStorage.getItem('ledfx-ws') : 'ws://localhost:8888'}/api/websocket`, (window.localStorage.getItem('ledfx-ws') && window.localStorage.getItem('ledfx-ws').startsWith('wss')) ? 'https' : 'http');\r\n// const ws = new WebSocket(`wss://127.0.0.1/api/websocket`, 'wss');\r\n\r\n\r\nfunction createSocket() {  \r\nconst _ws = new Sockette(`${window.localStorage.getItem('ledfx-host') ? window.localStorage.getItem('ledfx-host').replace('https://','wss://').replace('http://','ws://') : 'ws://localhost:8888'}/api/websocket`, {\r\n  timeout: 5e3,\r\n  maxAttempts: 10,\r\n  onopen: e => {\r\n    // console.log('Connected!', e)\r\n    _ws.ws = e.target;\r\n  },\r\n  onmessage: (event) => {\r\n    if (JSON.parse(event.data).event_type === \"visualisation_update\") {\r\n      document.dispatchEvent(\r\n        new CustomEvent(\"YZ\", {\r\n          detail: {\r\n            id: JSON.parse(event.data).vis_id,\r\n            pixels: JSON.parse(event.data).pixels,\r\n          }\r\n        })\r\n      );\r\n    }\r\n  },\r\n  onreconnect: e => console.log('Reconnecting...', e),\r\n  onmaximum: e => console.log('Stop Attempting!', e),\r\n  onclose: e => console.log('Closed!', e),\r\n  onerror: e => console.log('Error:', e)\r\n});\r\nreturn _ws\r\n}\r\nconst ws = createSocket();\r\nexport default ws;\r\nexport const WsContext = React.createContext(ws);\r\n\r\nexport const HandleWs = () => {\r\n  const { pathname } = useLocation();\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const pixelGraphs = useStore((state) => state.pixelGraphs);\r\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\r\n  const graphs = useStore((state) => state.graphs);\r\n  const [wsReady, setWsReady] = useState(false)\r\n  \r\n  useLayoutEffect(() => {\r\n    if (!(pathname.startsWith(\"/Devices\") || pathname.startsWith(\"/device\"))) {\r\n      setPixelGraphs([]);\r\n    }\r\n  }, [pathname]);\r\n\r\n  useLayoutEffect(() => {\r\n    if (!graphs) {\r\n      setPixelGraphs([]);\r\n    }\r\n  }, [graphs]);\r\n\r\n  useEffect(() => {\r\n    if (pixelGraphs.length > 0 && wsReady) {\r\n      pixelGraphs.map((d, i) => {\r\n        const getWs = async () => {\r\n          const request = {\r\n            event_filter: {\r\n              vis_id: d,\r\n              is_device: !!virtuals[d]?.is_device,\r\n            },\r\n            event_type: \"visualisation_update\",\r\n            id: i,\r\n            type: \"subscribe_event\",\r\n          };\r\n          // console.log(\"Send\");\r\n          ws.send(JSON.stringify(++request.id && request));\r\n        };\r\n        getWs();\r\n      })\r\n\r\n      return () => {\r\n        pixelGraphs.map((d, i) => {\r\n          const removeGetWs = async () => {\r\n            const request = {\r\n              id: i,\r\n              type: \"unsubscribe_event\",\r\n              event_type: \"visualisation_update\",\r\n            };\r\n            ws.send(JSON.stringify(++request.id && request));\r\n          };\r\n          // console.log(\"Clean Up\");\r\n          removeGetWs();\r\n        })\r\n      }\r\n    }\r\n  }, [wsReady, pixelGraphs]);\r\n\r\n  if (!wsReady) {\r\n    if (ws.ws) {\r\n      setWsReady(true)\r\n    }\r\n  }  \r\n\r\n  return null;\r\n}","import { createTheme } from '@material-ui/core/styles';\r\n\r\n\r\nexport const BladeDarkGreenTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#1db954',\r\n    },\r\n    secondary: {\r\n      main: '#1db954',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});\r\n\r\nexport const BladeDarkBlueTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#0dbedc',\r\n    },\r\n    secondary: {\r\n      main: '#0dbedc',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});\r\n\r\nexport const BladeDarkTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#b00000',\r\n    },\r\n    secondary: {\r\n      main: '#500000',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});\r\n\r\nexport const BladeLightTheme = createTheme({\r\n  palette: {\r\n    type: 'light',\r\n    primary: {\r\n      main: '#800000',\r\n    },\r\n    secondary: {\r\n      main: '#800000',\r\n    },\r\n    // background: { default: '#030303', paper: '#151515' },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});","export const drawerWidth = 240;\r\nexport const frontendConfig = 2;\r\n\r\n\r\nexport const camelToSnake = (str) => str[0].toLowerCase()\r\n  + str\r\n    .slice(1, str.length)\r\n    .replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\r\n\r\nexport const download = (content, fileName, contentType) => {\r\n  const a = document.createElement('a');\r\n  const file = new Blob([JSON.stringify(content, null, 4)], {\r\n    type: contentType,\r\n  });\r\n  a.href = URL.createObjectURL(file);\r\n  a.download = fileName;\r\n  a.click();\r\n};\r\n\r\n\r\nexport const getOverlapping = (data) => {\r\n  const tmp = {};\r\n  data.forEach(([name, start, end]) => {\r\n      if (!tmp[name]) {\r\n          tmp[name] = {};\r\n          data.forEach(y => {\r\n              tmp[name].items = [];\r\n              tmp[name].overlap = false;\r\n              tmp[name].items.push([start, end]);\r\n          });\r\n      } else {\r\n          tmp[name].items.push([start, end]);\r\n      }\r\n  });\r\n  Object.keys(tmp).forEach(e =>\r\n      tmp[e].items\r\n          .sort(([startA], [startB]) => startA > startB)\r\n          .forEach(([start, end], i) => {\r\n              if (tmp[e].items[i + 1]) {\r\n                  const [startNew, endNew] = tmp[e].items[i + 1];\r\n                  if (startNew <= end && endNew >= start) {\r\n                      tmp[e].overlap = true;\r\n                  }\r\n              }\r\n          })\r\n  );\r\n  return tmp;\r\n}\r\n\r\nexport const swap = (array, i, j) => [array[i], array[j]] = [array[j], array[i]];\r\n\r\nexport const deleteFrontendConfig = () => {\r\n    window.localStorage.removeItem('undefined')\r\n    window.localStorage.removeItem('ledfx-host')\r\n    window.localStorage.removeItem('ledfx-hosts')\r\n    window.localStorage.removeItem('ledfx-ws')\r\n}\r\n\r\nexport const initFrontendConfig = () => {\r\n    if (window.localStorage.getItem('ledfx-frontend') >= frontendConfig) {\r\n        return\r\n    }\r\n    window.localStorage.removeItem('undefined')\r\n    window.localStorage.setItem('ledfx-frontend', frontendConfig)\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport { drawerWidth } from './utils/helpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    '*::-webkit-scrollbar': {\r\n      backgroundColor: '#ffffff30',\r\n      width: '8px',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-track': {\r\n      backgroundColor: '#00000060',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#555555',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-button': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    background: 'transparent',\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n    '@media (max-width: 580px)': {      \r\n      padding: '8px',\r\n    },\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","export default __webpack_public_path__ + \"static/media/blademod.04a8d38d.svg\";","import { makeStyles } from '@material-ui/core/styles';\r\nimport { drawerWidth } from '../../utils/helpers';\r\nimport blademod from '../../assets/blademod.svg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    '*::-webkit-scrollbar': {\r\n      backgroundColor: '#ffffff30',\r\n      width: '8px',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-track': {\r\n      backgroundColor: '#00000060',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#555555',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-button': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    overflowX: 'hidden',\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  logo: {\r\n    position: 'relative',\r\n    padding: '15px 15px',\r\n    zIndex: '4',\r\n  },\r\n  logoLink: {\r\n    padding: '5px 0',\r\n    display: 'block',\r\n    fontSize: '18px',\r\n    textAlign: 'left',\r\n    fontWeight: '400',\r\n    lineHeight: '30px',\r\n    textDecoration: 'none',\r\n    backgroundColor: 'transparent',\r\n    '&,&:hover': {\r\n      color: '#FFFFFF',\r\n    },\r\n  },\r\n  logoImage: {\r\n    width: '30px',\r\n    display: 'inline-block',\r\n    maxHeight: '30px',\r\n    marginLeft: '10px',\r\n    marginRight: '15px',\r\n\r\n    '& img': {\r\n      width: '35px',\r\n      top: '17px',\r\n      position: 'absolute',\r\n      verticalAlign: 'middle',\r\n      border: '0',\r\n    },\r\n  },\r\n  devbadge: {\r\n    backgroundImage: `url(${blademod})`,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    border: theme.palette.primary.main,\r\n    color: '#fff',\r\n    borderRadius: '15px',\r\n    width: '150px',\r\n    padding: '5px 25px',\r\n    backgroundSize: '230px',\r\n    height: '25px',\r\n    marginBottom: '0.5rem',\r\n    backgroundRepeat: 'no-repeat',\r\n    textAlign: 'right',\r\n    backgroundPosition: '-40px 50%',\r\n  },\r\n  activeView: {\r\n    backgroundColor: theme.palette.secondary.main,\r\n    boxShadow: theme.shadows[12],\r\n    '&:hover,&:focus,&:visited,&': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        boxShadow: theme.shadows[12],\r\n    },\r\n    color: '#fff',\r\n},\r\n}));\r\nexport default useStyles;\r\n","import React from 'react';\r\n\r\nconst Wled = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap,\r\n}) => (\r\n  <svg viewBox=\"1.2738999999999998 0.896900000000001 21.511300000000002 17.9544\">\r\n    <path\r\n      d=\"m 15.5751 0.919 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8159 -0.0141 1.6377 0.0106 2.45 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0419 0 -2.0839 0 -3.1258 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -3.5569 3.5569 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c -0.0036 0.8041 0.0083 1.6156 -0.016 2.4153 c -1.1386 0.0401 -2.2792 0.0095 -3.4186 0.0193 c -0.2245 -0.0414 -0.1307 0.2381 -0.1493 0.3678 c 0 2.2635 0 4.527 0 6.7905 c 0.0782 0.1466 0.3085 0.0379 0.4487 0.0714 c 1.0508 0 2.1016 0 3.1524 0 c 0.1465 -0.078 0.0388 -0.3084 0.0729 -0.4484 c 0.004 -1.0408 0.008 -2.0815 0.0121 -3.1223 c 1.1575 -0.0046 2.3151 -0.0091 3.4726 -0.0136 c 0.1462 -0.0786 0.0376 -0.3085 0.0712 -0.4487 c 0 -2.2364 0 -4.4729 0 -6.7093 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -1.0419 0 -2.0839 0 -3.1258 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -10.7247 10.7247 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8249 -0.0142 1.6556 0.0106 2.4769 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0509 0 -2.1018 0 -3.1527 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z\"\r\n      fill=\"currentColor\"\r\n      stroke={stroke}\r\n      strokeWidth={strokeWidth}\r\n      strokeLinejoin={strokeLinejoin}\r\n      strokeLinecap={strokeLinecap}\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default Wled;\r\n","import React from 'react';\r\n\r\nexport const Bottom = ({ stroke, strokeWidth, style }) => <path style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" d=\"M22751.73 30209.19l-4508.17 1605.87c6186.94,5970.28 15978.27,5978.16 22158.89,1.34l-4508.57 -1606.03c-3977.4,2650.87 -9163.74,2648.16 -13142.15,-1.18z\" />\r\nexport const Top = ({ stroke, strokeWidth, style }) => <path style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" d=\"M22802.89 10449.6l-4523.5 -1606.47c6163.23,-5924.29 15916.39,-5917.68 22087.23,-1.33l-4523.9 1606.62c-3958.6,-2605.67 -9083.15,-2607.37 -13039.83,1.18z\" />\r\nexport const Y = ({ stroke, strokeWidth, style }) => <polygon style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" points=\"11616.1,8249.12 11616.1,22417.04 24322.12,22417.04 24322.12,23326 15789.82,26458.12 15789.82,24700.98 11610.12,26235.29 11610.12,32404.98 28502.47,26387.7 28502.47,14246.16 22571.24,12139.74 22571.24,16618.6 24322.12,17196.7 24322.12,18147.8 15830.96,18147.8 15830.96,14182.39 17568.29,14856.66 17568.29,10363 \" />\r\nexport const Z = ({ stroke, strokeWidth, style }) => <polygon style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" points=\"47093.19,8225.33 30139.81,14246.16 30139.81,16475.31 36517.25,16475.31 42851.53,14225.75 42851.53,18170.76 30139.81,18170.76 30139.81,26387.7 47093.19,32426.72 47093.19,24108.92 42820.02,24108.92 42820.02,24487.97 42820.02,26458.31 34335.23,23420.94 34335.23,22451.01 47093.19,22451.01 \" />\r\n\r\nexport const YZLogo2Bottom = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.025)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Bottom\">\r\n        <Bottom stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2Top = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.025)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Top\">\r\n        <Top stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2Y = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.03)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 29700 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Y\">\r\n        <Y stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2Z = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.035)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"29700 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Z\">\r\n        <Z stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2 = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2\">\r\n        <Z stroke={stroke} strokeWidth={strokeWidth} />\r\n        <Y stroke={stroke} strokeWidth={strokeWidth} />\r\n        <Top stroke={stroke} strokeWidth={strokeWidth} />\r\n        <Bottom stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default YZLogo2;\r\n","import { Icon } from '@material-ui/core'\r\nimport Wled from './Wled'\r\nimport { YZLogo2, YZLogo2Bottom, YZLogo2Top, YZLogo2Y, YZLogo2Z } from './YZ-Logo2'\r\nimport { camelToSnake } from '../../utils/helpers'\r\n\r\nconst BladeIcon = ({\r\n  colorIndicator = false,\r\n  name = \"MusicNote\",\r\n  className,\r\n  style,\r\n  scene = false,\r\n  card = false\r\n}) => {\r\n  return (\r\n    <Icon\r\n      className={className}\r\n      color={colorIndicator ? 'primary' : 'inherit'}\r\n      style={style}\r\n    >\r\n      {name.startsWith('yz:logo2y') ? <YZLogo2Y style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2z') ? <YZLogo2Z style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2top') ? <YZLogo2Top style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2bot') ? <YZLogo2Bottom style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2') ? <YZLogo2 style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('wled') ? <Wled />\r\n        : name.startsWith('mdi:') ? <span className={`mdi mdi-${name.split('mdi:')[1]}`} />\r\n        : camelToSnake(name)}\r\n    </Icon>\r\n  )\r\n}\r\n\r\nexport default BladeIcon\r\n","import { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\r\nimport { ListItem, ListItemIcon, ListItemText, Drawer, List, Icon, Divider, IconButton } from '@material-ui/core';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport useStore from '../../utils/apiStore';\r\nimport useStyles from './BarLeft.styles';\r\nimport logoAsset from '../../assets/logo.png';\r\nimport BladeIcon from '../Icons/BladeIcon';\r\n\r\nconst LeftBar = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const { pathname } = useLocation();\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const open = useStore((state) => state.ui.bars?.leftBar.open);\r\n  const setOpen = useStore((state) => state.setLeftBarOpen);\r\n  const smallScreen = useMediaQuery('(max-width:768px)');\r\n\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false)\r\n  };\r\n\r\n  const logo = (\r\n    <div className={classes.logo}>\r\n      <a href=\"/#\" className={classes.logoLink}>\r\n        <div className={classes.logoImage}>\r\n          <img src={logoAsset} alt=\"logo\" className={classes.img} />\r\n        </div>\r\n        LedFx\r\n      </a>\r\n      <div className={classes.devbadge} onClick={() => window.localStorage.setItem('BladeMod', 0)} onDoubleClick={() => window.localStorage.setItem('BladeMod', 10)} />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Drawer\r\n      className={classes.drawer}\r\n      variant=\"persistent\"\r\n      anchor=\"left\"\r\n      open={open}\r\n      classes={{\r\n        paper: classes.drawerPaper,\r\n      }}\r\n    >\r\n      <div className={classes.drawerHeader}>\r\n        {logo}\r\n        <IconButton onClick={handleDrawerClose}>\r\n          {theme.direction === 'ltr' ? <ChevronLeft /> : <ChevronRight />}\r\n        </IconButton>\r\n      </div>\r\n      <Divider />\r\n      <List>\r\n        {Object.keys(virtuals).map((d, i) => (\r\n          <Link\r\n            style={{ textDecoration: 'none' }}\r\n            key={i}\r\n            to={`/device/${virtuals[d].id}`}\r\n            onClick={() => {\r\n              smallScreen && handleDrawerClose();\r\n            }}\r\n          >\r\n            <ListItem className={\r\n              (pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) ? classes.activeView : classes.dummy\r\n            } button key={virtuals[d].config.name}>\r\n              <ListItemIcon>\r\n                <BladeIcon\r\n                style={{ position: 'relative' }}\r\n                  colorIndicator={!(pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) && Object.keys(virtuals[d].effect).length > 0}\r\n                  name={virtuals && virtuals[d] && virtuals[d].config && virtuals[d].config.icon_name && virtuals[d].config.icon_name} />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                style={{ color: !(pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) && Object.keys(virtuals[d]?.effect).length > 0 ? theme.palette.primary.light : theme.palette.text.primary }}\r\n                primary={virtuals[d].config.name}\r\n              />\r\n            </ListItem>\r\n          </Link>\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default LeftBar;\r\n","export default \"data:image/png;base64,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\"","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-device-one',\n    content: (\n      <div>\n        <h2>Effect Type</h2>\n        Choose an effect here.\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>BASIC: Simple, non reactive effects</li>\n          <li>1.0: Audio reactive effects</li>\n          <li>2D: [WIP] Effects designed for a 2D LED matrix</li>\n          <li>BPM: Effects designed for the beat of your music</li>\n          <li>2.0: Experimental new audio reactive effects</li>\n        </ul>\n        <li>Each effect has plenty of settings to play with</li>\n        <li>You can tune effects to your liking</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-two',\n    content: (\n      <div>\n        <h2>Transitions</h2>\n        <li>You can adjust the animation between effects</li>\n        <li>Set to 0 for no animation</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-three',\n    content: (\n      <div>\n        <h2>Presets</h2>\n        Easily save and apply the settings of an effect.\n        LedFx has some built in presets, and you can save your own too\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-four',\n    content: (\n      <div>\n        <h2>Frequency Range</h2>\n        <li>Adjust the audio frequency range used for effects</li>\n        <li>Most 1.0 effects will work with any frequency range you specify</li>\n        <li>Some effects will bypass this and do their own internal analysis</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-five',\n    content: (\n      <div>\n        <h2>Clear Effect</h2>\n        Clear effect and release device\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-six',\n    content: (\n      <div>\n        <h2>Randomizer</h2>\n        Randomly sets all effect properties\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-seven',\n    content: (\n      <div>\n        <h2>Effect Tours</h2>\n        Every effect has an individual tour to explain the different properties\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourDevice = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.device);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"device\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourDevice;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-scenes-one',\n    content: (\n      <div>\n        <h2>Scenes</h2>\n        You can save the current state of LedFx as a scene,\n        while giving it a name and optionally an image or an icon.\n        <p>\n          Note: This includes all active effects for all devices and their effect-settings.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourScenes = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.devices);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"scenes\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourScenes;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-settings-one',\n    content: (\n      <div>\n        <h2>Audio Device</h2>\n        Select your audio input device here.\n        <p>\n          Note: Additional Informations incoming\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-two',\n    content: (\n      <div>\n        <h2>Frontend FPS</h2>\n        FPS sent to the frontend to render the PixelGraphs\n        <p>\n          Note: Low-end devices might struggle with too much data.\n          Keep it at maximum, if everything runs smooth.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-three',\n    content: (\n      <div>\n        <h2>Frontend Max Pixel Length</h2>\n        Pixels per device sent to the frontend to render the PixelGraphs\n        <p>\n          Note: Low-end devices might struggle with too much data.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-four',\n    content: (\n      <div>\n        <h2>Control Buttons</h2>\n        No Explanation needed\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-five',\n    content: (\n      <div>\n        <h2>WLED Integration</h2>\n        Finetune how LedFx should handle your WLEDs\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourSettings = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.settings);\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"settings\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourSettings;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-devices-one',\n    content: (\n      <div>\n        <h2>Devices</h2>\n        Add at least one device using the red button to get specific tour.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-two-0',\n    content: (\n      <div>\n        <h2>Expand</h2>\n        Click the down arrow to toggle options.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-three-0',\n    content: (\n      <div>\n        <h2>Delete</h2>\n        A device can be deleted using trashcan icon.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-four-0',\n    content: (\n      <div>\n        <h2>Device-Settings</h2>\n        The wrench will allow you to modify logical device settings including streaming mode\n        , pixel count, and IP address.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-five-0',\n    content: (\n      <div>\n        <h2>Virtual-Settings</h2>\n        The Cogwheel will allow you to change various virtual device settings.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-six',\n    content: (\n      <div>\n        <h2>Segment-Settings</h2>\n        The slider bar icon will allow you to modify virtual device segments.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-seven',\n    content: (\n      <div>\n        <h2>Pixelgraph</h2>\n        When actively streaming with an active sound source selected you will find\n        the graph display here.\n        <p>\n          Note: Graphs are disabled by default to keep low-end devices safe.\n          For high-end clients they can be enabled using the top-right-menu\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourDevices = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.devices);\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"devices\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\n\n\nexport default TourDevices;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-integrations-one',\n    content: (\n      <div>\n        <h2>Integrations</h2>\n        Text for Integrations\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourIntegrations = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.integrations);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"integrations\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourIntegrations;\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport { AppBar, Toolbar, Typography, IconButton, Menu, MenuItem, ListItemIcon } from '@material-ui/core';\r\nimport { Menu as MenuIcon, MoreVert, PlayCircleOutline, Language, BarChart, Pause, Settings, InfoRounded } from '@material-ui/icons';\r\nimport { drawerWidth } from '../../utils/helpers';\r\nimport TourDevice from '../Tours/TourDevice';\r\nimport TourScenes from '../Tours/TourScenes';\r\nimport TourSettings from '../Tours/TourSettings';\r\nimport TourDevices from '../Tours/TourDevices';\r\nimport TourIntegrations from '../Tours/TourIntegrations';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nconst TopBar = () => {\r\n  const classes = useStyles();\r\n  const open = useStore((state) => state.ui.bars && state.ui.bars?.leftBar.open);\r\n  const setLeftBarOpen = useStore((state) => state.setLeftBarOpen);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const setDialogOpen = useStore((state) => state.setDialogOpen);\r\n  const togglePause = useStore((state) => state.togglePause);\r\n  const toggleGraphs = useStore((state) => state.toggleGraphs);\r\n  const paused = useStore((state) => state.paused);\r\n  const graphs = useStore((state) => state.graphs);\r\n  const config = useStore((state) => state.config);\r\n  const { pathname } = useLocation();\r\n  // console.log(pathname.split('/'))\r\n\r\n  const handleLeftBarOpen = () => {\r\n    setLeftBarOpen(true);\r\n  };\r\n  const changeHost = () => {\r\n    setDialogOpen(true, true);\r\n    setAnchorEl(null);\r\n  };\r\n  const changePause = () => {\r\n    togglePause();\r\n  };\r\n  const changeGraphs = () => {\r\n    toggleGraphs();\r\n  };\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  return (\r\n    <AppBar\r\n      color={\"secondary\"}\r\n      position=\"fixed\"\r\n      className={clsx(classes.appBar, {\r\n        [classes.appBarShift]: open,\r\n      })}\r\n    >\r\n      <Toolbar style={{ justifyContent: 'space-between' }}>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          onClick={handleLeftBarOpen}\r\n          edge=\"start\"\r\n          className={clsx(classes.menuButton, \"step-three\", open && classes.hide)}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        {open && <div style={{ width: '48px', height: '48px' }} />}\r\n        <Typography variant=\"h6\" noWrap>\r\n          {pathname === '/' ? 'LedFx' \r\n            : (pathname.split('/').length === 3 && pathname.split('/')[1] === 'device') ? virtuals[pathname.split('/')[2]]?.config.name\r\n            : pathname.split('/').pop()}\r\n        </Typography>\r\n\r\n        <IconButton\r\n          aria-label=\"display more actions\"\r\n          edge=\"end\"\r\n          color=\"inherit\"\r\n          onClick={handleClick}\r\n          className={'step-two'}\r\n          style={{ marginLeft: '1rem' }}\r\n        >\r\n          <MoreVert />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"simple-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={() => setAnchorEl(null)}\r\n        >\r\n          <MenuItem onClick={changeHost}>\r\n            <ListItemIcon>\r\n              <Language />\r\n            </ListItemIcon>\r\n            Change Host\r\n          </MenuItem>\r\n          <MenuItem onClick={changePause}>\r\n            <ListItemIcon>\r\n              {paused ? <PlayCircleOutline /> : <Pause />}\r\n            </ListItemIcon>\r\n            {paused ? 'Play' : 'Pause'}\r\n          </MenuItem>\r\n          <MenuItem onClick={changeGraphs}>\r\n            <ListItemIcon >\r\n              <BarChart color={graphs ? \"inherit\" : \"secondary\"} />\r\n            </ListItemIcon>\r\n            {!graphs ? 'Enable Graphs' : 'Disable Graphs'}\r\n          </MenuItem>\r\n          {pathname.split('/')[1] === 'device' ? <TourDevice cally={() => setAnchorEl(null)} />\r\n            : pathname.split('/')[1] === 'Scenes' ? <TourScenes cally={() => setAnchorEl(null)} />\r\n              : pathname.split('/')[1] === 'Settings' ? <TourSettings cally={() => setAnchorEl(null)} />\r\n                : pathname.split('/')[1] === 'Devices' ? <TourDevices cally={() => setAnchorEl(null)} />\r\n                  : pathname.split('/')[1] === 'Integrations' ? <TourIntegrations cally={() => setAnchorEl(null)} />\r\n                    : null}\r\n          <MenuItem onClick={() => setAnchorEl(null)} component={Link} to={\"/Settings\"} >\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n            Settings\r\n          </MenuItem>\r\n        </Menu>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import { useState } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { Link, TextField, Dialog, DialogActions, DialogContent, DialogTitle, Button, Typography } from '@material-ui/core';\r\n\r\nconst AddSceneDialog = () => {  \r\n  const [name, setName] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [overwrite, setOverwrite] = useState(false)\r\n\r\n  const addScene = useStore((state) => state.addScene);\r\n  const getScenes = useStore((state) => state.getScenes);\r\n  const scenes = useStore((state) => state.scenes);\r\n  const open = useStore((state) => state.dialogs.addScene?.open || false);\r\n  const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddScene(false);\r\n  };\r\n  const handleAddScene = (e) => {\r\n\r\n    addScene({ name, scene_image: image }).then(() => {\r\n      getScenes();\r\n    });\r\n    setName('');\r\n    setImage('');\r\n    setDialogOpenAddScene(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n    <DialogTitle id=\"form-dialog-title\">Add Scene</DialogTitle>\r\n    <DialogContent>\r\n        Image is optional and can be one of:\r\n        <ul style={{ paddingLeft: '1rem' }}>\r\n        <li>iconName <Link href=\"https://material-ui.com/components/material-icons/\">Find MUI icons here</Link>        \r\n        <Typography color=\"textSecondary\" variant=\"subtitle1\"><em>eg. flare, AccessAlarms</em></Typography></li>\r\n        <li>mdi:icon-name <Link href=\"https://materialdesignicons.com\">Find Material Design icons here</Link>\r\n        <Typography color=\"textSecondary\" variant=\"subtitle1\"><em>eg. mdi:balloon, mdi:led-strip-variant</em></Typography></li>\r\n        <li>image:custom-url\r\n        <Typography color=\"textSecondary\" variant=\"subtitle1\" style={{ wordBreak: 'break-all'}}><em>eg. image:https://i.ytimg.com/vi/4G2unzNoOnY/maxresdefault.jpg</em></Typography></li>\r\n        </ul>\r\n      \r\n      <TextField\r\n        autoFocus\r\n        margin=\"dense\"\r\n        id=\"name\"\r\n        label=\"Name\"\r\n        type=\"text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n        onBlur={(e) => {          \r\n          setOverwrite(Object.keys(scenes).indexOf(e.target.value.toLowerCase()) > -1)\r\n        }}\r\n        error={overwrite}\r\n        helperText={overwrite && \"Scene already existing!\"}\r\n        required\r\n        fullWidth\r\n      />\r\n      <TextField\r\n        margin=\"dense\"\r\n        id=\"scene_image\"\r\n        label=\"Image\"\r\n        type=\"text\"\r\n        value={image}\r\n        onChange={(e) => setImage(e.target.value)}\r\n        fullWidth\r\n      />\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={handleClose}>\r\n        Cancel\r\n      </Button>\r\n      <Button onClick={handleAddScene}>\r\n      {overwrite ? 'Overwrite' : 'Add'}\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog>\r\n  )\r\n}\r\n\r\nexport default AddSceneDialog\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  FormControlLabel, Switch, Checkbox, Button, Typography\r\n} from '@material-ui/core/';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {    \r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  wrapper: {\r\n    // minWidth: \"140px\",\r\n    padding: '10px 10px 2px 10px',\r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    // margin: \"0.5rem\",\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    order: '-3',\r\n    // \"@media (max-width: 580px)\": {\r\n    flexBasis: '31%',\r\n    minWidth: 'unset',\r\n    margin: '0.5rem 0',\r\n    // },\r\n\r\n    \"@media (max-width: 580px)\": {\r\n      flexBasis: \"37vw\",\r\n    },\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n}));\r\nconst BladeBoolean = ({\r\n  onClick,\r\n  type = 'switch',\r\n  variant = 'outlined',\r\n  schema,\r\n  model,\r\n  required = false,\r\n  hideDesc = false,\r\n  model_id,\r\n  style = {},\r\n  index\r\n}) => {\r\n  // console.log(schema);\r\n  const classes = useStyles();\r\n\r\n  const Frame = ({ children }) => (variant === 'outlined' ? (\r\n    <div className={`${classes.wrapper} step-effect-${index}`} style={{ ...style, ...{ order: required ? -1 : 5 } }}>\r\n      <label className={'MuiFormLabel-root'}>{schema.title.replaceAll('_', ' ').replaceAll('Color', 'c')}{required ? '*' : ''}</label>\r\n      {children}\r\n    </div>\r\n  ) : variant === 'text' ? (\r\n    <FormControlLabel control={children} label={schema.title.replaceAll('_', ' ').replaceAll('color', 'c')} />\r\n  ) : (\r\n    { children }\r\n  ));\r\n  // console.log(model_id);\r\n  switch (type) {\r\n    case 'switch':\r\n      return (\r\n        <Frame>\r\n          <Switch\r\n            defaultValue={(model && model[model_id]) || schema.default}\r\n            checked={model && model[model_id]}\r\n            onChange={(e, b) => onClick(model_id, b)}\r\n            name={schema.title.replaceAll('_', ' ').replaceAll('color', 'c')}\r\n            color=\"primary\"\r\n          />\r\n          {!hideDesc && schema.description\r\n            ? <>\r\n              <Typography variant={'body2'} className={'MuiFormHelperText-root'} >{schema.description} </Typography>\r\n            </>\r\n            : <></>\r\n          }\r\n        </Frame>\r\n      );\r\n    case 'checkbox':\r\n      return (\r\n        <Frame>\r\n          <Checkbox\r\n            defaultValue={schema.default}\r\n            checked={model && model[model_id]}\r\n            onChange={(e, b) => onClick(model_id, b)}\r\n            name={model_id}\r\n            color=\"primary\"\r\n          />\r\n        </Frame>\r\n      );\r\n    case 'button':\r\n      return (\r\n        <Button\r\n          color=\"primary\"\r\n          variant={model[model_id] ? 'contained' : 'outlined'}\r\n          onClick={() => onClick(model_id, !model[model_id])}\r\n        >\r\n          {schema.title.replaceAll('_', ' ').replaceAll('color', 'c')}\r\n        </Button>\r\n      );\r\n\r\n    default:\r\n      return <div>unset</div>;\r\n  }\r\n};\r\n\r\nexport default BladeBoolean;\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, IconButton } from '@material-ui/core';\r\nimport { Info } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        minWidth: '200px',\r\n        padding: '16px 1.2rem 6px 1.2rem',\r\n        border: '1px solid rgba(255, 255, 255, 0.23)',\r\n        borderRadius: '10px',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        height: 'auto',\r\n        margin: '0.5rem 0',\r\n        \"@media (max-width: 580px)\": {\r\n            width: '100% !important',\r\n            margin: '0.5rem 0',\r\n        },\r\n        '& > label': {\r\n            top: '-0.7rem',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            left: '1rem',\r\n            padding: '0 0.3rem',\r\n            position: 'absolute',\r\n            fontVariant: 'all-small-caps',\r\n            backgroundColor: theme.palette.background.paper,\r\n            boxSizing: 'border-box',\r\n        },\r\n    },\r\n}));\r\n\r\nconst BladeFrame = ({ title, children, full = false, style = { width: 'unset' }, order, required = false, variant = 'outlined', className }) => {\r\n    const classes = useStyles();\r\n    return (variant === 'outlined' ? (\r\n        <div className={`${classes.wrapper} ${className}`} style={{\r\n            ...style,\r\n            order: order || (title === 'Name' ? -2 : required ? -1 : 1),\r\n            width: full ? '100%' : style.width\r\n        }}>\r\n            <label className={'MuiFormLabel-root'} onClick={()=>alert(1)}>{title}{required ? '*' : ''}</label>\r\n            {children}\r\n        </div>\r\n    ) : (\r\n        children\r\n    ))\r\n}\r\n\r\nexport default BladeFrame\r\n","import PropTypes from 'prop-types';\r\nimport { Select, MenuItem, TextField } from '@material-ui/core/';\r\nimport BladeFrame from './BladeFrame';\r\n\r\nconst BladeSelect = ({\r\n  variant = 'outlined',\r\n  disabled = false,\r\n  schema,\r\n  model,\r\n  model_id,\r\n  onChange,\r\n  index,\r\n  required = false,\r\n  wrapperStyle = {},\r\n  selectStyle = {},\r\n  textStyle = {},\r\n  menuItemStyle = {},\r\n  children\r\n}) =>\r\n  <BladeFrame\r\n    title={schema.title}\r\n    className={`step-effect-${index}`}\r\n    full={!(schema.enum && schema.enum.length && Object.values(schema.enum).every(a => a.length < 20))}\r\n    required={required}\r\n    style={wrapperStyle}>\r\n\r\n    {variant === 'contained' ? (\r\n      schema.enum\r\n        ? (\r\n          <Select\r\n            variant=\"filled\"\r\n            disabled={disabled}\r\n            style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\r\n            disableUnderline\r\n            defaultValue={schema.default}\r\n            value={model && model[model_id] || schema.enum[0]}\r\n            onChange={(e) => onChange(model_id, e.target.value)}\r\n          >\r\n            {children ? children : schema.enum.map((item, i) => (\r\n              <MenuItem key={`${i}-${i}`} value={item}>\r\n                {item}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>)\r\n        : (\r\n          <TextField\r\n            helperText={schema.description}\r\n            defaultValue={model && model[model_id] || (schema.enum && schema.enum[0]) || schema.default || ''}\r\n            onBlur={(e) => onChange(model_id, e.target.value)}\r\n            style={textStyle}\r\n\r\n          />\r\n        )\r\n    ) : (\r\n      schema.enum && Array.isArray(schema.enum)\r\n        ? (\r\n          <Select\r\n            disabled={disabled}\r\n            style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\r\n            disableUnderline\r\n            defaultValue={schema.default}\r\n            value={model && model[model_id] || schema.enum[0]}\r\n            onChange={(e) => onChange(model_id, e.target.value)}\r\n          >\r\n            {schema.enum.map((item, i) => (\r\n              <MenuItem key={i} value={item} style={menuItemStyle}>\r\n                {item}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>)\r\n        : schema.enum && !Array.isArray(schema.enum)\r\n          ? (\r\n            <Select\r\n              disabled={disabled}\r\n              style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\r\n              disableUnderline\r\n              defaultValue={schema.default}\r\n              value={model && schema.enum[model[model_id]] || schema.enum[0]}\r\n              onChange={(e) => onChange(model_id, parseInt(Object.keys(schema.enum).find(en => schema.enum[en] === e.target.value)))}\r\n            >\r\n              {Object.keys(schema.enum).map((item, i) => (\r\n                <MenuItem key={i} value={schema.enum[item]}>\r\n                  {schema.enum[item]}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>)\r\n          : (\r\n            <TextField\r\n              type={schema.description?.includes('password') ? \"password\" : \"unset\"}\r\n              helperText={schema.description}\r\n              defaultValue={model && model[model_id] || (schema.enum && schema.enum[0]) || schema.default || ''}\r\n              onBlur={(e) => onChange(model_id, e.target.value)}\r\n              style={textStyle}\r\n            />\r\n          )\r\n    )}\r\n  </BladeFrame>\r\n\r\n\r\nBladeSelect.propTypes = {\r\n  variant: PropTypes.string,\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n  model_id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BladeSelect;\r\n\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    marginLeft: '1rem',\r\n    backgroundColor: '#88888888',\r\n    paddingLeft: '0.5rem',\r\n    borderRadius: '5px'\r\n  },\r\n  wrapper: {\r\n    minWidth: '240px',\r\n    width: '48%',\r\n    padding: '16px 1.2rem 6px 1.2rem',\r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    order: 3,\r\n    margin: '0.5rem 0',\r\n    \"@media (max-width: 580px)\": {\r\n      width: '100% !important',\r\n    },\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',      \r\n    },\r\n    '& .sortable-handler': {\r\n      touchAction: 'none',\r\n    }\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { Slider, Input, TextField, Typography } from '@material-ui/core/';\r\nimport useStyles from './BladeSlider.styles';\r\n\r\nconst BladeSlider = ({\r\n  variant = 'outlined',\r\n  schema,\r\n  model,\r\n  model_id,\r\n  step,\r\n  onChange,\r\n  marks,\r\n  index,\r\n  required = false,\r\n  textfield = false,\r\n  disabled = false,\r\n  hideDesc = false,\r\n  style = {},\r\n}) => {\r\n  const classes = useStyles();\r\n  // console.log(schema)\r\n  return variant === 'outlined' ? (\r\n    <div className={`${classes.wrapper} step-effect-${index}`} style={{ ...style, ...{ order: required ? -1 : 3 } }}>\r\n      <label className={'MuiFormLabel-root'}>{schema.title}{required ? '*' : ''}</label>\r\n      <BladeSliderInner\r\n        schema={schema}\r\n        model={model}\r\n        model_id={model_id}\r\n        disabled={disabled}\r\n        step={step}\r\n        onChange={onChange}\r\n        textfield={textfield}\r\n        marks={marks}\r\n        hideDesc={hideDesc}\r\n      />\r\n    </div>\r\n  ) : (\r\n    <BladeSliderInner\r\n      schema={schema}\r\n      model={model}\r\n      model_id={model_id}\r\n      onChange={onChange}\r\n      disabled={disabled}\r\n      textfield={textfield}\r\n      style={{ order: required ? -1 : 3 }}\r\n      marks={marks}\r\n      hideDesc={hideDesc}\r\n    />\r\n  );\r\n};\r\n\r\nconst BladeSliderInner = ({\r\n  schema, model, model_id, step, onChange, textfield, style, disabled, marks,hideDesc\r\n}) => {\r\n  // console.log(model, schema, model_id);\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(model[model_id] || schema.default || 1);\r\n\r\n  const handleSliderChange = (event, newValue) => {\r\n    if (newValue !== value) {\r\n      setValue(newValue);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    if (value !== event.target.value) {\r\n      setValue(event.target.value === '' ? '' : Number(event.target.value));\r\n      if (event.target.value < schema.minimum) {\r\n        setValue(schema.minimum);\r\n      } else if (event.target.value > schema.maximum) {\r\n        setValue(schema.maximum);\r\n      }\r\n      onChange(model_id, Number(event.target.value))\r\n    }\r\n  };\r\n  const handleBlur = () => {\r\n    if (value < schema.minimum) {\r\n      setValue(schema.minimum);\r\n    } else if (value > schema.maximum) {\r\n      setValue(schema.maximum);\r\n    }\r\n  };  \r\n  const handleTextBlur = () => {\r\n    if (value < schema.minimum) {\r\n      setValue(schema.minimum);\r\n    } else if (value > schema.maximum) {\r\n      setValue(schema.maximum);\r\n    }\r\n    onChange(model_id, Number(event.target.value))\r\n  };\r\n\r\n  return (schema.maximum && !textfield) ? (\r\n    <>\r\n      <div style={{width: '100%'}}>\r\n        <Slider\r\n          aria-labelledby=\"input-slider\"\r\n          valueLabelDisplay=\"auto\"\r\n          disabled={disabled}\r\n          marks\r\n          step={step || (schema.maximum > 1 ? 0.1 : 0.01)}\r\n          min={schema.minimum || 0}\r\n          max={schema.maximum}\r\n          value={typeof value === 'number' ? value : 0}\r\n          onChange={handleSliderChange}\r\n          onChangeCommitted={(e, b) => onChange(model_id, b)}\r\n          style={style}\r\n        // defaultValue={model[model_id] || schema.default}\r\n        // value={model && model[model_id]}\r\n        />\r\n        {(!hideDesc && schema.description)\r\n          ? <>\r\n            <Typography variant={'body2'} className={'MuiFormHelperText-root'} >{schema.description} </Typography>\r\n          </>\r\n          : <></>\r\n        }\r\n      </div>\r\n      <Input\r\n        disableUnderline\r\n        disabled={disabled}\r\n        className={classes.input}\r\n        value={value}\r\n        margin=\"dense\"\r\n        onChange={handleInputChange}\r\n        onBlur={handleBlur}\r\n        inputProps={{\r\n          step: schema.maximum > 1 ? 0.1 : 0.01,\r\n          min: schema.minimum || 0,\r\n          max: schema.maximum,\r\n          type: 'number',\r\n          'aria-labelledby': 'input-slider',\r\n        }}\r\n      />\r\n    </>\r\n  ) :  (schema.enum && !textfield) ? (\r\n    <Slider\r\n          aria-labelledby=\"input-slider\"\r\n          valueLabelDisplay=\"auto\"\r\n          disabled={disabled}\r\n          marks={marks.map((m,i)=>({value: m, label: (i === 0 || i === marks.length - 1) ? m : ''}))}\r\n          step={null}\r\n          min={marks[0]}\r\n          max={marks[marks.length - 1]}\r\n          value={typeof value === 'number' ? value : 0}\r\n          onChange={handleSliderChange}\r\n          onChangeCommitted={(e, b) => onChange(model_id, b)}\r\n          style={style}\r\n        // defaultValue={model[model_id] || schema.default}\r\n        // value={model && model[model_id]}\r\n        />\r\n  ) : (\r\n\r\n    <TextField\r\n      // defaultValue={schema.default || 1}\r\n      disabled={disabled}\r\n      type=\"number\"\r\n      defaultValue={value}\r\n      onChange={(e)=> handleInputChange(e)}\r\n      onBlur={handleTextBlur}\r\n      // onBlur={(e, b) => onChange(model_id, parseInt(e.target.value))}\r\n      helperText={!hideDesc && schema.description}\r\n      style={style}\r\n    />\r\n  );\r\n};\r\n\r\nBladeSlider.propTypes = {\r\n  variant: PropTypes.string,\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n  model_id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BladeSlider;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Fab,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Select,\r\n  DialogActions,\r\n  Button,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  ListSubheader,\r\n} from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport BladeBoolean from './BladeBoolean';\r\nimport BladeSelect from './BladeSelect';\r\nimport BladeSlider from './BladeSlider';\r\nimport BladeFrame from './BladeFrame';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  bladeSchemaForm: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n  },\r\n  FormListHeaders: {\r\n    background: theme.palette.secondary.main,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nconst BladeSchemaFormNew = (props) => {\r\n  const {\r\n    schema,\r\n    model,\r\n    colorMode = 'picker',\r\n    boolMode = 'switch',\r\n    boolVariant = 'outlined',\r\n    selectVariant = 'outlined',\r\n    sliderVariant = 'outlined',\r\n    onModelChange = (e) => e,\r\n  } = props;\r\n\r\n\r\n\r\n  // console.log(schema)\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [_boolMode, _setBoolMode] = useState(boolMode);\r\n  const [_boolVariant, _setBoolVariant] = useState(boolVariant);\r\n  const [_selectVariant, _setSelectVariant] = useState(selectVariant);\r\n  const [_sliderVariant, _setSliderVariant] = useState(sliderVariant);\r\n  const [_colorMode, _setColorMode] = useState(colorMode);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.bladeSchemaForm}>\r\n      {parseInt(window.localStorage.getItem('BladeMod')) > 10 && (\r\n        <Fab\r\n          onClick={handleClickOpen}\r\n          variant=\"circular\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ position: 'absolute', right: '1rem', top: '1rem' }}\r\n        >\r\n          <SettingsIcon />\r\n        </Fab>\r\n      )}\r\n\r\n      {schema && schema.properties && Object.keys(schema.properties).map((s, i) => {\r\n        let permitted = true\r\n        if (schema.permitted_keys && schema.permitted_keys.indexOf(s) === -1) {\r\n          permitted = false\r\n        }\r\n\r\n        switch (schema.properties[s].type) {\r\n          case 'boolean':\r\n            return (\r\n              <BladeBoolean\r\n                type={_boolMode}\r\n                variant={_boolVariant}\r\n                key={i}\r\n                index={i}\r\n                model={model}\r\n                model_id={s}\r\n                required={schema.required && schema.required.indexOf(s) !== -1}\r\n                style={{ margin: '0.5rem 0', flexBasis: '48%' }}\r\n                schema={schema.properties[s]}\r\n                onClick={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return onModelChange(c);\r\n                }}\r\n              />\r\n            );\r\n          case 'string':\r\n            const group = {}\r\n            let audio_groups = []\r\n            if (schema?.properties?.audio_device?.enum) {\r\n              for (const [key, value] of Object.entries(schema.properties.audio_device?.enum)) {\r\n                // console.log(`${key}: ${value.split(':')[0]}`);\r\n                if (!group[value.split(':')[0]]) {\r\n                  group[value.split(':')[0]] = {}\r\n                }\r\n                group[value.split(':')[0]][key] = value.split(':')[1]\r\n              }\r\n              function onlyUnique(value, index, self) {\r\n                return self.indexOf(value) === index;\r\n              }\r\n              audio_groups = (Object.values(schema.properties.audio_device?.enum).map(d => d.split(':')[0]).filter(onlyUnique))\r\n            }\r\n            // console.log(group, audio_groups)\r\n            return audio_groups?.length\r\n              ? <div key={i}>\r\n                <BladeFrame title={\"Audio Device\"} full={true}>\r\n                  <Select\r\n                    value={model && model[\"audio_device\"] || 0}\r\n                    // onChange={(e) => console.log(e.target.value)}\r\n                    onChange={(e) => {\r\n                      const c = {};\r\n                      c[\"audio_device\"] = parseInt(e.target.value);\r\n                      return onModelChange(c);\r\n                    }}\r\n                    id=\"grouped-select\"\r\n                    className={classes.FormSelect}\r\n                  >\r\n                    {audio_groups?.map((c, ind) =>\r\n                      [\r\n                        <ListSubheader\r\n                          className={classes.FormListHeaders}\r\n                          color=\"primary\"\r\n                          key={ind}\r\n                        >\r\n                          {c}\r\n                        </ListSubheader>\r\n                        ,\r\n\r\n\r\n                        Object.keys(group[c]).map((e) =>\r\n                          <MenuItem className={classes.FormListItem} value={e}>\r\n                            {group[c][e]}\r\n                          </MenuItem>\r\n                        ),\r\n                      ],\r\n                    )}\r\n                  </Select>\r\n                </BladeFrame>\r\n                <BladeSelect\r\n                  model={model}\r\n                  disabled={!permitted}\r\n                  style={{ margin: '0.5rem 0', width: '48%' }}\r\n                  variant={_selectVariant}\r\n                  schema={schema.properties[s]}\r\n                  required={schema.required && schema.required.indexOf(s) !== -1}\r\n                  model_id={s}\r\n                  key={i}\r\n                  index={i}\r\n                  onChange={(model_id, value) => {\r\n                    const c = {};\r\n                    c[model_id] = value;\r\n                    return onModelChange(c);\r\n                  }}\r\n                />\r\n              </div>\r\n              : <BladeSelect\r\n                model={model}\r\n                disabled={!permitted}\r\n                style={{ margin: '0.5rem 0', width: '48%' }}\r\n                variant={_selectVariant}\r\n                schema={schema.properties[s]}\r\n                required={schema.required && schema.required.indexOf(s) !== -1}\r\n                model_id={s}\r\n                key={i}\r\n                index={i}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return onModelChange(c);\r\n                }}\r\n              />\r\n\r\n          case 'number':\r\n            return (\r\n              <BladeSlider\r\n                variant={_sliderVariant}\r\n                disabled={!permitted}\r\n                key={i}\r\n                model_id={s}\r\n                model={model}\r\n                required={schema.required && schema.required.indexOf(s) !== -1}\r\n                schema={schema.properties[s]}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return onModelChange(c);\r\n                }}\r\n              />\r\n            );\r\n\r\n          case 'integer':\r\n            return <BladeSlider\r\n              variant={_sliderVariant}\r\n              disabled={!permitted}\r\n              step={1}\r\n              key={i}\r\n              model_id={s}\r\n              model={model}\r\n              required={schema.required && schema.required.indexOf(s) !== -1}\r\n              schema={schema.properties[s]}\r\n              textfield={true}\r\n              style={{ margin: '0.5rem 0', width: '48%' }}\r\n              onChange={(model_id, value) => {\r\n                const c = {};\r\n                c[model_id] = value;\r\n                return onModelChange(c);\r\n              }}\r\n            />\r\n          case 'int':\r\n            return schema.properties[s]?.enum?.length > 10 ? <BladeSlider\r\n              variant={_sliderVariant}\r\n              disabled={!permitted}\r\n              marks={schema.properties[s]?.enum}\r\n              step={null}\r\n              key={i}\r\n              model_id={s}\r\n              model={model}\r\n              required={schema.required && schema.required.indexOf(s) !== -1}\r\n              schema={schema.properties[s]}\r\n              textfield={false}\r\n              style={{ margin: '0.5rem 0', width: '48%' }}\r\n              onChange={(model_id, value) => {\r\n                const c = {};\r\n                c[model_id] = value;\r\n                return onModelChange(c);\r\n              }}\r\n            /> : <BladeSlider\r\n              variant={_sliderVariant}\r\n              disabled={!permitted}\r\n              marks={schema.properties[s]?.enum}\r\n              step={null}\r\n              key={i}\r\n              model_id={s}\r\n              model={model}\r\n              required={schema.required && schema.required.indexOf(s) !== -1}\r\n              schema={schema.properties[s]}\r\n              textfield={false}\r\n              style={{ margin: '0.5rem 0', width: '48%' }}\r\n              onChange={(model_id, value) => {\r\n                const c = {};\r\n                c[model_id] = value;\r\n                return onModelChange(c);\r\n              }}\r\n            />\r\n          default:\r\n            return (\r\n              <>\r\n                Unsupported type:\r\n                {schema.properties[s].type}\r\n              </>\r\n            );\r\n        }\r\n      })}\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          Blade's SchemaForm Settings\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Customize the appearance of dynamically generated forms\r\n          </DialogContentText>\r\n          <FormControl>\r\n            <InputLabel id=\"ColorVariantLabel\">Color Mode</InputLabel>\r\n            <Select\r\n              labelId=\"ColorVariantLabel\"\r\n              id=\"ColorVariant\"\r\n              value={_colorMode}\r\n              onChange={(e) => _setColorMode(e.target.value)}\r\n            >\r\n              <MenuItem value=\"picker\">Picker</MenuItem>\r\n              <MenuItem value=\"select\">Select</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"BoolModeLabel\">Bool Mode</InputLabel>\r\n            <Select\r\n              labelId=\"BoolModeLabel\"\r\n              id=\"BoolMode\"\r\n              value={_boolMode}\r\n              onChange={(e) => _setBoolMode(e.target.value)}\r\n            >\r\n              <MenuItem value=\"switch\">Switch</MenuItem>\r\n              <MenuItem value=\"checkbox\">Checkbox</MenuItem>\r\n              <MenuItem value=\"button\">Button</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"BoolVariantLabel\">Bool Variant</InputLabel>\r\n            <Select\r\n              labelId=\"BoolVariantLabel\"\r\n              id=\"BoolVariant\"\r\n              value={_boolVariant}\r\n              onChange={(e) => _setBoolVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"SelectVariantLabel\">Select Variant</InputLabel>\r\n            <Select\r\n              labelId=\"SelectVariantLabel\"\r\n              id=\"SelectVariant\"\r\n              value={_selectVariant}\r\n              onChange={(e) => _setSelectVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n              <MenuItem value=\"contained\">Contained</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"SliderVariantLabel\">Slider Variant</InputLabel>\r\n            <Select\r\n              labelId=\"SliderVariantLabel\"\r\n              id=\"SliderVariant\"\r\n              value={_sliderVariant}\r\n              onChange={(e) => _setSliderVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n\r\n          <DialogActions>\r\n            <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nBladeSchemaFormNew.propTypes = {\r\n  colorMode: PropTypes.oneOf(['picker', 'select']),\r\n  boolMode: PropTypes.oneOf(['switch', 'checkbox', 'button']),\r\n  boolVariant: PropTypes.oneOf(['outlined', 'contained', 'text']),\r\n  selectVariant: PropTypes.string, // outlined | any\r\n  sliderVariant: PropTypes.string, // outlined | any\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default BladeSchemaFormNew;\r\n","import { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Select, MenuItem, Button, Divider } from \"@material-ui/core\";\r\nimport useStore from \"../../utils/apiStore\";\r\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    minWidth: \"200px\",\r\n    padding: \"16px 1.2rem 6px 1.2rem\",\r\n    border: \"1px solid #999\",\r\n    borderRadius: \"10px\",\r\n    position: \"relative\",\r\n    margin: \"1rem 0\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"@media (max-width: 580px)\": {\r\n      width: \"100%\",\r\n      margin: \"0.5rem 0\",\r\n    },\r\n    \"& > label\": {\r\n      top: \"-0.7rem\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      left: \"1rem\",\r\n      padding: \"0 0.3rem\",\r\n      position: \"absolute\",\r\n      fontVariant: \"all-small-caps\",\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: \"border-box\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst AddDeviceDialog = () => {\r\n  const classes = useStyles();\r\n\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const addDevice = useStore((state) => state.addDevice);\r\n  const updateDevice = useStore((state) => state.updateDevice);\r\n  const devices = useStore((state) => state.devices);\r\n  const open = useStore((state) => state.dialogs.addDevice?.open || false);\r\n  const deviceId = useStore((state) => state.dialogs.addDevice?.edit || false);\r\n  const initial = devices[deviceId] || { type: \"\", config: {} };\r\n\r\n  const setDialogOpenAddDevice = useStore(\r\n    (state) => state.setDialogOpenAddDevice\r\n  );\r\n\r\n  const deviceTypes = useStore((state) => state.schemas?.devices);\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const [deviceType, setDeviceType] = useState(\"\");\r\n  const [model, setModel] = useState({});\r\n\r\n  const currentSchema = deviceType ? deviceTypes[deviceType].schema : {};\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddDevice(false);\r\n  };\r\n  const handleAddDevice = (e) => {\r\n    const cleanedModel = Object.fromEntries(\r\n      Object.entries(model).filter(([_, v]) => v !== \"\")\r\n    );\r\n    const defaultModel = {};\r\n\r\n    for (const key in currentSchema.properties) {\r\n      currentSchema.properties[key].default !== undefined\r\n        ? (defaultModel[key] = currentSchema.properties[key].default)\r\n        : undefined;\r\n    }\r\n\r\n    const valid = currentSchema.required.every((val) =>\r\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\r\n    );\r\n\r\n    if (!valid) {\r\n      showSnackbar({\r\n        message: \"Please fill in all required fields.\",\r\n        messageType: \"warning\",\r\n      });\r\n    } else {\r\n      if (\r\n        initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n      ) {\r\n        // console.log(\"ADDING\");\r\n        addDevice({\r\n          type: deviceType,\r\n          config: { ...defaultModel, ...cleanedModel },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddDevice(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      } else {\r\n        // console.log(\"EDITING\");\r\n        updateDevice(deviceId, {\r\n          type: deviceType,\r\n          config: { ...model },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddDevice(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const handleTypeChange = (value, initial = {}) => {\r\n    setDeviceType(value);\r\n    setModel(initial);\r\n  };\r\n  const handleModelChange = (config) => {\r\n    setModel({ ...model, ...config });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleTypeChange(initial.type, initial.config);\r\n  }, [initial.type]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n          ? `Add ${deviceType.toUpperCase()} Device`\r\n          : `${deviceType.toUpperCase()} Config`}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          To add a device to LedFx, please first select the type of device you\r\n          wish to add then provide the necessary configuration.\r\n        </DialogContentText>\r\n        <div className={classes.wrapper}>\r\n          <label>Device Type</label>\r\n          <Select\r\n            label=\"Type\"\r\n            style={{ flexGrow: 1 }}\r\n            disableUnderline\r\n            value={deviceType}\r\n            onChange={(e) => handleTypeChange(e.target.value)}\r\n          >\r\n            {deviceTypes &&\r\n              Object.keys(deviceTypes).map((item, i) => (\r\n                <MenuItem key={i} value={item}>\r\n                  {item}\r\n                </MenuItem>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n        <Divider style={{ marginBottom: \"1rem\" }} />\r\n        {model && (\r\n          <BladeSchemaForm\r\n            schema={currentSchema}\r\n            model={model}\r\n            onModelChange={handleModelChange}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleAddDevice} color=\"primary\">\r\n          {initial.config &&\r\n          Object.keys(initial.config).length === 0 &&\r\n          initial.config.constructor === Object\r\n            ? \"Add\"\r\n            : \"Save\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddDeviceDialog;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button } from \"@material-ui/core\";\r\nimport useStore from \"../../utils/apiStore\";\r\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\r\n\r\nconst AddVirtualDialog = () => {\r\n  const addVirtual = useStore((state) => state.addVirtual);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n\r\n  const open = useStore((state) => state.dialogs.addVirtual?.open || false);\r\n  const virtId = useStore(\r\n    (state) => state.dialogs.addVirtual?.edit || false\r\n  );\r\n  const initial = virtuals[virtId] || { type: \"\", config: {} };\r\n\r\n  const setDialogOpenAddVirtual = useStore(\r\n    (state) => state.setDialogOpenAddVirtual\r\n  );\r\n\r\n  const virtualsSchemas = useStore((state) => state.schemas?.virtuals);\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const [model, setModel] = useState({});\r\n\r\n  const currentSchema = (virtualsSchemas && virtualsSchemas.schema) || {};\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddVirtual(false);\r\n    setModel({});\r\n  };\r\n  const handleAddVirtual = (e) => {\r\n    const cleanedModel = Object.fromEntries(\r\n      Object.entries(model).filter(([_, v]) => v !== \"\")\r\n    );\r\n    const defaultModel = {};\r\n\r\n    for (const key in currentSchema.properties) {\r\n      currentSchema.properties[key].default !== undefined\r\n        ? (defaultModel[key] = currentSchema.properties[key].default)\r\n        : undefined;\r\n    }\r\n\r\n    const valid = currentSchema.required.every((val) =>\r\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\r\n    );\r\n\r\n    if (!valid) {\r\n      showSnackbar({\r\n        message: \"Please fill in all required fields.\",\r\n        messageType: \"warning\",\r\n      });\r\n    } else {\r\n      if (\r\n        initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n      ) {\r\n        console.log(\"ADDING\");\r\n        addVirtual({\r\n          config: { ...defaultModel, ...cleanedModel },\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddVirtual(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      } else {\r\n        console.log(\"EDITING\");\r\n        addVirtual({\r\n          id: virtId,\r\n          config: { ...model },\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddVirtual(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleModelChange = (config) => {\r\n    setModel({ ...model, ...config });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleModelChange(initial.config);\r\n  }, [virtId]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n          ? \"Add Virtual Device\"\r\n          : \"Settings\"}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          With Virtuals, you can split devices into segments and merge several\r\n          segments over several devices into one Virtual-Device.\r\n        </DialogContentText>\r\n\r\n        <BladeSchemaForm\r\n          schema={currentSchema}\r\n          model={model}\r\n          onModelChange={handleModelChange}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleAddVirtual} color=\"primary\">\r\n          {initial.config &&\r\n          Object.keys(initial.config).length === 0 &&\r\n          initial.config.constructor === Object\r\n            ? \"Add\"\r\n            : \"Save\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddVirtualDialog;\r\n","import { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button, MenuItem, Select, DialogTitle, DialogContentText, DialogContent, DialogActions, Dialog, Divider } from \"@material-ui/core\";\r\nimport useStore from \"../../utils/apiStore\";\r\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    minWidth: \"200px\",\r\n    padding: \"16px 1.2rem 6px 1.2rem\",\r\n    border: \"1px solid #999\",\r\n    borderRadius: \"10px\",\r\n    position: \"relative\",\r\n    margin: \"1rem 0\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"@media (max-width: 580px)\": {\r\n      width: \"100%\",\r\n      margin: \"0.5rem 0\",\r\n    },\r\n    \"& > label\": {\r\n      top: \"-0.7rem\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      left: \"1rem\",\r\n      padding: \"0 0.3rem\",\r\n      position: \"absolute\",\r\n      fontVariant: \"all-small-caps\",\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: \"border-box\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst AddIntegrationDialog = () => {\r\n  const classes = useStyles();\r\n\r\n  const getIntegrations = useStore((state) => state.getIntegrations);\r\n\r\n  const addIntegration = useStore((state) => state.addIntegration);\r\n  const updateIntegration = useStore((state) => state.updateIntegration);\r\n  const integrations = useStore((state) => state.integrations);\r\n  \r\n  const open = useStore((state) => state.dialogs.addIntegration?.open || false);\r\n  \r\n  const integrationId = useStore((state) => state.dialogs.addIntegration?.edit || false);\r\n  const initial = integrations[integrationId] || { type: \"\", config: {} };\r\n\r\n  const setDialogOpenAddIntegration = useStore(\r\n    (state) => state.setDialogOpenAddIntegration\r\n  );\r\n\r\n  const integrationsTypes = useStore((state) => state.schemas?.integrations);\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const [integrationType, setIntegrationType] = useState(\"\");\r\n  const [model, setModel] = useState({});\r\n\r\n  const currentSchema = integrationType ? integrationsTypes[integrationType].schema : {};\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddIntegration(false);\r\n  };\r\n  const handleAddDevice = (e) => {\r\n    const cleanedModel = Object.fromEntries(\r\n      Object.entries(model).filter(([_, v]) => v !== \"\")\r\n    );\r\n    const defaultModel = {};\r\n\r\n    for (const key in currentSchema.properties) {\r\n      currentSchema.properties[key].default !== undefined\r\n        ? (defaultModel[key] = currentSchema.properties[key].default)\r\n        : undefined;\r\n    }\r\n\r\n    const valid = currentSchema.required.every((val) =>\r\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\r\n    );\r\n\r\n    if (!valid) {\r\n      showSnackbar({\r\n        message: \"Please fill in all required fields.\",\r\n        messageType: \"warning\",\r\n      });\r\n    } else {\r\n      if (\r\n        initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n      ) {\r\n        // console.log(\"ADDING\");\r\n        addIntegration({\r\n          type: integrationType,\r\n          config: { ...defaultModel, ...cleanedModel },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddIntegration(false);\r\n            getIntegrations();\r\n          } else {\r\n          }\r\n        });\r\n      } else {\r\n        // console.log(\"EDITING\");\r\n        updateIntegration({\r\n          id: integrationId,\r\n          type: integrationType,\r\n          config: { ...model },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddIntegration(false);\r\n            getIntegrations();\r\n          } else {\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const handleTypeChange = (value, initial = {}) => {\r\n    setIntegrationType(value);\r\n    setModel(initial);\r\n  };\r\n  const handleModelChange = (config) => {\r\n    setModel({ ...model, ...config });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleTypeChange(initial.type, initial.config);\r\n  }, [initial.type]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n          ? \"Add\"\r\n          : \"Edit\"}{\" \"}\r\n        {integrationType.toUpperCase()} Integration\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          To add an interation to LedFx, please first select the type of integration you\r\n          wish to add then provide the necessary configuration.\r\n        </DialogContentText>\r\n        <div className={classes.wrapper}>\r\n          <label>Integration Type</label>\r\n          <Select\r\n            label=\"Type\"\r\n            style={{ flexGrow: 1 }}\r\n            disableUnderline\r\n            value={integrationType}\r\n            onChange={(e) => handleTypeChange(e.target.value)}\r\n          >\r\n            {integrationsTypes &&\r\n              Object.keys(integrationsTypes).map((item, i) => (\r\n                <MenuItem key={i} value={item} disabled={item !== \"mqtt_hass\"}>\r\n                  {item}\r\n                </MenuItem>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n        <Divider style={{ marginBottom: \"1rem\" }} />\r\n        {model && (\r\n          <BladeSchemaForm\r\n            schema={currentSchema}\r\n            model={model}\r\n            onModelChange={handleModelChange}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleAddDevice} color=\"primary\">\r\n          {initial.config &&\r\n          Object.keys(initial.config).length === 0 &&\r\n          initial.config.constructor === Object\r\n            ? \"Add\"\r\n            : \"Save\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddIntegrationDialog;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Language } from '@material-ui/icons';\r\n\r\nexport default function ChangeSpotifyURLDialog({ style, spotifyURL, setSpotifyURL }) {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [url, setUrl] = React.useState(spotifyURL);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = (e) => {\r\n        setOpen(false);\r\n    };\r\n    const handleSave = (e) => {\r\n        console.log(url)\r\n        setSpotifyURL(url)\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <IconButton onClick={handleClickOpen} style={style}>\r\n                <Language />\r\n            </IconButton>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">Spotify URL</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Right-click a Playlist/Track/... in spotify and select share,\r\n                        copy link and paste it here\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"url\"\r\n                        label=\"URL\"\r\n                        type=\"text\"\r\n                        value={url}\r\n                        onChange={(e) => setUrl(e.target.value)}\r\n                        fullWidth\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleSave} color=\"primary\">\r\n                        Change\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import useStore from '../../../utils/apiStore';\r\nimport { Fab, IconButton } from '@material-ui/core';\r\nimport { QueueMusic } from '@material-ui/icons';\r\nimport ChangeSpotifyURLDialog from './ChangeSpotifyURLDialog';\r\nimport BladeIcon from '../../Icons/BladeIcon';\r\n\r\nconst SpotifyWidget = ({\r\n  spotifyEnabled,\r\n  setSpotifyEnabled,\r\n  spotifyExpanded,\r\n  setSpotifyExpanded\r\n}) => {\r\n\r\n  const spotifyURL = useStore((state) => state.spotifyEmbedUrl);\r\n  const setSpotifyURL = useStore((state) => state.setSpotifyEmbedUrl);\r\n\r\n  return (\r\n    <>\r\n      <Fab size=\"small\" color=\"secondary\" onClick={() => setSpotifyEnabled(!spotifyEnabled)} style={{ position: 'fixed', bottom: spotifyEnabled ? spotifyExpanded ? 363 : 143 : 65, right: 10, zIndex: 2 }} >\r\n        <BladeIcon name=\"mdi:spotify\" style={{\r\n          marginLeft: '50%',\r\n          marginTop: '50%',\r\n          transform: 'translate(-43%, -43%)'\r\n        }} />\r\n      </Fab>\r\n      {spotifyEnabled && <>\r\n        <div style={{ position: 'fixed', display: 'flex', bottom: spotifyExpanded ? 258 : 38, right: 36, zIndex: 2 }}>\r\n          <ChangeSpotifyURLDialog spotifyURL={spotifyURL} setSpotifyURL={setSpotifyURL} />\r\n          <IconButton onClick={() => setSpotifyExpanded(!spotifyExpanded)} >\r\n            <QueueMusic />\r\n          </IconButton>\r\n        </div>\r\n        <iframe src={`${spotifyURL.split('?')[0].replace('.com/embed/', '.com/').replace('.com/', '.com/embed/')}?theme=0`} width=\"100%\" height={spotifyEnabled ? spotifyExpanded ? 300 : 80 : 0} style={{ position: 'fixed', bottom: 0, left: 0 }} frameBorder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\r\n      </>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SpotifyWidget\r\n","import React from 'react';\r\nimport useStore from '../utils/apiStore';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Fab, Icon, Menu, MenuItem, ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport { Add, Send, Wallpaper, SettingsInputComponent, SettingsInputSvideo } from '@material-ui/icons';\r\n\r\nconst MenuLine = React.forwardRef(({\r\n    icon = <Send fontSize=\"small\" />,\r\n    name = 'MenuItem',\r\n    action\r\n}, ref) => <MenuItem onClick={action} ref={ref}>\r\n        <ListItemIcon>\r\n            {icon}\r\n        </ListItemIcon>\r\n        <ListItemText primary={name} />\r\n    </MenuItem>)\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid rgba(255, 255, 255, 0.12)',\r\n        transform: 'translateY(-1rem) !important'\r\n    },\r\n})((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst AddButton = ({ className, style, setBackdrop }) => {\r\n    const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\r\n    const setDialogOpenAddDevice = useStore((state) => state.setDialogOpenAddDevice);\r\n    const setDialogOpenAddVirtual = useStore((state) => state.setDialogOpenAddVirtual);\r\n    const setDialogOpenAddIntegration = useStore((state) => state.setDialogOpenAddIntegration);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n        setBackdrop(true)\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n        setBackdrop(false)\r\n    };\r\n\r\n    const menuitems = [\r\n        { icon: <SettingsInputComponent />, name: 'Add Device', action: () => { setDialogOpenAddDevice(true); handleClose(); } },\r\n        { icon: <Icon><span className={'mdi mdi-led-strip-variant'} style={{ position: 'relative', display: 'flex' }} /></Icon>, name: 'Add Virtual', action: () => { setDialogOpenAddVirtual(true); handleClose(); } },\r\n        { icon: <Wallpaper />, name: 'Add Scene', action: () => { setDialogOpenAddScene(true); handleClose(); } },\r\n    ];\r\n\r\n    if (parseInt(window.localStorage.getItem('BladeMod')) > 10) {\r\n        menuitems.push({ icon: <SettingsInputSvideo />, name: 'Add Integration', action: () => { setDialogOpenAddIntegration(true); handleClose(); } })\r\n    }\r\n\r\n    return (\r\n        <div className={className} style={{zIndex: 5, ...style}}>\r\n            <Fab color=\"primary\" aria-label=\"add\" onClick={handleClick}>\r\n                <Add />\r\n            </Fab>\r\n            <StyledMenu\r\n                id=\"customized-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {menuitems.map((menuitem) => (\r\n                    <MenuLine\r\n                        key={menuitem.name}\r\n                        name={menuitem.name}\r\n                        icon={menuitem.icon}\r\n                        action={menuitem.action}\r\n                    />\r\n                ))}\r\n            </StyledMenu>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddButton","import { makeStyles } from '@material-ui/core/styles';\r\nimport { drawerWidth } from '../../utils/helpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'fixed',\r\n    bottom: 0,\r\n    zIndex: 4,\r\n    background: theme.palette.background.light,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  rootShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  addButton: {\r\n    position: 'fixed',\r\n    marginLeft: 0,\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',    \r\n    transition: theme.transitions.create(['margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\r\n      bottom: theme.spacing(2) + 25,\r\n    },\r\n    '& > button.MuiFab-primary': {\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    '& .MuiSpeedDialAction-staticTooltipLabel': {\r\n      backgroundColor: 'transparent',\r\n      marginLeft: '-1rem'\r\n    },\r\n  },\r\n  addButtonShift: {\r\n    marginLeft: drawerWidth / 2,\r\n    transition: theme.transitions.create(['margin'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n}));\r\nexport default useStyles;","import { useState, useEffect } from 'react';\r\nimport { BottomNavigation, BottomNavigationAction, Backdrop } from '@material-ui/core';\r\nimport { Settings, Home, Wallpaper, SettingsInputSvideo, SettingsInputComponent } from '@material-ui/icons';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport useStore from '../../utils/apiStore';\r\nimport clsx from 'clsx';\r\nimport AddSceneDialog from '../Dialogs/AddSceneDialog';\r\nimport AddDeviceDialog from '../Dialogs/AddDeviceDialog';\r\nimport AddVirtualDialog from '../Dialogs/AddVirtualDialog';\r\nimport AddIntegrationDialog from '../Dialogs/AddIntegrationDialog';\r\nimport SpotifyWidget from '../Integrations/Spotify/SpotifyWidget';\r\nimport AddButton from '../AddButton';\r\nimport useStyles from './BarBottom.styles';\r\n\r\nexport default function LabelBottomNavigation() {\r\n  const classes = useStyles();\r\n  const { pathname } = useLocation();\r\n  const [value, setValue] = useState(pathname);\r\n  const [backdrop, setBackdrop] = useState(false);\r\n  const leftOpen = useStore((state) => state.ui.bars && state.ui.bars?.leftBar.open);\r\n\r\n  const [spotifyEnabled, setSpotifyEnabled] = useState(false)\r\n  const [spotifyExpanded, setSpotifyExpanded] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setValue(pathname);\r\n  }, [pathname]);\r\n\r\n  return (<>\r\n    <BottomNavigation\r\n      value={value}\r\n      className={clsx(classes.root, {\r\n        [classes.rootShift]: leftOpen,\r\n      })}\r\n      showLabels={true}\r\n      style={{ bottom: spotifyEnabled ? spotifyExpanded ? 300 : 80 : 0 }}\r\n    >\r\n      <BottomNavigationAction\r\n        component={Link}\r\n        className={'step-one'}\r\n        label=\"Home\"\r\n        value=\"/\"\r\n        to=\"/\"\r\n        icon={<Home />}\r\n      />\r\n      <BottomNavigationAction\r\n        label=\"Devices\"\r\n        value=\"/Devices\"\r\n        component={Link}\r\n        to=\"/Devices\"\r\n        icon={<SettingsInputComponent />}\r\n      />\r\n      <BottomNavigationAction\r\n        component={Link}\r\n        to=\"/Scenes\"\r\n        label=\"Scenes\"\r\n        value=\"/Scenes\"\r\n        icon={<Wallpaper />}\r\n      />\r\n      {parseInt(window.localStorage.getItem('BladeMod')) > 10\r\n        ? (<BottomNavigationAction\r\n          label=\"Integrations\"\r\n          value=\"/Integrations\"\r\n          component={Link}\r\n          to={\"/Integrations\"}\r\n          icon={<SettingsInputSvideo />}\r\n        />)\r\n        : (<BottomNavigationAction\r\n          label=\"Settings\"\r\n          value=\"/Settings\"\r\n          icon={<Settings />}\r\n          component={Link}\r\n          to=\"/Settings\"\r\n        />)}\r\n    </BottomNavigation>\r\n    {parseInt(window.localStorage.getItem('BladeMod')) > 10 && (\r\n      <SpotifyWidget\r\n        spotifyEnabled={spotifyEnabled}\r\n        setSpotifyEnabled={setSpotifyEnabled}\r\n        spotifyExpanded={spotifyExpanded}\r\n        setSpotifyExpanded={setSpotifyExpanded}\r\n      />\r\n    )}\r\n    <AddSceneDialog />\r\n    <AddDeviceDialog />\r\n    <AddVirtualDialog />\r\n    <AddIntegrationDialog />\r\n    <AddButton\r\n      setBackdrop={setBackdrop}\r\n      className={`${clsx(classes.addButton, {\r\n        [classes.addButtonShift]: leftOpen,\r\n      })} step-four`}\r\n      style={{ bottom: spotifyEnabled ? spotifyExpanded ? 330 : 110 : 30 }}\r\n    />\r\n    <Backdrop style={{ zIndex: 1, backgroundColor: 'rgba(0, 0, 0, 0.8)' }} open={backdrop} />\r\n  </>\r\n  );\r\n}\r\n","import Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Icon } from '@material-ui/core';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst Alert = (props) => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n\r\nconst MessageBar = () => {\r\n  const { isOpen, messageType, message } = useStore((state) => state.ui.snackbar);\r\n  const clearSnackbar = useStore((state) => state.clearSnackbar);\r\n\r\n  function handleClose() {\r\n    clearSnackbar();\r\n  }\r\n\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      open={isOpen}\r\n      autoHideDuration={2000 + (message || 0).length * 60}\r\n      onClose={handleClose}\r\n      aria-describedby=\"client-snackbar\"\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={handleClose}\r\n        >\r\n          <Icon>close</Icon>\r\n        </IconButton>,\r\n      ]}\r\n    >\r\n      <Alert severity={messageType}>{message}</Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nexport default MessageBar;\r\n","import { useState, useEffect } from 'react';\r\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\r\nimport { Delete } from '@material-ui/icons';\r\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst filter = createFilterOptions();\r\n\r\nexport default function NoHostDialog() {\r\n  const dialogOpen = useStore((state) => state.dialogs.nohost?.open || false);\r\n  const edit = useStore((state) => state.dialogs.nohost?.edit || false);\r\n  const setDialogOpen = useStore((state) => state.setDialogOpen);\r\n  const setHost = useStore((state) => state.setHost);\r\n  const storedURL = window.localStorage.getItem('ledfx-host');\r\n  const storedURLs = JSON.parse(window.localStorage.getItem('ledfx-hosts')) || [{ title: 'http://localhost:8888' }];\r\n  const [hosts, setHosts] = useState([{ title: 'http://localhost:8888' }]);\r\n  const [hostvalue, setHostvalue] = useState({ title: 'http://localhost:8888' });\r\n\r\n  const handleClose = () => {\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    \r\n    if (typeof hostvalue !== 'string') {\r\n      setHost(hostvalue.title);\r\n      if (!hosts.some(h=> h.title === hostvalue.title)) {        \r\n        window.localStorage.setItem('ledfx-hosts', JSON.stringify([...hosts, hostvalue]))\r\n      } else {\r\n        window.localStorage.setItem('ledfx-hosts', JSON.stringify([...hosts]))\r\n      }\r\n    } else {      \r\n      setHost(hostvalue);\r\n    }\r\n    setDialogOpen(false);\r\n    window.location = window.location.href;\r\n  };\r\n\r\n  const handleDelete = (e, title) => {\r\n    e.stopPropagation();\r\n    window.localStorage.setItem('ledfx-hosts', JSON.stringify(hosts.filter(h => h.title !== title)))\r\n    setHosts(hosts.filter(h => h.title !== title))\r\n  }\r\n\r\n  useEffect(() => {\r\n    storedURL && setHostvalue(storedURL);\r\n    storedURLs && setHosts(storedURLs)\r\n  }, [storedURL, setHosts]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={dialogOpen}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {edit ? 'LedFx-Core Host' : 'No LedFx-Core found'}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {!edit && (\r\n          <DialogContentText>\r\n            You can change the host if you want:\r\n          </DialogContentText>\r\n        )}\r\n        <Autocomplete\r\n          value={hostvalue}\r\n          onChange={(event, newValue) => {\r\n            if (typeof newValue === 'string') {\r\n              setHostvalue({\r\n                title: newValue,\r\n              });\r\n            } else if (newValue && newValue.inputValue) {\r\n              setHostvalue({\r\n                title: newValue.inputValue,\r\n              });\r\n            } else {\r\n              setHostvalue(newValue);\r\n            }\r\n          }}\r\n          filterOptions={(options, params) => {\r\n            const filtered = filter(options, params);\r\n            if (params.inputValue !== '') {\r\n              filtered.push({\r\n                inputValue: params.inputValue,\r\n                title: `Add \"${params.inputValue}\"`,\r\n              });\r\n            }\r\n\r\n            return filtered;\r\n          }}\r\n          id=\"host\"\r\n          options={hosts}\r\n          getOptionLabel={(option) => {\r\n            if (typeof option === 'string') {\r\n              return option;\r\n            }\r\n            if (option.inputValue) {\r\n              return option.inputValue;\r\n            }\r\n            return option.title;\r\n          }}\r\n          renderOption={(option) => <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>{option.title}<Delete onClick={(e) => handleDelete(e, option.title)} /></div>}\r\n          style={{ width: 300 }}\r\n          renderInput={(params) => <TextField {...params} label=\"IP:Port\" variant=\"outlined\" />}\r\n          selectOnFocus\r\n          clearOnBlur\r\n          handleHomeEndKeys\r\n          freeSolo\r\n\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Set Host\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ring.1faea45b.png\";","import { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport Tour from 'reactour';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-zero',\n    content: (\n      <div>\n        <h2>LedFx Tour</h2>\n        Welcome to LedFx!\n        Feel free to follow this tour and we&apos;ll show you around \n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-one',\n    content: (\n      <div>\n        <h2>Navigation</h2>\n        Go to different pages from here\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-two',\n    content: (\n      <div>\n        <h2>Menu</h2>\n        LedFx actions and settings can be found up here\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li> You can access a tour for other pages in this menu</li>\n          <li>\n             &apos;Enable Graphs&apos; to see a preview of the device LEDs.\n            Leave it off if your browser struggles with too many pixels!\n          </li>\n        </ul>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-three',\n    content: (\n      <div>\n        <h2>Devices Quick-Access</h2>\n        Directly jump to a device\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-four',\n    content: (\n      <div>\n        <h2>The Big Red Button</h2>\n        This is where it all begins!\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>Add Device: Add a networked LED strip</li>\n          <li>Add Virtual: Divide or merge your devices into one virtual strip</li>\n          <li>Add Scene: Save the active effects of all devices</li>\n          <li>Add Integration: Connect LedFx to other software (upcoming...)</li>\n        </ul>\n        I&apos;d recommend you now close this tour and add your first devices to LedFx \n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourHome = () => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  return (\n    <>\n      <Button variant=\"outlined\" className=\"step-zero\" onClick={() => { \n        setTour(\"home\");\n        setIsTourOpen(true); \n        }}>\n        Start Tour\n      </Button>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourHome;\n","import './FX.css'\r\n\r\nconst FX = ({\r\n  stroke=\"#ffffff\", strokeWidth, strokeLinejoin, strokeLinecap, currentColor = 'transparent', style\r\n}) => <svg id=\"svg\"  onDoubleClick={()=>window.localStorage.getItem('BladeMod') === '10' ? window.localStorage.setItem('BladeMod', 11) : window.localStorage.setItem('BladeMod', 0)}  className={'fxSvg'} xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"400\" viewBox=\"-200, -200, 800,800\">\r\n    <g id=\"svgg\">\r\n    <path \r\n      id=\"path0\"\r\n      className={'fxPath'}\r\n      d=\"M12.218 90.039 C 12.544 90.576,19.991 100.596,28.767 112.305 L 44.725 133.594 121.877 133.594 L 199.030 133.594 223.686 166.476 L 248.342 199.357 207.374 253.970 C 184.842 284.007,166.406 308.936,166.406 309.369 C 166.406 309.885,177.801 310.156,199.516 310.156 L 232.626 310.156 257.134 277.377 C 270.612 259.348,281.816 244.597,282.031 244.597 C 282.246 244.597,293.450 259.348,306.929 277.377 L 331.436 310.156 364.983 310.156 C 391.615 310.156,398.408 309.955,397.938 309.180 C 397.612 308.643,378.979 283.712,356.531 253.778 L 315.717 199.353 357.080 144.208 L 398.443 89.063 364.651 89.095 L 330.859 89.127 306.648 121.517 C 293.332 139.331,282.254 153.906,282.031 153.906 C 281.808 153.906,270.731 139.331,257.414 121.517 L 233.203 89.127 122.415 89.095 C 33.983 89.069,11.746 89.260,12.218 90.039 M61.719 155.393 C 61.719 155.786,67.702 164.132,75.014 173.938 C 82.326 183.745,88.135 192.222,87.922 192.777 C 87.710 193.331,68.016 219.749,44.158 251.483 C 20.301 283.217,0.781 309.400,0.781 309.668 C 0.781 309.937,15.811 310.146,34.180 310.133 L 67.578 310.109 108.954 255.054 L 150.331 200.000 183.759 200.000 C 202.145 200.000,217.188 199.703,217.188 199.340 C 217.188 198.976,209.521 188.869,200.151 176.879 L 183.114 155.078 122.416 154.878 C 86.076 154.758,61.719 154.965,61.719 155.393 \" \r\n      stroke={stroke} \r\n      fill={currentColor}\r\n      fillRule=\"evenodd\">\r\n    </path>\r\n  </g></svg>\r\n\r\nexport default FX;\r\n","import { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardActions,\r\n  CircularProgress,\r\n  Badge,\r\n} from '@material-ui/core';\r\nimport logoCircle from '../assets/ring.png';\r\nimport TourHome from '../components/Tours/TourHome';\r\nimport useStore from '../utils/apiStore';\r\nimport FX from \"../components/Icons/FX\";\r\n\r\nconst sleep = ms => {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n};\r\n\r\nexport default function Home() {\r\n  const scanForDevices = useStore((state) => state.scanForDevices);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const [scanning, setScanning] = useState(false)\r\n  const invisible = useStore((state) => state.tours.home);\r\n\r\n  const handleScan = () => {\r\n    setScanning(true)\r\n    scanForDevices().then(async () => {\r\n      for (let sec = 1; sec <= 30; sec++) {\r\n        await sleep(1000).then(() => {\r\n          getDevices();\r\n          getVirtuals();\r\n          setScanning(sec)\r\n        });\r\n      }\r\n    }).then(() => {\r\n      setScanning(false)\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"Content\">\r\n        <div style={{ position: 'relative' }} >\r\n          <img src={logoCircle} className=\"App-logo\" alt=\"logo-circle\" />\r\n          <FX />\r\n        </div>\r\n      </div>\r\n      <Card\r\n        variant=\"outlined\"\r\n        style={{\r\n          maxWidth: '400px',\r\n          margin: '0.5rem auto 2rem auto',\r\n        }}\r\n      >\r\n        <CardHeader title=\"Welcome to LedFx\" />\r\n        <CardContent>\r\n          Complete Frontend Rewrite... from scratch\r\n          <ul>\r\n            <li>Modern React</li>\r\n            <li>Zustand as State-Management</li>\r\n            <li>Typescript supported</li>\r\n            <li>Mobile First</li>\r\n            <li>by Blade</li>\r\n          </ul>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\r\n            <TourHome className={'step-one'} />\r\n          </Badge>\r\n          <Button onClick={() => handleScan()} variant=\"outlined\">\r\n            {scanning ? <><CircularProgress\r\n              variant=\"determinate\"\r\n              value={(scanning / 30) * 100}\r\n              size={24}\r\n            />\r\n              <Box\r\n                top={0}\r\n                left={0}\r\n                bottom={0}\r\n                right={0}\r\n                position=\"absolute\"\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n              >\r\n                <Typography variant=\"caption\" style={{ fontSize: 10}} component=\"div\" color=\"textSecondary\">{`${Math.round(\r\n                  (scanning / 30) * 100,\r\n                )}%`}</Typography>\r\n              </Box>\r\n            </> : 'WLED-scan'}\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PopoverOriginal from '@material-ui/core/Popover';\r\nimport { Typography, Button, MenuItem, ListItemIcon, } from '@material-ui/core';\r\nimport { Delete, Close, Check } from '@material-ui/icons';\r\nimport { useLongPress } from 'use-long-press';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Popover({\r\n  onConfirm,\r\n  confirmDisabled,\r\n  confirmContent,\r\n  onSingleClick = () => {},\r\n  onDoubleClick,\r\n  openOnDoubleClick = false,\r\n  openOnLongPress = false,\r\n  variant = 'contained',\r\n  color = 'secondary',\r\n  label,\r\n  text = 'Are you sure?',\r\n  direction = 'left',\r\n  vertical = 'center',\r\n  size = 'small',\r\n  icon = <Delete />,\r\n  content,\r\n  footer,\r\n  className,\r\n  startIcon,\r\n  noIcon = false,\r\n  style = {},\r\n  disabled = false,\r\n  popoverStyle,\r\n  type,\r\n}) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const openPopover = (event) => {\r\n    setAnchorEl(event.currentTarget || event.target)\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null)\r\n  };\r\n  const longPress = useLongPress((e) => openPopover(e), {\r\n    onCancel: e => {\r\n      console.log('click')\r\n      onSingleClick && onSingleClick()\r\n    },\r\n    treshhold: 1000,\r\n    captureEvent: true,\r\n  });\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  return (\r\n    <div style={{ display: 'initial' }}>\r\n      {type === 'menuItem'\r\n        ? <MenuItem className={className} onClick={(e) => { e.preventDefault(); onSingleClick(e); openPopover(e)}}>\r\n          <ListItemIcon>\r\n            {icon}\r\n          </ListItemIcon>\r\n          {label}\r\n        </MenuItem>\r\n        : openOnLongPress\r\n        ? <Button\r\n          aria-describedby={id}\r\n          variant={variant}\r\n          color={color}\r\n          size={size}\r\n          className={className}\r\n          style={style}\r\n          startIcon={!noIcon && startIcon}\r\n          disabled={disabled}\r\n          {...longPress}\r\n        >\r\n          {label}\r\n          {!startIcon && !noIcon && icon}\r\n        </Button>\r\n        : <Button\r\n          aria-describedby={id}\r\n          variant={variant}\r\n          color={color}\r\n          onClick={(e) => {\r\n            e.preventDefault()\r\n            !openOnDoubleClick && openPopover(e)\r\n            onSingleClick && onSingleClick(e)\r\n          }}\r\n          size={size}\r\n          className={className}\r\n          style={style}\r\n          startIcon={!noIcon && startIcon}\r\n          disabled={disabled}\r\n          onDoubleClick={(e) => {\r\n            e.preventDefault()\r\n            openOnDoubleClick && openPopover(e)\r\n            onDoubleClick && onDoubleClick(e)\r\n          }}\r\n        >\r\n          {label}\r\n          {!startIcon && !noIcon && icon}\r\n        </Button>}\r\n      <PopoverOriginal\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: vertical,\r\n          horizontal: direction,\r\n        }}\r\n        transformOrigin={{\r\n          vertical: vertical,\r\n          horizontal: direction === 'center' ? 'center' : 'right',\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', ...popoverStyle }}>\r\n          {content ? content : <Typography className={classes.typography}>{text}</Typography>}\r\n          \r\n          <Button\r\n            disabled={confirmDisabled}\r\n            aria-describedby={id}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              onConfirm();\r\n              setAnchorEl(null);\r\n            }}\r\n          >\r\n            {confirmContent ? confirmContent : <Check />}\r\n            \r\n          </Button>\r\n          <Button\r\n            aria-describedby={id}\r\n            variant=\"outlined\"\r\n            color=\"default\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              setAnchorEl(null);\r\n            }}\r\n          >\r\n            <Close />\r\n          </Button>\r\n        </div>\r\n        {footer}\r\n      </PopoverOriginal>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, DialogTitle, DialogContent, DialogActions, Dialog, RadioGroup, Radio, FormControlLabel, MenuItem, Select } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeFrame from '../SchemaForm/BladeFrame';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);  \r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n    };\r\n\r\n    const handleChange = event => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\r\n            <DialogContent dividers>\r\n                <BladeFrame full={true}>\r\n                    <Select\r\n                        disableUnderline\r\n                        value={value}\r\n                        style={{ width: '100%' }}\r\n                        onChange={handleChange}>\r\n                        {Object.keys(props.deviceList).map(device => (\r\n                            <MenuItem\r\n                                value={props.deviceList[device].id}\r\n                                key={props.deviceList[device].id}\r\n                            >\r\n                                {props.deviceList[device].config.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </BladeFrame>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        margin: '1rem auto',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 435,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ virtual, config }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const deviceList = useStore(state => state.devices) || {};\r\n    const updateVirtualSegments = useStore(state => state.updateVirtualSegments);\r\n    const getVirtuals = useStore(state => state.getVirtuals);\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n        if (newValue) {\r\n            const device = { ...deviceList[Object.keys(deviceList).find(d => deviceList[d].id === newValue)] };\r\n\r\n            if (device && device.config) {\r\n                const temp = [\r\n                    ...virtual.segments,\r\n                    [device.id, 0, device.config.pixel_count - 1, false],\r\n                ];\r\n                const test = temp.filter(t => t.length === 4);\r\n                updateVirtualSegments({ virtId: virtual.id, segments: test }).then(() => getVirtuals());\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {deviceList && Object.keys(deviceList).length > 0 ? (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-label=\"Add\"\r\n                        className={classes.button}\r\n                        endIcon={<AddCircleIcon />}\r\n                        onClick={handleClickListItem}\r\n                        role=\"listitem\"\r\n                    >\r\n                        ADD SEGMENT\r\n                    </Button>\r\n\r\n                    <ConfirmationDialogRaw\r\n                        classes={{\r\n                            paper: classes.paper,\r\n                        }}\r\n                        config={config}\r\n                        id=\"ringtone-menu\"\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        value={\"\"}\r\n                        // value={deviceList[0].id}\r\n                        deviceList={deviceList}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <></>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport useStore from \"../../../utils/apiStore\";\r\n\r\nconst PixelSlider = ({ s, handleRangeSegment }) => {\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const devices = useStore((state) => state.devices);\r\n\r\n  const [range, setRange] = useState([s[1], s[2]]);\r\n\r\n  useEffect(() => {\r\n    getDevices();\r\n  }, [getDevices]);\r\n\r\n  if (!devices[s[0]]) {\r\n    return <></>;\r\n  }\r\n\r\n  const pixelRange = [s[1], s[2]];\r\n\r\n  const handleChange = (event, newValue) => {\r\n    if (newValue !== pixelRange) {\r\n      handleRangeSegment(newValue[0], newValue[1]);\r\n    }\r\n  };\r\n\r\n  const marks = [\r\n    { value: 0, label: 0 },\r\n    {\r\n      value: devices[s[0]].config.pixel_count - 1,\r\n      label: devices[s[0]].config.pixel_count - 1,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Slider\r\n      value={range}\r\n      marks={marks}\r\n      min={0}\r\n      max={devices[s[0]].config.pixel_count - 1}\r\n      onChange={(e, n) => setRange(n)}\r\n      onChangeCommitted={handleChange}\r\n      aria-labelledby=\"range-slider\"\r\n      valueLabelDisplay=\"auto\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default PixelSlider;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useSegmentStyles = makeStyles(theme => ({\r\n    segmentsWrapper: {\r\n        display: 'flex',\r\n        borderBottom: '1px dashed #aaa',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '0.5rem 0',\r\n    },\r\n    segmentsColOrder: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    segmentsButtonUp: {\r\n        borderTopRightRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n        minWidth: '50px',\r\n    },\r\n    segmentsButtonDown: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        minWidth: '50px',\r\n        marginRight: '1rem',\r\n    },\r\n    segmentsColPixelSlider: {\r\n        flex: '0 1 70%',\r\n    },\r\n    segmentsColActions: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    '@media (max-width: 600px)': {\r\n        segmentsColPixelSlider: {\r\n            order: 3,\r\n            width: 'calc(100% - 2rem)',\r\n            margin: '2rem auto 0 auto',\r\n        },\r\n\r\n        segmentsWrapper: {\r\n            flexDirection: 'column',\r\n            alignItems: 'flex-start',\r\n        },\r\n        segmentsColActions: {\r\n            position: 'absolute',\r\n            right: '1rem',\r\n        },\r\n    },\r\n}));","import { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport PixelSlider from './PixelSlider';\r\nimport PopoverSure from '../../../components/Popover';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\r\nimport useStore from '../../../utils/apiStore';\r\nimport { swap } from '../../../utils/helpers';\r\nimport { useSegmentStyles } from './Segment.styles'\r\n\r\nconst Segment = ({ s, i, virtual, segments }) => {\r\n    const getDevices = useStore((state) => state.getDevices);\r\n    const devices = useStore((state) => state.devices);\r\n\r\n    const title = devices && devices[Object.keys(devices).find(d => d === s[0])].config.name;\r\n    const classes = useSegmentStyles();\r\n    const updateVirtualSegments = useStore(state => state.updateVirtualSegments);\r\n    const getVirtuals = useStore(state => state.getVirtuals);\r\n\r\n    const handleInvert = () => {\r\n        const newSegments = segments.map((seg, index) => index === i ? [seg[0], seg[1], seg[2], !seg[3]] : seg);\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n    const reorder = direction => {\r\n        const newSegments = direction === 'UP' ? swap(segments, i - 1, i) : swap(segments, i, i + 1);\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n    const handleDeleteSegment = () => {\r\n        const newSegments = segments.filter((seg, index) => index !== i)\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n    const handleRangeSegment = (start, end) => {\r\n        const newSegments = segments.map((seg, index) => index === i ? [seg[0], start, end, !seg[3]] : seg);\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n\r\n    useEffect(() => {\r\n        getDevices()\r\n    }, [getDevices])\r\n\r\n    return (\r\n        <div style={{ padding: '0 1rem' }}>\r\n            <div className={classes.segmentsWrapper}>\r\n                <div className={classes.segmentsColOrder}>\r\n                    <div style={{ display: 'flex' }}>\r\n                        <div>\r\n                            <Button\r\n                                disabled={i === 0}\r\n                                variant={'outlined'}\r\n                                color={'inherit'}\r\n                                onClick={() => reorder('UP')}\r\n                                size={'small'}\r\n                                className={classes.segmentsButtonUp}\r\n                            >\r\n                                <ExpandLess />\r\n                            </Button>\r\n                        </div>\r\n                        <div>\r\n                            <Button\r\n                                disabled={i === virtual.segments.length - 1}\r\n                                variant={'outlined'}\r\n                                color={'inherit'}\r\n                                onClick={() => reorder('DOWN')}\r\n                                size={'small'}\r\n                                className={classes.segmentsButtonDown}\r\n                            >\r\n                                <ExpandMore />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ minWidth: '120px' }}>\r\n                        <Typography color=\"textSecondary\">{title}</Typography>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.segmentsColPixelSlider}>\r\n                    <PixelSlider s={s} handleRangeSegment={handleRangeSegment} />\r\n                </div>\r\n                <div className={classes.segmentsColActions}>\r\n                    <div>\r\n                        <Button\r\n                            variant={s[3] ? 'contained' : 'outlined'}\r\n                            color={s[3] ? 'primary' : 'default'}\r\n                            endIcon={<SwapHorizIcon />}\r\n                            onClick={handleInvert}\r\n                            style={{ margin: '0 1rem 0 1.5rem' }}\r\n                        >\r\n                            Flip\r\n                        </Button>\r\n                    </div>\r\n                    <PopoverSure\r\n                        variant=\"outlined\"\r\n                        color=\"default\"\r\n                        onConfirm={handleDeleteSegment}\r\n                        style={{ padding: '5px' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Segment;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useEditVirtualsStyles = makeStyles(theme => ({\r\n    appBar: {\r\n      position: 'relative',\r\n      marginBottom: '1rem',\r\n      background: theme.palette.background.default,\r\n      color: theme.palette.text.primary,\r\n    },\r\n    title: {\r\n      marginLeft: theme.spacing(2),\r\n      flex: 1,\r\n    },\r\n    dialog: {\r\n      background: theme.palette.background.default,\r\n    },\r\n    segmentTitle: {\r\n      display: 'flex',\r\n      borderBottom: '1px dashed #aaa',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      padding: '0.5rem 0',\r\n      margin: '0 1rem',\r\n    },\r\n    segmentButtonWrapper: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      padding: '0.5rem 0',\r\n      margin: '0 1rem',\r\n    }\r\n  }));","import React, { useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n\r\nimport { getOverlapping } from \"../../../utils/helpers\";\r\nimport useStore from '../../../utils/apiStore';\r\n\r\nimport AddSegmentDialog from '../../../components/Dialogs/_AddSegmentDialog';\r\nimport Segment from './Segment';\r\nimport { useEditVirtualsStyles } from './EditVirtuals.styles'\r\nimport { ListItemIcon, MenuItem } from '@material-ui/core';\r\nimport { Settings } from '@material-ui/icons';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst MuiMenuItem = React.forwardRef((props, ref) => {\r\n  return <MenuItem  ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog({\r\n  virtual,\r\n  icon = <Settings />,\r\n  startIcon,\r\n  label = '',\r\n  type,\r\n  className,\r\n  color = 'default',\r\n  variant = 'contained',\r\n  onClick = () => {},\r\n  innerKey,\r\n}) {\r\n  const classes = useEditVirtualsStyles();\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    const output = getOverlapping(virtual.segments);\r\n    const overlap = Object.keys(output).find(k => output[k].overlap);\r\n    if (overlap) {\r\n      showSnackbar({\r\n        message: `Overlapping in ${overlap} detected! Please Check your config`,\r\n        messageType: 'warning'\r\n      })\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    getDevices()\r\n  }, [getDevices])\r\n\r\n  return virtual && virtual.config ? (\r\n    <>\r\n      {type === 'menuItem'\r\n        ? <MuiMenuItem key={innerKey} className={className} onClick={(e) => { e.preventDefault(); onClick(e); handleClickOpen(e)}}>\r\n          <ListItemIcon>\r\n            {icon}\r\n          </ListItemIcon>\r\n          {label}\r\n        </MuiMenuItem>\r\n        : <Button\r\n          variant={variant}\r\n          startIcon={startIcon}\r\n          color={color}\r\n          onClick={(e)=>{onClick(e); handleClickOpen(e);}}\r\n          size=\"small\"\r\n          className={className}\r\n        >\r\n          {label}\r\n          {!startIcon && icon}\r\n        </Button>\r\n      }\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <Button\r\n              autoFocus\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              startIcon={<NavigateBeforeIcon />}\r\n              onClick={handleClose}\r\n              style={{ marginRight: '1rem' }}\r\n            >\r\n              back\r\n            </Button>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              {virtual.config.name}{' '}\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <div className={classes.segmentTitle}>\r\n          <Typography variant=\"caption\">Segments-Settings</Typography>\r\n        </div>\r\n        {virtual.segments.length > 0 &&\r\n          virtual.segments.map((s, i) => (\r\n            <Segment s={s} i={i} key={i} virtual={virtual} segments={virtual.segments} />\r\n          ))}\r\n        <div className={classes.segmentButtonWrapper}>\r\n          <AddSegmentDialog virtual={virtual} />\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  ) : (<></>);\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../utils/apiStore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  PixelWrapper: {\r\n    maxWidth: '520px',\r\n    display: 'flex',\r\n    width: '100%',\r\n    borderRadius: '10px',\r\n    overflow: 'hidden',\r\n    margin: '1rem 0 0 0',\r\n    border: '1px solid rgba(255, 255, 255, 0.3)',\r\n    // '&.active': {\r\n    //   border: '1px solid rgba(255, 0, 0, 0.3)',\r\n    // },\r\n    '@media (max-width: 580px)': {\r\n      margin: '0',\r\n    },\r\n  },\r\n  Pixel: {\r\n    height: '40px',\r\n    borderRadius: '0',\r\n    flex: 1,\r\n  }\r\n}));\r\n\r\nconst PixelGraph = ({ virtId, dummy=false, className, active }) => {\r\n  const classes = useStyles();\r\n  const [pixels, setPixels] = useState([])\r\n  const pixelGraphs = useStore((state) => state.pixelGraphs);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  useEffect(() => {\r\n    const handleWebsockets = (e) => {\r\n      if (e.detail.id === virtId) {\r\n        setPixels(e.detail.pixels)\r\n      }\r\n    }\r\n    document.addEventListener(\"YZ\", handleWebsockets);\r\n    return () => {\r\n      document.removeEventListener(\"YZ\", handleWebsockets)\r\n    }\r\n  }, [virtuals, pixelGraphs]);\r\n\r\n  if (!graphs) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    dummy\r\n      ? (<div className={`${classes.PixelWrapper} ${className} ${active ? 'active' : ''}`}>\r\n        <div key={1} className={classes.Pixel} style={{ backgroundColor: '#000' }} />\r\n      </div>)\r\n      : pixels && pixels[0] && pixels[0].length\r\n        ? (<div className={`${classes.PixelWrapper} ${className}  ${active ? 'active' : ''}`}>\r\n          {pixels[0].map((p, i) => (\r\n            <div key={i} className={classes.Pixel} style={{ backgroundColor: `rgb(${pixels[0][i]},${pixels[1][i]},${pixels[2][i]})` }} />\r\n          ))}\r\n        </div>\r\n        )\r\n        : (<div className={`${classes.PixelWrapper} ${className} ${active ? 'active' : ''}`}>\r\n        <div key={1} className={classes.Pixel} style={{ backgroundColor: '#0002' }} />\r\n      </div>)\r\n  )\r\n}\r\n\r\nexport default PixelGraph\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { LinearScale } from '@material-ui/icons';\r\n\r\nexport const useDeviceCardStyles = makeStyles((theme) => ({\r\n    virtualCardPortrait: {     \r\n      padding: '1rem',\r\n      margin: '0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'flex-start',\r\n      flexDirection: 'column',\r\n      minWidth: '230px',\r\n      maxWidth: '400px',\r\n      width: '100%',\r\n      height: '100%',\r\n      position: 'relative',\r\n      background: theme.palette.background.paper,\r\n      // '&.active': {\r\n      //   background: theme.palette.background.paper,\r\n      // },\r\n      '&:hover': {\r\n      borderColor: theme.palette.text.disabled,\r\n    }\r\n    },\r\n    virtualLink: {\r\n      flexGrow: 0,\r\n      textDecoration: 'none',\r\n      fontSize: 'large',\r\n      color: 'inherit',\r\n      alignSelf: 'flex-start',\r\n      '&:hover': {\r\n        color: `${theme.palette.primary.main} !important`,\r\n      },\r\n    },\r\n    virtualIconWrapper: {\r\n      width: '50px',\r\n      height: '50px',\r\n      marginRight: '0.5rem',\r\n    },\r\n    virtualIcon: {\r\n      marginBottom: '4px',\r\n      marginRight: '0.5rem',\r\n      position: 'relative',\r\n      fontSize: '50px',\r\n      position: 'absolute',\r\n      transformOrigin: 'top left',\r\n      '&.graphs': {\r\n        transformOrigin: 'center left',\r\n      },\r\n      transition: 'transform 0.3s ease-in-out',\r\n      transitionDelay: '0s',      \r\n      '&.extended': {\r\n        transform: 'scale(2.05)',\r\n        transformOrigin: 'top left',        \r\n        transition: 'transform 0.3s ease-in-out',\r\n        transitionDelay: '0s',\r\n      },\r\n      '&.extended.graphs': {\r\n        transform: 'scale(1.25)',\r\n        transformOrigin: 'center left',        \r\n        transition: 'transform 0.3s ease-in-out',\r\n        transitionDelay: '0s',\r\n      },\r\n      '& svg': {          \r\n        transform: 'unset',\r\n        width: '100%',\r\n        marginTop: '3px',\r\n        height: '100%',\r\n    }\r\n    },\r\n    \r\n    virtualCardContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      height: '100%',\r\n      justifyContent: 'space-between',\r\n        flexDirection: 'row',\r\n    },\r\n    iconMedia: {\r\n      height: 140,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      margin: '0 auto',\r\n      fontSize: 100,\r\n      '& > span:before': {\r\n        position: 'relative',\r\n      },\r\n    },\r\n    editButton: {\r\n      marginLeft: theme.spacing(1),\r\n        minWidth: 'unset',\r\n    },\r\n    editButtonMobile: {\r\n      marginLeft: theme.spacing(1),\r\n        minWidth: 'unset',\r\n        flexGrow: 1,\r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      alignSelf: 'flex-start',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n        display: 'block'\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    buttonBarMobile: {\r\n      width: '100%',\r\n      height: '100%',\r\n      textAlign: 'right',\r\n    },\r\n    buttonBarMobileWrapper: {\r\n      height: 148,\r\n      display: 'flex',\r\n      margin: 0,\r\n      padding: '0.5rem 80px 0.5rem 0.5rem',\r\n      background: 'rgba(0,0,0,0.93)',      \r\n      '& > div, & > button': {\r\n        flexGrow: 1,\r\n        flexBasis: '30%',\r\n      },\r\n      '&.extended.graphs': {\r\n        height: 'auto',\r\n        paddingTop: 0,\r\n      }\r\n    },\r\n  }));","import { useState, forwardRef, useRef } from 'react';\r\nimport clsx from 'clsx';\r\nimport { useTheme, withStyles } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from '@material-ui/core/Button';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport TuneIcon from '@material-ui/icons/Tune';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport useStore from '../../../utils/apiStore';\r\nimport Popover from '../../../components/Popover';\r\nimport EditVirtuals from '../EditVirtuals/EditVirtuals';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PixelGraph from '../../../components/PixelGraph';\r\nimport { useDeviceCardStyles } from './DeviceCard.styles'\r\nimport BladeIcon from '../../../components/Icons/BladeIcon';\r\nimport { Delete, MoreVert } from '@material-ui/icons';\r\nimport { ListItemIcon, Menu, MenuItem } from '@material-ui/core';\r\n\r\nconst MuiMenu = forwardRef((props, ref) => {\r\n  return <Menu ref={ref} {...props} />;\r\n});\r\nconst MuiMenuItem = forwardRef((props, ref) => {\r\n  return <MenuItem ref={ref} {...props} />;\r\n});\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props) => (\r\n  <MuiMenu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    onClick={(e) => e.preventDefault()}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'left',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'center',\r\n      horizontal: 'right',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\n// const StyledMenuItem = withStyles((theme) => ({\r\n//   root: {\r\n//     '&:focus': {\r\n//       backgroundColor: theme.palette.primary.main,\r\n//       '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n//         color: theme.palette.common.white,\r\n//       },\r\n//     },\r\n//   },\r\n// }))(MenuItem);\r\n\r\nconst DeviceCard = ({ virtual, index }) => {\r\n  const classes = useDeviceCardStyles();\r\n  const theme = useTheme();\r\n  const menuRef = useRef(null)\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(580));\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const devices = useStore((state) => state.devices);\r\n  const deleteVirtual = useStore((state) => state.deleteVirtual);\r\n  const setDialogOpenAddDevice = useStore((state) => state.setDialogOpenAddDevice);\r\n  const setDialogOpenAddVirtual = useStore((state) => state.setDialogOpenAddVirtual);\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const variant = 'outlined';\r\n  const color = 'inherit';\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const handleDeleteDevice = (virtual) => {\r\n    deleteVirtual(virtuals[virtual]?.id).then(() => {\r\n      getVirtuals();\r\n    });\r\n  };\r\n\r\n  const handleEditVirtual = (virtual) => {\r\n    setDialogOpenAddVirtual(true, virtual)\r\n  };\r\n  const handleEditDevice = (device) => {\r\n    setDialogOpenAddDevice(true, device)\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  return virtuals[virtual] ?\r\n\r\n    <Card\r\n      component={NavLink}\r\n      to={`/device/${virtuals[virtual]?.id}`}\r\n      className={`${classes.virtualCardPortrait} ${Object.keys(virtuals[virtual]?.effect).length > 0 ? 'active' : '' }`}\r\n      style={{        \r\n        textDecoration: 'none',\r\n        order: !(devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0 || virtuals[virtual]?.effect.name)\r\n          ? 100\r\n          : !virtuals[virtual]?.effect.name \r\n            ? 50\r\n            : 'unset'\r\n      }}>\r\n      <div className={classes.virtualCardContainer}>\r\n         \r\n        <div className={`${classes.virtualIconWrapper}`}>\r\n          <BladeIcon\r\n            colorIndicator={false}\r\n            name={virtuals[virtual]?.config && virtuals[virtual]?.config.icon_name && virtuals[virtual]?.config.icon_name}\r\n            className={`${classes.virtualIcon} ${!graphs ? 'graphs' : ''} ${expanded ? 'extended' : ''}`}\r\n            style={{ zIndex: 3 }}\r\n            card={true} />\r\n        </div>\r\n      \r\n\r\n        <div style={{ padding: '0 0.5rem' }}>\r\n          <Typography variant=\"h6\"\r\n            style={{ color: (!graphs && Object.keys(virtuals[virtual]?.effect).length > 0) ? theme.palette.primary.light : 'inherit' }}\r\n          >\r\n            {virtual && virtuals[virtual]?.config && virtuals[virtual]?.config.name}\r\n          </Typography>\r\n          {virtuals[virtual]?.effect.name\r\n            ? <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Effect: {virtuals[virtual]?.effect.name}\r\n            </Typography>\r\n            : devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0\r\n              ? <Typography variant=\"body1\" color=\"textSecondary\">\r\n                Streaming...\r\n\r\n              </Typography>\r\n              : <Typography variant=\"body1\" style={{ color: theme.palette.text.disabled }}>{\"off\"}</Typography>}\r\n        </div>\r\n\r\n        <div>\r\n          {virtual && virtuals[virtual]?.config && virtuals[virtual]?.config.preview_only && (\r\n            <Button\r\n              variant=\"text\"\r\n              disabled\r\n              size=\"small\"\r\n              className={classes.previewButton}\r\n            >\r\n              <VisibilityIcon />\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={(e) => { e.preventDefault(); handleExpandClick(e); }}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n          style={{ zIndex: 2 }}\r\n        >\r\n          <ExpandMoreIcon className={`step-devices-two-${index}`} />\r\n        </IconButton>\r\n        {/* <IconButton\r\n          aria-label=\"display more actions\"\r\n          edge=\"end\"\r\n          color=\"inherit\"\r\n          onClick={(e) => { e.preventDefault(); handleClick(e); }}\r\n          className={'step-two'}\r\n          style={{ marginLeft: '1rem' }}\r\n        >\r\n          <MoreVert />\r\n        </IconButton>\r\n        <MuiMenu\r\n          ref={menuRef}\r\n          id=\"simple-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={() => setAnchorEl(null)}\r\n          PopoverClasses={classes.menu}\r\n        >\r\n          \r\n          <Popover\r\n            key={`three-${index}`}\r\n            innerKey={`edit-device-${index}`}\r\n            type=\"menuItem\"\r\n            label={`Delete ${virtuals[virtual]?.is_device ? 'Device' : 'Virtual'}`}\r\n            variant={variant}\r\n            color={color}\r\n            onConfirm={() => {setAnchorEl(null);handleDeleteDevice(virtual)}}\r\n            className={`step-devices-three-${index}`}\r\n          />         \r\n         \r\n          {virtuals[virtual]?.is_device\r\n            ?\r\n            <MuiMenuItem key={`edit-device-${index}`} onClick={(e) => { e.preventDefault(); handleEditDevice(virtuals[virtual]?.is_device) }} className={`step-devices-four-${index}`}>\r\n              <ListItemIcon>\r\n                <BuildIcon />\r\n              </ListItemIcon>\r\n              Edit Device\r\n            </MuiMenuItem>\r\n            : <EditVirtuals\r\n              innerKey={`edit-virtual-${index}`}\r\n              type=\"menuItem\"\r\n              label=\"Edit Segments\"\r\n              variant={\"text\"}\r\n              color={color}\r\n              virtual={virtuals[virtual]}\r\n              className={`step-devices-six`}\r\n              icon={<TuneIcon />}\r\n            />}\r\n          <MuiMenuItem key={`five-${index}`} className={`step-devices-five-${index}`} onClick={(e) => { e.preventDefault(); handleEditVirtual(virtual) }}>\r\n            <ListItemIcon>\r\n              <SettingsIcon />\r\n            </ListItemIcon>\r\n            Settings\r\n          </MuiMenuItem>\r\n        </MuiMenu> */}\r\n\r\n      </div>\r\n      <PixelGraph active={Object.keys(virtuals[virtual]?.effect).length > 0 || devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0} virtId={virtuals[virtual]?.id} className={`step-devices-seven`} />\r\n\r\n      {<div style={{ position: 'absolute', left: 0, top: 0, bottom: 0, right: 0, zIndex: 1 }}><Collapse in={expanded} timeout=\"auto\" unmountOnExit className={classes.buttonBarMobile}>\r\n        <div className={`${classes.buttonBarMobileWrapper} ${!graphs ? 'graphs' : ''} ${expanded ? 'extended' : ''}`} onClick={(e) => e.preventDefault()}>\r\n          <div>\r\n            {/* {expanded && devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals\r\n              .map((s, i) => <li key={i}>{s}</li>)} */}\r\n          </div>\r\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\r\n            <Popover\r\n              variant={\"text\"}\r\n              startIcon={<Delete />}\r\n              label=\"delete\"\r\n              color={color}\r\n              onConfirm={() => handleDeleteDevice(virtual)}\r\n              className={`step-devices-three-${index}`}\r\n              style={{ width: '100%' }}\r\n            />\r\n\r\n            {virtuals[virtual]?.is_device\r\n              ? <Button\r\n                variant={\"text\"}\r\n                color={color}\r\n                size=\"small\"\r\n                startIcon={<BuildIcon />}\r\n                className={`step-devices-four-${index}`}\r\n                onClick={(e) => { e.preventDefault(); handleEditDevice(virtuals[virtual]?.is_device) }}\r\n              >\r\n                Edit Device\r\n              </Button>\r\n              : <EditVirtuals\r\n                label=\"Edit Virtual\"\r\n                variant={\"text\"}\r\n                color={color}\r\n                virtual={virtuals[virtual]}\r\n                className={`step-devices-six`}\r\n                startIcon={<TuneIcon />}\r\n              />}\r\n            <Button\r\n              variant={\"text\"}\r\n              size=\"small\"\r\n              startIcon={<SettingsIcon />}\r\n              color={color}\r\n              className={`step-devices-five-${index}`}\r\n              onClick={(e) => { e.preventDefault(); handleEditVirtual(virtual) }}\r\n            >\r\n              Settings\r\n            </Button>\r\n          </div>\r\n\r\n        </div>\r\n      </Collapse></div>}\r\n    </Card>\r\n\r\n    : <></>\r\n}\r\n\r\nexport default DeviceCard\r\n","import { Card, CardHeader } from '@material-ui/core';\nimport { Info } from '@material-ui/icons';\nimport PropTypes from 'prop-types';\n\ninterface NoYetProps {\n  type?: string\n}\n\nconst NoYet: React.FC<NoYetProps> = ({ type }) => (\n  <Card>\n    <CardHeader\n      avatar={<Info />}\n      title={`No ${type}s yet`}\n      subheader={`You can add your first ${type} using the red button`}\n    />\n  </Card>\n);\n\nNoYet.propTypes = {\n  type: PropTypes.string,\n};\n\nNoYet.defaultProps = {\n  type: 'Thing',\n};\n\nexport default NoYet;\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\nimport DeviceCard from './DeviceCard/DeviceCard';\r\nimport NoYet from '../../components/NoYet';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardWrapper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex', flexWrap: 'wrap', margin: '-0.5rem', justifyContent: 'center'\r\n  },\r\n  '@media (max-width: 580px)' : {\r\n    cardWrapper:{\r\n      justifyContent: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nconst Devices = () => {\r\n  const classes = useStyles();\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  useEffect(() => {\r\n    getDevices();\r\n    getVirtuals();\r\n  }, [getDevices, getVirtuals]);\r\n\r\n  useEffect(() => {\r\n    if (graphs) {\r\n      setPixelGraphs(Object.keys(virtuals))\r\n    }\r\n  }, [graphs, setPixelGraphs]);\r\n\r\n  return (\r\n      <div className={classes.cardWrapper}>\r\n        {virtuals && Object.keys(virtuals).length ? Object.keys(virtuals).map((virtual, i) => (\r\n          <DeviceCard virtual={virtual} key={i} index={i} />\r\n        )) : (<NoYet type=\"Device\" />)}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Devices;\r\n","import { useState } from 'react';\r\n\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  FormRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    borderRadius: '10px',\r\n    margin: '0 0 0.5rem',\r\n    '@media (max-width: 580px)': {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  FormLabel: {\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '@media (max-width: 580px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  FormSelect: {\r\n    flexGrow: 1,\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '&:before, &:after': {\r\n      display: 'none',\r\n    },\r\n    '& > .MuiSelect-select:focus': {\r\n      backgroundColor: 'unset',\r\n    },\r\n  },\r\n  FormListHeaders: {\r\n    background: theme.palette.secondary.main,\r\n    color: '#fff',\r\n  },\r\n  FormListItem: {\r\n    paddingLeft: '2rem',\r\n  },\r\n  FormToggleWrapper: {\r\n    '@media (max-width: 580px)': {\r\n      order: -1,\r\n    },\r\n  },\r\n\r\n  FormToggle: {\r\n    '@media (max-width: 580px)': {\r\n      flexGrow: 1,\r\n    },\r\n  },\r\n}));\r\n\r\nconst BladeEffectDropDown = ({ effects, virtual }) => {\r\n  const classes = useStyles();\r\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n\r\n  const effectNames = effects\r\n    && Object.keys(effects).map((eid) => ({\r\n      name: effects[eid].name,\r\n      id: effects[eid].id,\r\n      category: effects[eid].category,\r\n    }));\r\n\r\n  const group = effectNames\r\n    && effectNames.reduce((r, a) => {\r\n      r[a.category] = [...(r[a.category] || []), a];\r\n      return r;\r\n    }, {});\r\n\r\n  const [formats, setFormats] = useState(\r\n    () => group && Object.keys(group).map((c) => c || []),\r\n  );\r\n\r\n  const handleFormat = (event, newFormats) => {\r\n    setFormats(newFormats);\r\n  };\r\n  const onEffectTypeChange = (e) => setVirtualEffect(virtual.id, {\r\n    type: e.target.value,\r\n  }).then(() => {\r\n    getVirtuals();\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <FormControl className={`${classes.FormRow} step-device-one`}>\r\n        <InputLabel htmlFor=\"grouped-select\" className={classes.FormLabel}>\r\n          Effect Type\r\n        </InputLabel>\r\n        <Select\r\n          value={virtual && virtual.effect && virtual.effect.type || \"\"}\r\n          onChange={(e) => onEffectTypeChange(e)}\r\n          id=\"grouped-select\"\r\n          className={classes.FormSelect}\r\n        >\r\n          <MenuItem value=\"\" disabled>\r\n            <em>None</em>\r\n          </MenuItem>\r\n          {effects\r\n            && group\r\n            && Object.keys(group).map(\r\n              (c) => formats\r\n                && formats.indexOf(c) !== -1 && [\r\n                  <ListSubheader\r\n                  className={classes.FormListHeaders}\r\n                  color=\"primary\"\r\n                >\r\n                  {c}\r\n                </ListSubheader>,\r\n                group[c].map((e) => (\r\n                    <MenuItem className={classes.FormListItem} value={e.id}>\r\n                    {e.name}\r\n                  </MenuItem>\r\n                )),\r\n              ],\r\n            )}\r\n        </Select>\r\n        <ToggleButtonGroup\r\n          value={formats}\r\n          onChange={handleFormat}\r\n          aria-label=\"text formatting\"\r\n          className={classes.FormToggleWrapper}\r\n        >\r\n          {effects\r\n            && Object.keys(group).map((c, i) => (\r\n              <ToggleButton\r\n                className={classes.FormToggle}\r\n                key={i}\r\n                value={c}\r\n                aria-label={c}\r\n              >\r\n                {c}\r\n              </ToggleButton>\r\n            ))}\r\n        </ToggleButtonGroup>\r\n      </FormControl>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BladeEffectDropDown;\r\n","import { useEffect } from 'react';\r\n\r\n// Improved version of https://usehooks.com/useOnClickOutside/\r\nconst useClickOutside = (ref, handler) => {\r\n  useEffect(() => {\r\n    let startedInside = false;\r\n    let startedWhenMounted = false;\r\n\r\n    const listener = (event) => {\r\n      // Do nothing if `mousedown` or `touchstart` started inside ref element\r\n      if (startedInside || !startedWhenMounted) return;\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!ref.current || ref.current.contains(event.target)) return;\r\n\r\n      handler(event);\r\n    };\r\n\r\n    const validateEventStart = (event) => {\r\n      startedWhenMounted = ref.current;\r\n      startedInside = ref.current && ref.current.contains(event.target);\r\n    };\r\n\r\n    document.addEventListener('mousedown', validateEventStart);\r\n    document.addEventListener('touchstart', validateEventStart);\r\n    document.addEventListener('click', listener);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', validateEventStart);\r\n      document.removeEventListener('touchstart', validateEventStart);\r\n      document.removeEventListener('click', listener);\r\n    };\r\n  }, [ref, handler]);\r\n};\r\n\r\nexport default useClickOutside;\r\n","import { useState, useCallback, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport useClickOutside from '../../utils/useClickOutside';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: '1px solid',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  picker: {\r\n    width: '135px',\r\n    height: '30px',\r\n    margin: '15px 10px 10px 10px',\r\n    borderRadius: '10px',\r\n    cursor: 'pointer',\r\n    border: '1px solid #fff',\r\n    \"@media (max-width: 580px)\": {\r\n      width: \"31vw\",\r\n    },\r\n  },\r\n  wrapper: {\r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    // margin: \"0.5rem\",\r\n    order: '-2',\r\n    // \"@media (max-width: 580px)\": {\r\n    flexBasis: '33%',\r\n    margin: '0.5rem 0',\r\n    // },\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n}));\r\n\r\nconst coloring = {\r\n  red: 'rgb(255, 0, 0)',\r\n  'orange-deep': 'rgb(255, 40, 0)',\r\n  orange: 'rgb(255, 120, 0)',\r\n  yellow: 'rgb(255, 200, 0)',\r\n  'yellow-acid': 'rgb(160, 255, 0)',\r\n  green: 'rgb(0, 255, 0)',\r\n  'green-forest': 'rgb(34, 139, 34)',\r\n  'green-spring': 'rgb(0, 255, 127)',\r\n  'green-teal': 'rgb(0, 128, 128)',\r\n  'green-turquoise': 'rgb(0, 199, 140)',\r\n  'green-coral': 'rgb(0, 255, 50)',\r\n  cyan: 'rgb(0, 255, 255)',\r\n  blue: 'rgb(0, 0, 255)',\r\n  'blue-light': 'rgb(65, 105, 225)',\r\n  'blue-navy': 'rgb(0, 0, 128)',\r\n  'blue-aqua': 'rgb(0, 255, 255)',\r\n  purple: 'rgb(128, 0, 128)',\r\n  pink: 'rgb(255, 0, 178)',\r\n  magenta: 'rgb(255, 0, 255)',\r\n  black: 'rgb(0, 0, 0)',\r\n  white: 'rgb(255, 255, 255)',\r\n  gold: 'rgb(255, 215, 0)',\r\n  hotpink: 'rgb(255, 105, 180)',\r\n  lightblue: 'rgb(173, 216, 230)',\r\n  lightgreen: 'rgb(152, 251, 152)',\r\n  lightpink: 'rgb(255, 182, 193)',\r\n  lightyellow: 'rgb(255, 255, 224)',\r\n  maroon: 'rgb(128, 0, 0)',\r\n  mint: 'rgb(189, 252, 201)',\r\n  olive: 'rgb(85, 107, 47)',\r\n  peach: 'rgb(255, 100, 100)',\r\n  plum: 'rgb(221, 160, 221)',\r\n  sepia: 'rgb(94, 38, 18)',\r\n  skyblue: 'rgb(135, 206, 235)',\r\n  steelblue: 'rgb(70, 130, 180)',\r\n  tan: 'rgb(210, 180, 140)',\r\n  violetred: 'rgb(208, 32, 144)',\r\n};\r\n\r\nconst BladeColorPicker = ({ sendColor, col, clr, index }) => {\r\n  const classes = useStyles();\r\n  const popover = useRef();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n\r\n  const handleClose = useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n  useClickOutside(popover, handleClose);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <div className={`${classes.wrapper} step-effect-${index}`}>\r\n      <label className={'MuiFormLabel-root'}>\r\n        {/* <Palette /> */}\r\n        {clr.replaceAll('_', ' ').replaceAll('background', 'bg')}\r\n      </label>\r\n      <div\r\n        className={classes.picker}\r\n        style={{ background: coloring[col] }}\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n      />\r\n      <ClickAwayListener\r\n        onClickAway={() => {\r\n          // console.log('anchorEl');\r\n          // setAnchorEl(null);\r\n        }}\r\n      >\r\n        <Popper\r\n          id={id}\r\n          open={open}\r\n          onClose={handleClose}\r\n          anchorEl={anchorEl}\r\n          ref={popover}\r\n        >\r\n          <div className={classes.paper}>\r\n            {Object.keys(coloring).map((c) => (\r\n              <div\r\n                key={c}\r\n                style={{\r\n                  width: c === col ? '22px' : '20px',\r\n                  height: c === col ? '22px' : '20px',\r\n                  margin: c === col ? '4px' : '5px',\r\n                  borderRadius: '5px',\r\n                  cursor: 'pointer',\r\n                  background: coloring[c],\r\n                  border: c === col ? '2px solid #000' : '1px solid #fff',\r\n                }}\r\n                onClick={() => sendColor(c)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </Popper>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n};\r\nexport default BladeColorPicker;\r\n","import { useState, useCallback, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport { HslStringColorPicker } from 'react-colorful';\r\nimport useClickOutside from '../../utils/useClickOutside';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: '1px solid',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  picker: {\r\n    width: '150px',\r\n    height: '30px',\r\n    margin: '15px 10px 10px 10px',\r\n    borderRadius: '10px',\r\n    cursor: 'pointer',\r\n    border: '1px solid #fff',\r\n  },\r\n  wrapper: {\r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    margin: '0.5rem',\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n}));\r\n\r\nconst BladeColorNewPicker = ({ sendColor, col, clr, virtual }) => {\r\n  const classes = useStyles();\r\n  const popover = useRef();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [colorNew, setColorNew] = useState('hsl(0, 100%, 25%)');\r\n  const handleClick = (event) => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n  const handleColorChange = (e) => {\r\n    console.log(virtual)\r\n    setColorNew(e);\r\n    sendColor(e, virtual);\r\n  };\r\n  // const handleClickaway = event => {\r\n  //     console.log(anchorEl);\r\n  //     if (!anchorEl) {\r\n  //         setAnchorEl(null);\r\n  //     }\r\n  //     // setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  // };\r\n  const handleClose = useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n  useClickOutside(popover, handleClose);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <label className={'MuiFormLabel-root'}>\r\n        {/* <Palette /> */}\r\n        {clr.replaceAll('_', ' ')}\r\n      </label>\r\n      <div\r\n        className={classes.picker}\r\n        style={{\r\n          backgroundColor: colorNew.replaceAll('\"', '').replaceAll(\"'\", ''),\r\n        }}\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n      />\r\n      <ClickAwayListener\r\n        onClickAway={() => {\r\n          // console.log('anchorEl');\r\n          // setAnchorEl(null);\r\n        }}\r\n      >\r\n        <Popper\r\n          id={id}\r\n          open={open}\r\n          onClose={handleClose}\r\n          anchorEl={anchorEl}\r\n          ref={popover}\r\n        >\r\n          <div className={classes.paper}>\r\n            <HslStringColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            {/* {Object.keys(coloring).map(c => (\r\n                            <div\r\n                                key={c}\r\n                                style={{\r\n                                    width: c === col ? '22px' : '20px',\r\n                                    height: c === col ? '22px' : '20px',\r\n                                    margin: c === col ? '4px' : '5px',\r\n                                    borderRadius: '5px',\r\n                                    cursor: 'pointer',\r\n                                    background: coloring[c],\r\n                                    border: c === col ? `2px solid #000` : `1px solid #fff`,\r\n                                }}\r\n                                onClick={() => sendColor(c)}\r\n                            ></div>\r\n                        ))} */}\r\n          </div>\r\n        </Popper>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n};\r\nexport default BladeColorNewPicker;\r\n","import InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n// import { setVirtualEffect } from \"modules/selectedDisplay\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeColorPicker from './BladeColorPicker';\r\nimport BladeColorNewPicker from './BladeColorNewPicker';\r\nimport { useEffect } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  FormRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    border: '1px solid rgba(255, 255, 255, 0.23)',\r\n    borderRadius: '10px',\r\n    '@media (max-width: 580px)': {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  FormLabel: {\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '@media (max-width: 580px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  FormSelect: {\r\n    flexGrow: 1,\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '&:before, &:after': {\r\n      display: 'none',\r\n    },\r\n    '& > .MuiSelect-select:focus': {\r\n      backgroundColor: 'unset',\r\n    },\r\n  },\r\n}));\r\n\r\nconst BladeColorDropDown = ({\r\n  effects = {},\r\n  virtual = {},\r\n  clr = 'color',\r\n  type = 'both',\r\n  selectedType,\r\n  model,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const effectyz = virtuals[Object.keys(virtuals).find((d) => d === virtual.id)];\r\n  const curEffSchema = effects[selectedType];\r\n  const colors = curEffSchema\r\n    && curEffSchema.schema.properties[clr]\r\n    && curEffSchema.schema.properties[clr].enum;\r\n  \r\n  \r\n  \r\n  const sendColor = (e, v) => { \r\n    console.log(virtual,effectyz, v)\r\n    if (virtual && effectyz && effectyz.effect && effectyz.effect.type) {\r\n      \r\n      updateVirtualEffect(virtual.id, {\r\n        virtId: virtual.id,\r\n        type: effectyz.effect.type,\r\n        config: { [clr]: e },\r\n      }).then(() => {\r\n        getVirtuals();\r\n      });\r\n    }\r\n \r\n  }\r\n\r\n  const onEffectTypeChange = (e) => virtual\r\n    && setVirtualEffect(virtual.id, {\r\n      virtId: virtual.id,\r\n      type: virtual.config[virtual.id].effect.type,\r\n      config: { [clr]: e.target.value },\r\n    }).then(() => {\r\n      getVirtuals();\r\n    });\r\n\r\n   \r\n  \r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n      {(type === 'text' || type === 'both') && (\r\n        <FormControl className={classes.FormRow}>\r\n          <InputLabel htmlFor=\"grouped-select\" className={classes.FormLabel}>\r\n            {clr.replaceAll('_', ' ')}\r\n          </InputLabel>\r\n          <Select\r\n            value={model[clr]}\r\n            onChange={onEffectTypeChange}\r\n            id=\"grouped-select\"\r\n            className={classes.FormSelect}\r\n          >\r\n            {colors\r\n              && colors.map((c) => (\r\n                <MenuItem className={classes.FormListItem} key={c} value={c}>\r\n                  {c}\r\n                </MenuItem>\r\n              ))}\r\n          </Select>\r\n        </FormControl>\r\n      )}\r\n\r\n      {(type === 'color' || type === 'both') && (\r\n        <BladeColorPicker\r\n          col={model[clr]}\r\n          clr={clr}\r\n          sendColor={sendColor}\r\n          selectedType={selectedType}\r\n          model={model}\r\n        />\r\n      )}\r\n      {type === 'colorNew'\r\n        && (\r\n          <BladeColorNewPicker\r\n            col={model[clr]}\r\n            clr={clr}\r\n            sendColor={sendColor}\r\n            selectedType={selectedType}\r\n            model={model}\r\n            type={virtual}\r\n          />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BladeColorDropDown;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Fab,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Select,\r\n  DialogActions,\r\n  Button,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n} from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeColorDropDown from './BladeColorDropDown';\r\nimport BladeBoolean from './BladeBoolean';\r\nimport BladeSelect from './BladeSelect';\r\nimport BladeSlider from './BladeSlider';\r\n\r\nconst useStyles = makeStyles({\r\n  bladeSchemaForm: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n  },\r\n});\r\n\r\nconst BladeEffectSchemaForm = (props) => {\r\n  const {\r\n    effects,\r\n    virtual,\r\n    schema,\r\n    model,\r\n    virtual_id,\r\n    selectedType,\r\n    colorMode = 'picker',\r\n    colorKeys = [],\r\n    boolMode = 'switch',\r\n    boolVariant = 'outlined',\r\n    selectVariant = 'outlined',\r\n    sliderVariant = 'outlined',\r\n  } = props;\r\n  const pickerKeys = [\r\n    'color',\r\n    'background_color',\r\n    'color_lows',\r\n    'color_mids',\r\n    'color_high',\r\n    'strobe_color',\r\n    'lows_colour',\r\n    'mids_colour',\r\n    'high_colour',\r\n    ...colorKeys,\r\n  ];\r\n\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [_boolMode, _setBoolMode] = useState(boolMode);\r\n  const [_boolVariant, _setBoolVariant] = useState(boolVariant);\r\n  const [_selectVariant, _setSelectVariant] = useState(selectVariant);\r\n  const [_sliderVariant, _setSliderVariant] = useState(sliderVariant);\r\n  const [_colorMode, _setColorMode] = useState(colorMode);\r\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleEffectConfig = (virtual_id, config) => updateVirtualEffect(virtual_id, {\r\n    virtId: virtual_id,\r\n    type: selectedType,\r\n    config,\r\n  }).then(() => {\r\n    getVirtuals();\r\n  });\r\n\r\n  return (\r\n    <div className={classes.bladeSchemaForm}>\r\n      {parseInt(window.localStorage.getItem('BladeMod')) > 10 && (\r\n        <Fab\r\n          onClick={handleClickOpen}\r\n          variant=\"circular\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ position: 'absolute', right: '1rem', top: '1rem' }}\r\n        >\r\n          <SettingsIcon />\r\n        </Fab>\r\n      )}\r\n      {pickerKeys && pickerKeys.map(\r\n        (k, i) => model && Object.keys(model).indexOf(k) !== -1 && (\r\n          <BladeColorDropDown\r\n            virtual={virtual}\r\n            effects={effects}\r\n            selectedType={selectedType}\r\n            model={model}\r\n            key={k}\r\n            index={i}\r\n            type={_colorMode === 'select' ? 'text' : 'color'}\r\n            clr={k}\r\n          />\r\n        ),\r\n      )}\r\n\r\n      {Object.keys(schema.properties).map((s, i) => {\r\n        switch (schema.properties[s].type) {\r\n          case 'boolean':\r\n            return (\r\n              <BladeBoolean\r\n                type={_boolMode}\r\n                variant={_boolVariant}\r\n                key={i}\r\n                index={i}\r\n                model={model}\r\n                model_id={s}\r\n                schema={schema.properties[s]}\r\n                hideDesc={true}\r\n                onClick={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            );\r\n          case 'string':\r\n            return schema.properties[s].enum && pickerKeys.indexOf(s) === -1 ? (\r\n              <BladeSelect\r\n                model={model}\r\n                variant={_selectVariant}\r\n                schema={schema.properties[s]}\r\n                wrapperStyle={{width: '48%'}}\r\n                model_id={s}\r\n                key={i}\r\n                index={i}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            ) : (\r\n              pickerKeys.indexOf(s) === -1 && (\r\n                <BladeColorDropDown\r\n                  selectedType={selectedType}                  \r\n                  index={i}\r\n                  model={model}\r\n                  type=\"colorNew\"\r\n                  clr=\"blade_color\"\r\n                  key={i}\r\n                />\r\n              )\r\n            );\r\n\r\n          case 'number':\r\n            return (\r\n              <BladeSlider\r\n                variant={_sliderVariant}\r\n                key={i}\r\n                index={i}\r\n                hideDesc={true}\r\n                model_id={s}\r\n                model={model}\r\n                schema={schema.properties[s]}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            );\r\n\r\n          case 'integer':\r\n            return (\r\n              <BladeSlider\r\n                variant={_sliderVariant}\r\n                step={1}\r\n                key={i}\r\n                index={i}\r\n                hideDesc={true}\r\n                model_id={s}\r\n                model={model}\r\n                schema={schema.properties[s]}\r\n                style={{ margin: '0.5rem 0', flexBasis: '47%'}}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            );\r\n\r\n          default:\r\n            return (\r\n              <>\r\n                Unsupported type:\r\n                {schema.properties[s].type}\r\n              </>\r\n            );\r\n        }\r\n      })}\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          Blade's SchemaForm Settings\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Customize the appearance of dynamically generated forms\r\n          </DialogContentText>\r\n          <FormControl>\r\n            <InputLabel id=\"ColorVariantLabel\">Color Mode</InputLabel>\r\n            <Select\r\n              labelId=\"ColorVariantLabel\"\r\n              id=\"ColorVariant\"\r\n              value={_colorMode}\r\n              onChange={(e) => _setColorMode(e.target.value)}\r\n            >\r\n              <MenuItem value=\"picker\">Picker</MenuItem>\r\n              <MenuItem value=\"select\">Select</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"BoolModeLabel\">Bool Mode</InputLabel>\r\n            <Select\r\n              labelId=\"BoolModeLabel\"\r\n              id=\"BoolMode\"\r\n              value={_boolMode}\r\n              onChange={(e) => _setBoolMode(e.target.value)}\r\n            >\r\n              <MenuItem value=\"switch\">Switch</MenuItem>\r\n              <MenuItem value=\"checkbox\">Checkbox</MenuItem>\r\n              <MenuItem value=\"button\">Button</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"BoolVariantLabel\">Bool Variant</InputLabel>\r\n            <Select\r\n              labelId=\"BoolVariantLabel\"\r\n              id=\"BoolVariant\"\r\n              value={_boolVariant}\r\n              onChange={(e) => _setBoolVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"SelectVariantLabel\">Select Variant</InputLabel>\r\n            <Select\r\n              labelId=\"SelectVariantLabel\"\r\n              id=\"SelectVariant\"\r\n              value={_selectVariant}\r\n              onChange={(e) => _setSelectVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n              <MenuItem value=\"contained\">Contained</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"SliderVariantLabel\">Slider Variant</InputLabel>\r\n            <Select\r\n              labelId=\"SliderVariantLabel\"\r\n              id=\"SliderVariant\"\r\n              value={_sliderVariant}\r\n              onChange={(e) => _setSliderVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n\r\n          <DialogActions>\r\n            <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nBladeEffectSchemaForm.propTypes = {\r\n  colorMode: PropTypes.oneOf(['picker', 'select']),\r\n  boolMode: PropTypes.oneOf(['switch', 'checkbox', 'button']),\r\n  boolVariant: PropTypes.oneOf(['outlined', 'contained', 'text']),\r\n  selectVariant: PropTypes.string, // outlined | any\r\n  sliderVariant: PropTypes.string, // outlined | any\r\n  colorKeys: PropTypes.array,\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n  virtual_id: PropTypes.string.isRequired,\r\n  selectedType: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BladeEffectSchemaForm;\r\n","import { useState } from 'react';\nimport { MenuItem, Button } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { Info, InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst step = ({ title = 'Title', text = 'Text', number = 0 }) => (\n  {\n    selector: `.step-effect-${number}`,\n    content: (\n      <div>\n        <h2>{title}</h2>\n        {text}\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  }\n);\n\nconst TourEffect = ({ schema }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const steps = Object.keys(schema.properties).map((p, i) => step({ \n    title: schema.properties[p].title, \n    text: schema.properties[p].description, \n    number: i }))\n  return (\n    <>\n      <Button\n        onClick={(e) => {\n          setIsTourOpen(true);\n          setTour(\"effect\");\n        }}\n        variant=\"outlined\"\n        style={{ marginRight: '.5rem' }}\n        className={'step-device-seven'}\n      >\n        <Info />\n      </Button>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        showNavigation={false}\n        // badgeContent={()=><Info size=\"small\" />}\n        onRequestClose={() => setIsTourOpen(false)}\n        showNumber={false}\n      />\n    </>\n  );\n};\n\nexport default TourEffect;\n","import { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport { Button, Card, CardContent } from '@material-ui/core/';\r\nimport { Casino, Clear, Settings } from '@material-ui/icons/';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeEffectDropDown from '../../components/SchemaForm/BladeEffectDropDown';\r\nimport BladeEffectSchemaForm from '../../components/SchemaForm/BladeEffectSchemaForm';\r\nimport PixelGraph from '../../components/PixelGraph';\r\nimport TourEffect from '../../components/Tours/TourEffect';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  actionButton: {\r\n    marginTop: '0.5rem',\r\n    width: '100%',\r\n    borderColor: theme.palette.grey[400]\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: '540px',\r\n    '@media (max-width: 580px)': {      \r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n  pixelbar: {\r\n    opacity: 1,\r\n    transitionDuration: 0\r\n  },\r\n  pixelbarOut: {\r\n    opacity: 0.2,\r\n    transition: 'opacity',\r\n    transitionDuration: 1000\r\n  }\r\n}));\r\n\r\nconst EffectsCard = ({ virtId }) => {\r\n  const classes = useStyles();\r\n  const [fade, setFade] = useState(false)\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getSchemas = useStore((state) => state.getSchemas);\r\n  const clearVirtualEffect = useStore((state) => state.clearVirtualEffect);\r\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const effects = useStore((state) => state.schemas.effects);\r\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\r\n\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  const virtual = virtuals[virtId];\r\n  const effectType = virtual && virtual.effect.type;\r\n\r\n  const handleRandomize = () => {\r\n    setVirtualEffect(\r\n     virtual.id,\r\n      {\r\n        virtId: virtual.id,\r\n        type: effectType,\r\n        config: 'RANDOMIZE',\r\n        active: true\r\n      }\r\n    ).then(()=>getVirtuals());\r\n  };\r\n\r\n  const handleClearEffect = () => {\r\n    clearVirtualEffect(virtId).then(() => {\r\n      setFade(true)\r\n      setTimeout(() => { getVirtuals() }, virtual.config.transition_time * 1000)\r\n      setTimeout(() => { setFade(false) }, virtual.config.transition_time * 1000 + 300)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    getSchemas();\r\n    if (graphs) {\r\n      setPixelGraphs([virtId]);\r\n    }\r\n  }, [graphs, setPixelGraphs, getVirtuals, getSchemas, effectType]);\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardContent>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            margin: '0 .5rem',\r\n          }}\r\n        >\r\n          <h1>{virtual && virtual.config.name}</h1>\r\n          <div style={{ display: 'flex', alignItems: 'center' }}>\r\n            {effects && effectType && (\r\n              <>\r\n              <TourEffect schema={effects[effectType].schema} />\r\n                <Button\r\n                  onClick={() => handleRandomize()}\r\n                  variant=\"outlined\"\r\n                  style={{ marginRight: '.5rem' }}\r\n                  className={'step-device-six'}    \r\n                >\r\n                  <Casino />\r\n                </Button>\r\n                <Button variant=\"outlined\" className={'step-device-five'} onClick={() => handleClearEffect()}>\r\n                  <Clear />\r\n                </Button>\r\n              </>\r\n            )}\r\n\r\n          </div>\r\n        </div>\r\n        <div className={clsx(classes.pixelbar, {\r\n          [classes.pixelbarOut]: fade,\r\n        })} style={{ transitionDuration: virtual.config.transition_time * 1000 }}>\r\n\r\n          <PixelGraph virtId={virtId} dummy={!(virtuals\r\n            && virtual\r\n            && effects\r\n            && virtual.effect\r\n            && virtual.effect.config)} />\r\n\r\n        </div>\r\n        <div style={{ height: '1rem' }} />\r\n        <BladeEffectDropDown\r\n          virtId={virtId}\r\n          effects={effects}\r\n          virtual={virtual}\r\n        />\r\n        {virtuals\r\n          && virtual\r\n          && effects\r\n          && virtual.effect\r\n          && virtual.effect.config && (\r\n            <BladeEffectSchemaForm\r\n              virtual={virtual}\r\n              effects={effects}\r\n              schema={effects[effectType].schema}\r\n              model={virtual.effect.config}\r\n              virtual_id={virtId}\r\n              selectedType={effectType}\r\n            />\r\n          )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default EffectsCard;\r\n","import { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTheme, Card, CardContent, CardActions, CardHeader, Divider, Button, Grid, Typography, TextField } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport useStore from '../../utils/apiStore';\r\nimport Popover from '../../components/Popover';\r\nimport { Add } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n    padding: theme.spacing(2),\r\n  },\r\n  presetButton: {\r\n    margin: theme.spacing(0),\r\n    textDecoration: 'none',\r\n  },\r\n  buttonGrid: {\r\n    direction: 'row',\r\n  },\r\n  hint: {\r\n    color: theme.palette.text.disabled,\r\n  },\r\n  actions: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    margin: theme.spacing(1),\r\n  },\r\n  deviceCard: {\r\n    width: '100%',\r\n    maxWidth: '540px',\r\n    '@media (max-width: 580px)': {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n}));\r\n\r\nconst PresetsCard = ({ virtual, effectType, presets, style }) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [name, setName] = useState('');\r\n  const [valid, setValid] = useState(true);\r\n\r\n  const activatePreset = useStore((state) => state.activatePreset);\r\n  const addPreset = useStore((state) => state.addPreset);\r\n  const getPresets = useStore((state) => state.getPresets);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const deletePreset = useStore((state) => state.deletePreset);\r\n\r\n  const handleActivatePreset = (virtId, category, effectType, presetId) => () => {\r\n    activatePreset(virtId, category, effectType, presetId).then(() => getVirtuals());\r\n    setName('');\r\n  };\r\n\r\n  const renderPresetsButton = (list, CATEGORY) => {\r\n    if (list && !Object.keys(list)?.length) {\r\n      return (\r\n        <Button style={{ margin: '0.5rem 0 0 0.5rem' }} variant=\"outlined\" className={classes.presetButton} disabled>\r\n          No {CATEGORY === 'default_presets' ? '' : 'Custom'} Presets\r\n        </Button>\r\n      );\r\n    }\r\n    return list && Object.keys(list).map((preset) => (\r\n      <Grid item key={preset}>\r\n\r\n        {CATEGORY !== \"default_presets\"\r\n          ? <Popover\r\n            className={classes.presetButton}\r\n            color={\"default\"}\r\n            variant=\"outlined\"\r\n            direction=\"center\"\r\n            onSingleClick={handleActivatePreset(\r\n              virtual.id,\r\n              CATEGORY,\r\n              effectType,\r\n              preset,\r\n            )}\r\n            openOnLongPress={true}\r\n            onConfirm={handleRemovePreset(effectType, preset)}\r\n            startIcon={\"\"}\r\n            size=\"medium\"\r\n            noIcon={true}\r\n            label={list[preset].name}\r\n          />\r\n          : <Button\r\n            className={classes.presetButton}\r\n            variant=\"outlined\"\r\n            onClick={handleActivatePreset(\r\n              virtual.id,\r\n              CATEGORY,\r\n              effectType,\r\n              preset,\r\n            )}\r\n          >\r\n            {list[preset].name}\r\n          </Button>}\r\n\r\n      </Grid>\r\n    ));\r\n  };\r\n\r\n  const handleAddPreset = () => {\r\n    addPreset(virtual.id, name).then(() => {\r\n      getPresets(effectType)\r\n    })\r\n    setName('')\r\n  };\r\n  const handleRemovePreset = (effectType, presetId) => () => deletePreset(effectType, presetId)\r\n    .then(() => {\r\n      getPresets(effectType)\r\n    });\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    effectType && getPresets(effectType);\r\n  }, [getVirtuals, effectType])\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={`${classes.deviceCard} step-device-three`} style={style}>\r\n      <CardHeader style={{ margin: '0' }} title=\"Presets\" subheader=\"Explore different effect configurations or create your own.\" />\r\n      <CardContent className={classes.content}>\r\n        {/* <Divider style={{ margin: '0 0 0.25rem 0' }} />\r\n        <Typography style={{ marginLeft: '1rem', fontVariant: 'all-small-caps', color: theme.palette.text.disabled }} variant=\"h6\">\r\n          Default Presets\r\n        </Typography>\r\n        <Divider style={{ margin: '0.25rem 0 1rem 0' }} /> */}\r\n        <Grid spacing={2} container className={classes.buttonGrid}>\r\n          {renderPresetsButton(presets?.default_presets, 'default_presets')}\r\n        </Grid>\r\n        <Divider style={{ margin: '1rem 0' }} />\r\n        {/* <Divider style={{ margin: '1rem 0 0.25rem 0' }} />\r\n        <Typography style={{ marginLeft: '1rem', fontVariant: 'all-small-caps', color: theme.palette.text.disabled }} variant=\"h6\">\r\n          Custom Presets\r\n        </Typography>\r\n        <Divider style={{ margin: '0.25rem 0 1rem 0' }} /> */}\r\n        <Grid spacing={2} container className={classes.buttonGrid}>\r\n          {renderPresetsButton(presets?.custom_presets, 'custom_presets')}\r\n          <Grid item>\r\n            <Popover\r\n              className={classes.presetButton}\r\n              popoverStyle={{ padding: '0.5rem' }}\r\n              color={\"default\"}\r\n              variant=\"outlined\"\r\n              direction=\"center\"\r\n              onSingleClick={() => { console.log(\"hi\") }}\r\n              content={<TextField\r\n                onKeyDown={e => (e.key == 'Enter') && handleAddPreset(e)}\r\n                error={presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                id=\"presetNameInput\"\r\n                label={\r\n                  presets[\"default_presets\"] &&\r\n                    (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)\r\n                    ? \"Default presets are readonly\"\r\n                    : presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(name) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === name).length > 0)\r\n                      ? \"Preset already exsisting\"\r\n                      : \"Add Custom Preset\"}\r\n                style={{ marginRight: '1rem', flex: 1 }}\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value)\r\n                  presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(e.target.value) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === e.target.value).length > 0)\r\n                    ? setValid(false)\r\n                    : setValid(true)\r\n                }}\r\n              />}\r\n              footer={<div style={{ margin: '0 0 0.5rem 1rem' }}>\r\n                <Typography variant=\"body2\" className={classes.hint}>\r\n                  Save the current effect configuration as a new preset.\r\n                </Typography>\r\n              </div>}\r\n              confirmDisabled={name.length === 0 || presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0) || !valid}\r\n              onConfirm={handleAddPreset}\r\n              startIcon={\"\"}\r\n              size=\"medium\"\r\n              icon={<Add />}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <CardActions >\r\n        <div style={{ flexDirection: 'column', flex: 1 }}>\r\n          {/* <div className={classes.actions}>\r\n            <TextField\r\n              onKeyDown={e => (e.key == 'Enter') && handleAddPreset(e)}\r\n              error={presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              id=\"presetNameInput\"\r\n              label={\r\n                presets[\"default_presets\"] &&\r\n                  (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)\r\n                  ? \"Default presets are readonly\"\r\n                  : presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(name) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === name).length > 0)\r\n                    ? \"Update Custom Preset\"\r\n                    : \"Add Custom Preset\"}\r\n              style={{ marginRight: '1rem', flex: 1 }}\r\n              value={name}\r\n              onChange={(e) => {\r\n                setName(e.target.value)\r\n                presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(e.target.value) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === e.target.value).length > 0)\r\n                  ? setValid(false)\r\n                  : setValid(true)\r\n              }}\r\n            />\r\n            <Button\r\n              className={classes.presetButton}\r\n              color=\"secondary\"\r\n              aria-label=\"Save\"\r\n              disabled={name.length === 0 || presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\r\n              variant=\"contained\"\r\n              onClick={handleAddPreset}\r\n              endIcon={<SaveIcon />}\r\n            >\r\n              {valid ? \"Save\" : \"Update\"}\r\n            </Button>\r\n          </div> */}\r\n          <div style={{ marginLeft: '0.5rem' }}>\r\n            <Typography variant=\"body2\" className={classes.hint}>\r\n              Long-Press opens a menu to override or delete a preset.\r\n            </Typography>\r\n          </div>\r\n        </div>\r\n      </CardActions>\r\n\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PresetsCard;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 0,\r\n  },\r\n  formControl: {\r\n    marginRight: theme.spacing(3),\r\n    flex: 1,\r\n  },\r\n  card: { width: '100%', maxWidth: '540px' },\r\n}));\r\n\r\nconst TransitionCard = ({ virtual, style }) => {\r\n  const classes = useStyles();\r\n  const schemas = useStore((state) => state.schemas.virtuals && state.schemas.virtuals.schema.properties);\r\n  const addVirtual = useStore((state) => state.addVirtual);\r\n  const transition_mode = virtual && virtual.config && virtual.config.transition_mode;\r\n  const transition_time = virtual && virtual.config && virtual.config.transition_time;\r\n  \r\n  const handleSetTransition = (virtId, config) => addVirtual({\r\n      \"id\": virtId, \"config\": config\r\n  });\r\n\r\n  const onSliderChange = (e, newValue) => handleSetTransition(virtual.id, {\r\n    transition_time: newValue,\r\n  });\r\n\r\n  const marks = [\r\n    {\r\n      value: schemas?.transition_time.minimum,\r\n      label: `${schemas?.transition_time.minimum}s`,\r\n    },\r\n    {\r\n      value: schemas?.transition_time.maximum,\r\n      label: `${schemas?.transition_time.maximum}s`,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={`${classes.card} step-device-two`} style={style}>\r\n      <CardHeader title=\"Transitions\" subheader=\"Seamlessly blend between effects\" />\r\n      <CardContent className={classes.content}>\r\n        <FormControl className={classes.formControl}>\r\n          <BladeFrame title=\"Duration\">\r\n          <Slider\r\n            defaultValue={transition_time || schemas?.transition_time.default}\r\n            onChangeCommitted={onSliderChange}\r\n            aria-labelledby=\"discrete-slider\"\r\n            step={0.1}\r\n            min={schemas?.transition_time.minimum}\r\n            max={schemas?.transition_time.maximum}\r\n            marks={marks}\r\n            valueLabelDisplay=\"auto\"\r\n          />\r\n          </BladeFrame>\r\n        </FormControl>\r\n        <BladeFrame title=\"Mode\" style={{ flexGrow: 0, flexBasis: '180px', minWidth: '180px', minHeight: '72px' }}>\r\n        <Select\r\n            defaultValue={transition_mode || schemas?.transition_mode.default}\r\n            onChange={(e) => {\r\n              handleSetTransition(virtual.id, { transition_mode: e.target.value });\r\n            }}\r\n          >\r\n            {schemas?.transition_mode.enum.map((mode, i) => <MenuItem key={i} value={mode}>{mode}</MenuItem>)}\r\n          </Select>\r\n        </BladeFrame>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TransitionCard;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nimport useStore from \"../../utils/apiStore\";\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { InputAdornment, TextField } from '@material-ui/core';\r\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\r\n\r\nconst log13 = (x) => Math.log(x) / Math.log(13);\r\nconst logIt = (x) => 3700.0 * log13(1 + x / 200.0);\r\nconst hzIt = (x) => 200.0 * 13 ** (x / 3700.0) - 200.0;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 0,\r\n  },\r\n  formControl: {\r\n    marginRight: theme.spacing(3),\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: '540px',\r\n    '@media (max-width: 580px)': {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nconst FrequenciesCard = ({ virtual }) => {\r\n  const classes = useStyles();\r\n  const addVirtual = useStore((state) => state.addVirtual);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const config = useStore((state) => state.config);\r\n\r\n  const [value, setValue] = useState([logIt(virtual.config.frequency_min), logIt(virtual.config.frequency_max)]);\r\n\r\n  const freq_max = config.melbanks?.max_frequencies.map(f => ({\r\n    value: f,\r\n    label: `${f > 1000 ? `${f / 1000}kHz` : `${f}Hz`}`,\r\n  }));\r\n\r\n  const freq_min = {\r\n    value: config.melbanks?.min_frequency,\r\n    label: `${config.melbanks?.min_frequency > 1000 ? `${config.melbanks?.min_frequency / 1000}kHz` : `${config.melbanks?.min_frequency}Hz`}`,\r\n  }\r\n  const marks = freq_max && [freq_min, ...freq_max]\r\n\r\n  const convertedMarks = marks?.map((m) => ({\r\n    value: logIt(m.value),\r\n    label: m.label,\r\n  }));\r\n\r\n  const handleChange = (event, newValue) => {\r\n    const copy = [...newValue];\r\n    convertedMarks.forEach((m, i) => {\r\n      if (Math.abs(newValue[0] - m.value) < 100) {\r\n        copy[0] = m.value;\r\n      }\r\n      if (Math.abs(newValue[1] - m.value) < 100) {\r\n        copy[1] = m.value;\r\n      }\r\n    });\r\n    setValue(copy);\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={`${classes.card} step-device-four`}>\r\n      <CardHeader\r\n        title=\"Frequencies\"\r\n        subheader=\"Adjust the audio range used for this strip\"\r\n      />\r\n      <CardContent className={classes.content}>\r\n        <div style={{ width: '100%' }}>\r\n          <BladeFrame title=\"Range\" style={{padding: '16px 2rem 6px 2rem', marginBottom: '1rem'}}>\r\n          <Slider\r\n            value={[value[0], value[1]]}\r\n            aria-labelledby=\"discrete-slider-custom\"\r\n            step={0.001}\r\n            valueLabelDisplay=\"auto\"\r\n            marks={convertedMarks}\r\n            min={logIt(config.melbanks?.min_frequency)}\r\n            max={logIt(config.melbanks?.max_frequencies[config.melbanks?.max_frequencies.length - 1])}\r\n            onChange={handleChange}\r\n            ValueLabelComponent={ValueLabelComponent}\r\n            onChangeCommitted={(e, val) => {\r\n              // Backend cannot do partial updates yet, sending whole config\r\n              addVirtual({\r\n                id: virtual.id,\r\n                config: {\r\n                  ...virtual.config,\r\n                  frequency_min: Math.round(hzIt(value[0])),\r\n                  frequency_max: Math.round(hzIt(value[1]))\r\n                }\r\n              }).then(() => getVirtuals())\r\n            }}\r\n          />\r\n          </BladeFrame>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            <div style={{ maxWidth: '120px' }}>\r\n              <TextField\r\n                id=\"min\"\r\n                label=\"Min\"\r\n                type=\"number\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">Hz</InputAdornment>\r\n                }}\r\n                inputProps={{\r\n                  style: { textAlign: 'right', }\r\n                }}\r\n                value={Math.round(hzIt(value[0])) < 5 ? value[0] : Math.round(hzIt(value[0]))}\r\n                variant=\"outlined\"\r\n                onChange={(e, n) => {\r\n                  setValue([logIt(e.target.value), value[1]]);\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ maxWidth: '120px' }}>\r\n              <TextField\r\n                id=\"max\"\r\n                label=\"Max\"\r\n                type=\"number\"\r\n\r\n                value={Math.round(hzIt(value[1])) > 20001 ? value[1] : Math.round(hzIt(value[1]))}\r\n                onChange={(e, n) => {\r\n                  setValue([value[0], logIt(e.target.value)]);\r\n                }}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">Hz</InputAdornment>\r\n                }}\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip\r\n      open={open}\r\n      enterTouchDelay={0}\r\n      placement=\"top\"\r\n      title={`${Math.round(hzIt(value))} Hz`}\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default FrequenciesCard;\r\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core/';\r\nimport useStore from '../../utils/apiStore';\r\nimport EffectsCard from './Effects';\r\nimport PresetsCard from './Presets';\r\nimport TransitionCard from './Transition';\r\nimport MelbankCard from './Frequencies';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  virtualWrapper: {\r\n    justifyContent: 'center',\r\n    '@media (max-width: 1400px)': {\r\n      justifyContent: 'flex-start',\r\n    },\r\n  },\r\n  girdItem: { flexShrink: 0, flexGrow: 1, maxWidth: '540px', width: '100%' },\r\n}));\r\n\r\nconst Device = ({\r\n  match: {\r\n    params: { virtId },\r\n  },\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getPresets = useStore((state) => state.getPresets);\r\n  const getSchemas = useStore((state) => state.getSchemas);\r\n\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const presets = useStore((state) => state.presets);\r\n\r\n  const virtual = virtuals[virtId];\r\n  const effectType = virtual && virtual.effect.type;\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    getSchemas();\r\n    effectType && getPresets(effectType);\r\n  }, [getVirtuals, getSchemas, getPresets, effectType]);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      spacing={2}\r\n      className={classes.virtualWrapper}\r\n    >\r\n      {virtual && (\r\n        <>\r\n          <Grid item className={classes.girdItem}>\r\n            <EffectsCard virtId={virtId} />\r\n            <TransitionCard virtual={virtual} style={{ marginTop: '1rem' }} />\r\n          </Grid>\r\n          <Grid item className={classes.girdItem}>\r\n            {effectType && presets && (\r\n              <PresetsCard\r\n                virtual={virtual}\r\n                presets={presets}\r\n                effectType={effectType}\r\n                style={{ marginBottom: '1rem' }}\r\n              />\r\n            )}\r\n            <MelbankCard virtual={virtual} />\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Device;\r\n","import { useState, useEffect } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Divider, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Grid, Card, CardActionArea, CardActions, CardMedia, Icon, Typography } from '@material-ui/core';\r\nimport { Info } from '@material-ui/icons';\r\nimport Popover from '../../components/Popover';\r\nimport NoYet from '../../components/NoYet';\r\nimport BladeIcon from '../../components/Icons/BladeIcon';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 'min(95vw, 345px)',\r\n  },\r\n  '@media (max-width: 580px)': {\r\n    root: {\r\n      width: '95vw',\r\n    },\r\n    sceneTitle: {\r\n      fontSize: '1rem',\r\n    }\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n  iconMedia: {\r\n    height: 140,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    margin: '0 auto',\r\n    fontSize: 100,\r\n    '& > span:before': {\r\n      position: 'relative',\r\n    },\r\n  },\r\n});\r\n\r\nconst Scenes = () => {\r\n  const classes = useStyles();\r\n  const getScenes = useStore((state) => state.getScenes);\r\n  const scenes = useStore((state) => state.scenes);\r\n  const activateScene = useStore((state) => state.activateScene);\r\n  const deleteScene = useStore((state) => state.deleteScene);\r\n  const [info, setInfo] = useState(false);\r\n  const [scene, setScene] = useState();\r\n\r\n  const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\r\n\r\n  const handleActivateScene = (e) => {\r\n    activateScene(e);\r\n    setDialogOpenAddScene(false);\r\n  };\r\n\r\n  const handleDeleteScene = (e) => {\r\n    deleteScene(e).then(() => {\r\n      getScenes();\r\n    });\r\n    setDialogOpenAddScene(false);\r\n  };\r\n\r\n  const handleInfoOpen = (s) => {\r\n    setScene(s)\r\n    setInfo(true);\r\n  };\r\n\r\n  const handleInfoClose = () => {\r\n    setInfo(false);\r\n  };\r\n\r\n  const sceneImage = (iconName) => iconName && iconName.startsWith('image:')\r\n    ? <CardMedia\r\n      className={classes.media}\r\n      image={iconName.split('image:')[1]}\r\n      title=\"Contemplative Reptile\"\r\n    />\r\n    : <BladeIcon scene className={classes.iconMedia} name={iconName} />\r\n\r\n  const SceneDialog = () => scene ? <Dialog\r\n    open={info}\r\n    onClose={handleInfoClose}\r\n    aria-labelledby=\"alert-dialog-title\"\r\n    aria-describedby=\"alert-dialog-description\"\r\n    fullWidth={true}\r\n    maxWidth={\"xs\"}\r\n  >\r\n    <DialogTitle id=\"alert-dialog-title\">Scene: {scenes[scene].name || scene}</DialogTitle>\r\n    <DialogContent>\r\n      <DialogContentText id=\"alert-dialog-description\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', fontVariant: 'all-small-caps' }}>\r\n          <span>Device</span>\r\n          <span>Effect</span>\r\n        </div>\r\n        <Divider />\r\n        {Object.keys(scenes[scene].virtuals).filter(d => !!scenes[scene].virtuals[d].type).map((dev, i) => (\r\n          <div key={i} style={{ display: 'flex', justifyContent: 'space-between', fontVariant: 'all-small-caps' }}>\r\n            <span>{dev}</span>\r\n            <span>{scenes[scene].virtuals[dev].type}</span>\r\n          </div>\r\n        ))}\r\n      </DialogContentText>\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={handleInfoClose} color=\"primary\" autoFocus>\r\n        Close\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog> : <></>\r\n\r\n  useEffect(() => {\r\n    getScenes();\r\n  }, [getScenes]);\r\n  return (\r\n    <Grid container spacing={2} justify=\"center\">\r\n      {scenes && Object.keys(scenes).length ? Object.keys(scenes).map((s, i) => (\r\n        <Grid item key={i}>\r\n          <Card className={classes.root}>\r\n            <CardActionArea style={{ background: '#090909' }} onClick={() => handleActivateScene({ id: s })}>\r\n              {sceneImage(scenes[s].scene_image || 'Wallpaper')}\r\n            </CardActionArea>\r\n            <CardActions style={{ justifyContent: 'space-between', aligntItems: 'center', width: '100%' }}>\r\n              <Typography gutterBottom className={classes.sceneTitle} variant={\"h5\"} component={\"h2\"}>\r\n                {scenes[s].name || s}\r\n              </Typography>\r\n              <div>\r\n                <Popover onConfirm={() => handleDeleteScene(s)} variant=\"outlined\" color=\"inherit\" />\r\n                <Button onClick={() => handleInfoOpen(s)} variant=\"outlined\" color=\"inherit\" size=\"small\" style={{ marginLeft: '0.5rem' }}>\r\n                  <Info />\r\n                </Button>\r\n\r\n              </div>\r\n            </CardActions>\r\n          </Card>\r\n          <SceneDialog />\r\n        </Grid>\r\n      )) : (<NoYet type=\"Scene\" />)}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Scenes;\r\n","import { useEffect } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeSchemaForm from \"../../components/SchemaForm/BladeSchemaForm\";\r\n\r\nconst AudioCard = ({ className }) => {\r\n    const setSystemConfig = useStore((state) => state.setSystemConfig)\r\n    const getSystemConfig = useStore((state) => state.getSystemConfig)\r\n    const schema = useStore((state) => state?.schemas?.audio?.schema)\r\n    const model = useStore((state) => state?.config?.audio)\r\n\r\n    useEffect(() => {\r\n        getSystemConfig();\r\n    }, []);\r\n\r\n    return <div className={className}>\r\n        {schema && <BladeSchemaForm\r\n            schema={schema}\r\n            model={model}\r\n            onModelChange={(e) => {\r\n                setSystemConfig({\r\n                    config: {\r\n                        audio: e\r\n                    }\r\n                }).then(() => getSystemConfig())\r\n            }}\r\n        />}\r\n    </div>\r\n};\r\n\r\nexport default AudioCard;\r\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Card, CardHeader, CardContent, InputLabel, MenuItem, FormControl, Checkbox, Icon, TextField, Select,  Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Wled from '../../components/Icons/Wled';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    rowContainer: {\r\n        border: '1px solid',\r\n        borderRadius: '4px'\r\n    },\r\n    rowB: {\r\n        display: 'flex',\r\n        flexDirection: 'row'\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        padding: '10px 5px',\r\n        '&:not(:last-child)': {\r\n            borderBottom: '1px solid',\r\n        }\r\n    },\r\n    formControl: {\r\n        width: '100%',\r\n        marginRight: '1rem',\r\n    },\r\n    check: {\r\n        '& .MuiSvgIcon-root': {\r\n            width: '2rem',\r\n            height: '2rem',\r\n        }\r\n    },\r\n\r\n});\r\n\r\nconst WledCard = ({ className }) => {\r\n\r\n    const classes = useStyles();\r\n    const setSystemConfig = useStore(state => state.setSystemConfig);\r\n    const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n    const settings = useStore(state => state.config);\r\n\r\n    const toggleSetting = (setting, value) => {\r\n        setSystemConfig({ config: { wled_preferences: { [setting]: { user_enabled: value } } } }).then(() => getSystemConfig());\r\n    }\r\n    const onChangeSetting = (setting, value) => {\r\n        setSystemConfig({ config: { wled_preferences: { [setting]: { setting: value } } } }).then(() => getSystemConfig());\r\n    }\r\n    const onScanOnStart = (setting, value) => {\r\n        setSystemConfig({ config: { [setting]: value } }).then(() => getSystemConfig());\r\n    }\r\n\r\n    useEffect(() => {\r\n        getSystemConfig();\r\n    }, [getSystemConfig]);\r\n\r\n    return settings.wled_preferences ? (\r\n        <Card style={{ marginBottom: '2rem' }} className={className}>\r\n            <CardHeader title=\"WLED Integration\" subheader=\"Configure WLED-Settings\" action={\r\n                <Icon\r\n                    style={{\r\n                        margin: '1rem',\r\n                        fontSize: '2.5rem'\r\n                    }}\r\n                >\r\n                    <Wled />\r\n                </Icon>} />\r\n            <CardContent className={classes.content}>\r\n                <FormControl>\r\n                    <InputLabel id=\"wled-scan-selector\">Scan for WLED on startup</InputLabel>\r\n                    <Select\r\n                        labelId=\"wled-scan-selector\"\r\n                        id=\"wled-scan-select\"\r\n                        value={settings.scan_on_startup}\r\n                        onChange={(e) => onScanOnStart(\"scan_on_startup\", e.target.value)}\r\n                    >\r\n                        <MenuItem value={true}>Yes</MenuItem>\r\n                        <MenuItem value={false}>No</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <Accordion style={{ marginTop: '2rem' }}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography className={classes.heading}>WLED Sync-Settings</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.content}>\r\n                        <p style={{ margin: '0 0 2rem 0' }}>LedFx can configure WLED's sync settings to recommended values.<br /><br />\r\n                            WARNING: <br />\r\n                            If you are using your strips with other controllers, changes to these settings might impact their functionality!<br /><br />\r\n                            LedFx will only change settings that you select with the checkbox</p>\r\n                        <div className={classes.rowContainer}>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.wled_preferred_mode.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"wled_preferred_mode\", !settings.wled_preferences.wled_preferred_mode.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-mode-selector\">Preferred WLED mode</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-mode-selector\"\r\n                                        id=\"wled-mode-select\"\r\n                                        value={settings.wled_preferences.wled_preferred_mode.setting}\r\n                                        onChange={(e) => onChangeSetting(\"wled_preferred_mode\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.wled_preferred_mode.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={\"unset\"}>Unset</MenuItem>\r\n                                        <MenuItem value={\"E131\"}>E131</MenuItem>\r\n                                        <MenuItem value={\"DDP\"}>DDP</MenuItem>\r\n                                        <MenuItem value={\"UDP\"}>UDP</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.realtime_gamma_enabled.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"realtime_gamma_enabled\", !settings.wled_preferences.realtime_gamma_enabled.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-gamma\">Realtime Gamma</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-gamma\"\r\n                                        id=\"wled-gamma-select\"\r\n                                        value={settings.wled_preferences.realtime_gamma_enabled.setting}\r\n                                        onChange={(e) => onChangeSetting(\"realtime_gamma_enabled\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.realtime_gamma_enabled.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={true}>Enable</MenuItem>\r\n                                        <MenuItem value={false}>Disable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.force_max_brightness.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"force_max_brightness\", !settings.wled_preferences.force_max_brightness.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-brightness\">Force MaxBrightness</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-brightness\"\r\n                                        id=\"wled-brightness-select\"\r\n                                        value={settings.wled_preferences.force_max_brightness.setting}\r\n                                        onChange={(e) => onChangeSetting(\"force_max_brightness\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.force_max_brightness.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={true}>Enable</MenuItem>\r\n                                        <MenuItem value={false}>Disable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.realtime_dmx_mode.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"realtime_dmx_mode\", !settings.wled_preferences.realtime_dmx_mode.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl  className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-dmx\">DMX mode</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-dmx\"\r\n                                        id=\"wled-dmx-select\"\r\n                                        value={settings.wled_preferences.realtime_dmx_mode.setting}\r\n                                        onChange={(e) => onChangeSetting(\"realtime_dmx_mode\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.realtime_dmx_mode.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={\"MultiRGB\"}>Disabled</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Single RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Single DRGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Multi RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Dimmer + Multi RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Multi RGBW</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.start_universe_setting.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"start_universe_setting\", !settings.wled_preferences.start_universe_setting.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"Start universe\"\r\n                                    id=\"wled-universe-select\"\r\n                                    value={settings.wled_preferences.start_universe_setting.setting}\r\n                                    onChange={(e) => onChangeSetting(\"start_universe_setting\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.start_universe_setting.user_enabled} \r\n                                    className={classes.formControl} />\r\n\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.dmx_address_start.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"dmx_address_start\", !settings.wled_preferences.dmx_address_start.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"DMX start address\"\r\n                                    id=\"wled-dmx-start-select\"\r\n                                    value={settings.wled_preferences.dmx_address_start.setting}\r\n                                    onChange={(e) => onChangeSetting(\"dmx_address_start\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.dmx_address_start.user_enabled}\r\n                                    className={classes.formControl}\r\n                                />\r\n\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.inactivity_timeout.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"inactivity_timeout\", !settings.wled_preferences.inactivity_timeout.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"Inactivity Timeout\"\r\n                                    id=\"wled-inactivity-select\"\r\n                                    value={settings.wled_preferences.inactivity_timeout.setting}\r\n                                    onChange={(e) => onChangeSetting(\"inactivity_timeout\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.inactivity_timeout.user_enabled}\r\n                                    className={classes.formControl}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </AccordionDetails>\r\n                </Accordion >\r\n            </CardContent >\r\n        </Card >\r\n    ) : (<></>);\r\n};\r\n\r\nexport default WledCard;\r\n","import { Button, Fab, TextField, Popover, FormControlLabel, Switch } from '@material-ui/core';\r\nimport { Check, Close } from '@material-ui/icons';\r\nimport { useState, useEffect } from 'react'\r\nimport BladeIcon from '../../components/Icons/BladeIcon';\r\nimport ws from \"../../utils/Websocket\";\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst getMedia = async () => {\r\n  try {\r\n    return await navigator.mediaDevices.getUserMedia({\r\n      audio: true,\r\n      video: false,\r\n    })\r\n  } catch (err) {\r\n    console.log('Error:', err)\r\n  }\r\n}\r\n\r\nconst Webaudio = () => {\r\n  // const [webAud, setWebAud] = useState(false)\r\n  const webAud = useStore((state) => state.webAud)\r\n  const setWebAud = useStore((state) => state.setWebAud)\r\n  const [wsReady, setWsReady] = useState(false)\r\n  // const [keep, setKeep] = useState(false)\r\n  const webAudName = useStore((state) => state.webAudName)\r\n  const setWebAudName = useStore((state) => state.setWebAudName)\r\n\r\n  const audioContext = webAud && new (window.AudioContext || window.webkitAudioContext)();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  \r\n\r\n  const getSchemas = useStore((state) => state.getSchemas)\r\n\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n\r\n  let s\r\n  useEffect(() => {\r\n    webAud && navigator.mediaDevices && navigator.mediaDevices.getUserMedia && getMedia().then(stream => {\r\n      s = stream\r\n      if (!audioContext || audioContext.state === 'closed') {\r\n        return\r\n      }\r\n      \r\n      const source = audioContext.createMediaStreamSource(stream)\r\n      const scriptNode = audioContext.createScriptProcessor(1024, 1, 1);\r\n      // const scriptNode = audioContext.createScriptProcessor(0, 1, 1);\r\n      console.log(\"THIS\", scriptNode);\r\n      source.connect(scriptNode);\r\n      scriptNode.connect(audioContext.destination);\r\n      scriptNode.onaudioprocess = e => {\r\n        if (wsReady) {\r\n          if (webAud) {\r\n            const sendWs = async () => {\r\n              let i = 0\r\n              const request = {\r\n                data: e.inputBuffer.getChannelData(0),\r\n                client: webAudName,\r\n                id: i,\r\n                type: \"audio_stream_data\",\r\n              };\r\n              ws.ws.send(JSON.stringify(++request.id && request));\r\n            };\r\n            sendWs();\r\n          }\r\n        }\r\n      };\r\n    });\r\n    // return () => {\r\n    //   if (audioContext && !keep) {\r\n    //     // const sendWs = async () => {\r\n    //     //   let i = 0\r\n    //     //   const request = {\r\n    //     //     client: webAudName,\r\n    //     //     id: i,\r\n    //     //     type: \"audio_stream_stop\",\r\n    //     //   };\r\n    //     //   ws.ws.send(JSON.stringify(++request.id && request));\r\n    //     // };\r\n    //     // sendWs();\r\n    //     // s?.getTracks().forEach(track => track.stop())\r\n    //     // audioContext.close()\r\n    //   }\r\n    // }\r\n  }, [audioContext])\r\n\r\n\r\n\r\n  if (!wsReady) {\r\n    if (ws && ws.ws && ws.ws.readyState === 1) {\r\n      setWsReady(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Fab aria-describedby={id} size=\"large\" color={webAud ? \"inherit\" : \"secondary\"} onClick={(e) => {\r\n        // if (keep) {\r\n        //   setKeep(false)\r\n        // }\r\n        if (webAud) {\r\n          if (audioContext) {\r\n            s.getTracks().forEach(track => track.stop())\r\n            audioContext.close()\r\n          }\r\n          const sendWs = async () => {\r\n            let i = 0\r\n            const request = {\r\n              client: webAudName,\r\n              id: i,\r\n              type: \"audio_stream_stop\",\r\n            };\r\n            ws.ws.send(JSON.stringify(++request.id && request));\r\n          };\r\n          sendWs().then(() => getSchemas());\r\n          setWebAud(false)\r\n        } else {\r\n\r\n          handleClick(e)\r\n        }\r\n\r\n      }} data-webaud={webAud}>\r\n        <BladeIcon name={webAud ? \"mdi:stop\" : \"mdi:music\"} colorIndicator={webAud} style={{ position: 'relative'}} />\r\n      </Fab>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"center\",\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"center\",\r\n          horizontal: 'left',\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', margin: 20 }}>\r\n          <TextField\r\n            id=\"client-name\"\r\n            label=\"Name\"\r\n            value={webAudName}\r\n            onChange={(e) => setWebAudName(e.target.value)}\r\n            variant=\"outlined\"\r\n          />\r\n          {/* <FormControlLabel\r\n            value=\"top\"\r\n            control={<Switch checked={keep} onChange={(e) => setKeep(e.target.checked)} color=\"primary\" />}\r\n            label=\"Keep Open\"\r\n            labelPlacement=\"top\"\r\n          /> */}\r\n          <Button\r\n            aria-describedby={id}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              console.log(\"BOOM\")\r\n              console.log(audioContext)\r\n              if (!webAud) {\r\n                if (wsReady) {\r\n                  const sendWs = async () => {\r\n                    const request = {\r\n                      data: {\r\n\r\n                      },\r\n                      client: webAudName,\r\n                      id: 1,\r\n                      type: \"audio_stream_start\",\r\n                    };\r\n                    ws.ws.send(JSON.stringify(++request.id && request));\r\n                  };\r\n                  sendWs()\r\n                  setTimeout(()=>{\r\n                    getSchemas()\r\n                  },1000)\r\n                  \r\n                }\r\n              } \r\n\r\n              setAnchorEl(null);\r\n              setWebAud(true)\r\n            }}\r\n          >\r\n            <Check />\r\n          </Button>\r\n          <Button\r\n            aria-describedby={id}\r\n            variant=\"contained\"\r\n            color=\"default\"\r\n            onClick={() => {\r\n              setAnchorEl(null);\r\n            }}\r\n          >\r\n            <Close />\r\n          </Button>\r\n        </div>\r\n      </Popover>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Webaudio\r\n","import { useEffect, useState } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { deleteFrontendConfig, download } from '../../utils/helpers';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Divider, Input, Card, CardHeader, CardContent, Slider } from '@material-ui/core';\r\nimport { CloudUpload, CloudDownload,PowerSettingsNew, Delete, Refresh } from '@material-ui/icons';\r\nimport useSliderStyles from '../../components/SchemaForm/BladeSlider.styles';\r\nimport PopoverSure from '../../components/Popover';\r\nimport AudioCard from './AudioCard';\r\nimport WledCard from './WledCard';\r\nimport Webaudio from './Webaudio';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  actionButton: {\r\n    marginTop: '0.5rem',\r\n    width: '100%',\r\n    borderColor: theme.palette.grey[400]\r\n  },\r\n  card: {\r\n    maxWidth: '540px',\r\n    margin: '0 auto', // mobile\r\n  },\r\n  '@media (max-width: 580px)': {\r\n    card: {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Settings = () => {\r\n  const classes = useStyles();\r\n  const sliderClasses = useSliderStyles();\r\n  const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n  const getFullConfig = useStore((state) => state.getFullConfig);\r\n  const setSystemConfig = useStore((state) => state.setSystemConfig);\r\n  const deleteSystemConfig = useStore((state) => state.deleteSystemConfig);\r\n  const importSystemConfig = useStore((state) => state.importSystemConfig);\r\n  const shutdown = useStore((state) => state.shutdown);\r\n  const restart = useStore((state) => state.restart);\r\n  const config = useStore((state) => state.config);\r\n  const [fps, setFps] = useState(30)\r\n  const [pixelLength, setPixelLength] = useState(50)\r\n  const configDownload = async () => {\r\n    \r\n    getFullConfig().then((newConfig)=> download(\r\n      newConfig,\r\n      'config.json',\r\n      'application/json',\r\n    ))\r\n   \r\n  };\r\n\r\n  const configDelete = async () => {\r\n    deleteFrontendConfig();\r\n    deleteSystemConfig().then(() => window.location = window.location.href)\r\n  }\r\n\r\n  const fileChanged = async (e) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = (e) => {\r\n      importSystemConfig(e.target.result).then(() => (window.location = window.location.href));\r\n    };\r\n  }\r\n\r\n  const setSystemSetting = (setting, value) => {\r\n    setSystemConfig({ config: { [setting]: value } }).then(() => getSystemConfig());\r\n  }\r\n\r\n  const marks = [\r\n    {\r\n      value: 1,\r\n      label: '1',\r\n    },\r\n    {\r\n      value: 15,\r\n      label: '15',\r\n    },\r\n    {\r\n      value: 30,\r\n      label: '30',\r\n    },\r\n    {\r\n      value: 45,\r\n      label: '45',\r\n    },\r\n    {\r\n      value: 60,\r\n      label: '60',\r\n    },\r\n  ];\r\n\r\n  const marksPixelLength = [\r\n    {\r\n      value: 1,\r\n      label: '1',\r\n    },\r\n    {\r\n      value: 50,\r\n      label: '50',\r\n    },\r\n    {\r\n      value: 100,\r\n      label: '100',\r\n    },\r\n    {\r\n      value: 150,\r\n      label: '150',\r\n    },\r\n    {\r\n      value: 200,\r\n      label: '200',\r\n    },\r\n    {\r\n      value: 250,\r\n      label: '250',\r\n    },\r\n    {\r\n      value: 300,\r\n      label: '300',\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {    \r\n      if (typeof config.visualisation_fps === 'number') {\r\n        setFps(config.visualisation_fps)\r\n      }\r\n      if (typeof config.visualisation_maxlen === 'number') {\r\n        setPixelLength(config.visualisation_maxlen)\r\n      }    \r\n  }, [config]);\r\n\r\n  useEffect(() => {\r\n    getSystemConfig()\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Card className={classes.card} style={{ marginBottom: '2rem' }}>\r\n        <CardHeader title=\"General\" subheader=\"Configure LedFx-Settings\" />\r\n        <CardContent className={classes.content}>\r\n          <AudioCard className={'step-settings-one'} />\r\n\r\n          <Divider style={{ margin: '1rem 0' }} />\r\n          {config.visualisation_fps && (<>\r\n            <div className={`${sliderClasses.wrapper} step-settings-two`} style={{ order: 'unset', width: \"100%\" }}>\r\n              <label>Frontend FPS</label>\r\n              <Slider\r\n                value={fps}\r\n                marks={marks}\r\n                step={1}\r\n                valueLabelDisplay=\"auto\"\r\n                min={1}\r\n                max={60}\r\n                onChangeCommitted={(e, val) => setSystemSetting(\"visualisation_fps\", val)}\r\n                onChange={(e, val) => {\r\n                  setFps(val);\r\n                }}\r\n              />\r\n              <Input\r\n                disableUnderline\r\n                className={sliderClasses.input}\r\n                value={fps}\r\n                margin=\"dense\"\r\n                onChange={(e, val) => {\r\n                  setFps(val);\r\n                }}\r\n                onBlur={(e, val) => setSystemSetting(\"visualisation_fps\", val)}\r\n                inputProps={{\r\n                  min: 1,\r\n                  max: 60,\r\n                  type: 'number',\r\n                  'aria-labelledby': 'input-slider',\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className={`${sliderClasses.wrapper} step-settings-three`} style={{ order: 'unset', width: \"100%\" }}>\r\n              <label>Frontend max Pixel Length</label>\r\n              <Slider\r\n                value={pixelLength}\r\n                marks={marksPixelLength}\r\n                step={1}\r\n                valueLabelDisplay=\"auto\"\r\n                min={1}\r\n                max={300}\r\n                onChangeCommitted={(e, val) => setSystemSetting(\"visualisation_maxlen\", val)}\r\n                onChange={(e, val) => {\r\n                  setPixelLength(val);\r\n                }}\r\n              />\r\n              <Input\r\n                disableUnderline\r\n                className={sliderClasses.input}\r\n                value={pixelLength}\r\n                margin=\"dense\"\r\n                onChange={(e, val) => {\r\n                  setPixelLength(val);\r\n                }}\r\n                onBlur={(e, val) => setSystemSetting(\"visualisation_maxlen\", val)}\r\n                inputProps={{\r\n                  min: 1,\r\n                  max: 300,\r\n                  type: 'number',\r\n                  'aria-labelledby': 'input-slider',\r\n                }}\r\n              />\r\n            </div>\r\n\r\n          </>)}\r\n          <Divider style={{ margin: '1rem 0' }} />\r\n          <div className={'step-settings-four'}>\r\n            <Button\r\n              size=\"small\"\r\n              startIcon={<CloudUpload />}\r\n              variant=\"outlined\"\r\n              className={classes.actionButton}\r\n              style={{ marginTop: '1.5rem' }}\r\n              onClick={configDownload}\r\n            >\r\n              Export Config\r\n            </Button>\r\n            <PopoverSure\r\n              startIcon={<Delete />}\r\n              label=\"Reset Config\"\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              className={classes.actionButton}\r\n              onConfirm={configDelete}\r\n              direction=\"center\"\r\n              vertical=\"top\"\r\n            />\r\n            <input\r\n              hidden\r\n              accept=\"application/json\"\r\n              id=\"contained-button-file\"\r\n              type=\"file\"\r\n              onChange={(e) => fileChanged(e)}\r\n            />\r\n            <label htmlFor=\"contained-button-file\">\r\n              <Button\r\n                component=\"span\"\r\n                size=\"small\"\r\n                startIcon={<CloudDownload />}\r\n                variant=\"outlined\"\r\n                className={classes.actionButton}\r\n              >\r\n                Import Config\r\n              </Button>\r\n            </label>\r\n            <Button\r\n              size=\"small\"\r\n              startIcon={<Refresh />}\r\n              variant=\"outlined\"\r\n              className={classes.actionButton}\r\n              onClick={restart}\r\n\r\n            >\r\n              Restart LedFx\r\n            </Button>\r\n\r\n            <Button\r\n              size=\"small\"\r\n              startIcon={<PowerSettingsNew />}\r\n              variant=\"outlined\"\r\n              className={classes.actionButton}\r\n              onClick={shutdown}\r\n            >\r\n              Shutdown\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n      {(parseInt(window.localStorage.getItem('BladeMod')) > 10) &&\r\n        <WledCard className={`${classes.card} step-settings-five`} />\r\n      }\r\n      {(parseInt(window.localStorage.getItem('BladeMod')) > 10) &&\r\n        <Webaudio className={classes.card} />\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useIntegrationCardStyles = makeStyles((theme) => ({\r\n    integrationCardPortrait: {\r\n      padding: '1rem',\r\n      margin: '0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'flex-start',\r\n      flexDirection: 'column',\r\n      width: '290px',\r\n      justifyContent: 'space-between',\r\n      '@media (max-width: 580px)': {\r\n        maxWidth: '97vw',\r\n        margin: '0 auto',\r\n        height: 'unset',\r\n      }\r\n    },\r\n    integrationLink: {\r\n      flexGrow: 0,\r\n      padding: '0 0.5rem',\r\n      textDecoration: 'none',\r\n      fontSize: 'large',\r\n      color: 'inherit',\r\n  \r\n      '&:hover': {\r\n        color: theme.palette.primary.main,\r\n      },\r\n    },\r\n    integrationIcon: {\r\n      margingBottom: '4px',\r\n      marginRight: '0.5rem',\r\n      position: 'relative',\r\n      fontSize: '50px',\r\n    },\r\n    integrationCardContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      justifyContent: 'space-between',\r\n      '@media (max-width: 580px)': {\r\n        flexDirection: 'row',\r\n      },\r\n    },\r\n    iconMedia: {\r\n      height: 140,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      margin: '0 auto',\r\n      fontSize: 100,\r\n      '& > span:before': {\r\n        position: 'relative',\r\n      },\r\n    },\r\n    editButton: {\r\n      minWidth: 32,\r\n      marginLeft: theme.spacing(1),\r\n      '@media (max-width: 580px)': {\r\n        minWidth: 'unset',\r\n      },\r\n    },\r\n    editButtonMobile: {\r\n      minWidth: 32,\r\n      marginLeft: theme.spacing(1),\r\n      '@media (max-width: 580px)': {\r\n        minWidth: 'unset',\r\n        flexGrow: 1,\r\n      },\r\n    },\r\n    expand: {\r\n      display: 'none',\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n      '@media (max-width: 580px)': {\r\n        display: 'block'\r\n      },\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    buttonBar: {    \r\n      '@media (max-width: 580px)': {\r\n        display: 'none'\r\n      },\r\n    },\r\n    buttonBarMobile: {\r\n      width: '100%',\r\n      textAlign: 'right',\r\n    },\r\n    buttonBarMobileWrapper: {\r\n      display: 'flex',\r\n      margin: '0 -1rem -1rem -1rem',\r\n      padding: '0.5rem 0.5rem 1.5rem 0.5rem',\r\n      background: 'rgba(0,0,0,0.4)',\r\n      '& > div, & > button': {\r\n        flexGrow: 1,\r\n        flexBasis: '30%'\r\n      },\r\n      '& > div > button': {\r\n        width: '100%'\r\n      }\r\n    },\r\n  }));","import { useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport useStore from '../../../utils/apiStore';\r\nimport Popover from '../../../components/Popover';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { CardActions, CardHeader, Switch } from '@material-ui/core';\r\nimport { useIntegrationCardStyles } from './IntegrationCard.styles'\r\n\r\nconst IntegrationCard = ({ integration }) => {\r\n\r\n  const classes = useIntegrationCardStyles();\r\n  const getIntegrations = useStore((state) => state.getIntegrations);\r\n  const integrations = useStore((state) => state.integrations);\r\n  const deleteIntegration = useStore((state) => state.deleteIntegration);\r\n  const toggleIntegration = useStore((state) => state.toggleIntegration);\r\n  const setDialogOpenAddIntegration = useStore((state) => state.setDialogOpenAddIntegration);\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const variant = 'outlined';\r\n  const color = 'inherit';\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const handleDeleteDevice = (integration) => {\r\n    deleteIntegration(integrations[integration].id).then(() => {\r\n      getIntegrations();\r\n    });\r\n  };\r\n\r\n  const handleEditIntegration = (integration) => {\r\n    setDialogOpenAddIntegration(true, integration)\r\n  };\r\n  const handleActivateIntegration = (integration) => {\r\n    toggleIntegration({\r\n      id: integration.id\r\n    }).then(() => getIntegrations())\r\n  };\r\n\r\n  return integrations[integration]?.config ? (\r\n    <Card className={classes.integrationCardPortrait}>\r\n      <CardHeader \r\n        title={integrations[integration].config.name} \r\n        subheader={integrations[integration].config.description} \r\n        action={\r\n          <Switch aria-label=\"status\" checked={integrations[integration].active} onClick={() => handleActivateIntegration(integrations[integration])} />\r\n        }\r\n      />\r\n      <CardActions style={{alignSelf: 'flex-end'}}>\r\n      <div className={classes.integrationCardContainer}>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n        <div className={classes.buttonBar}>\r\n          <Popover\r\n            variant={variant}\r\n            color={color}\r\n            onConfirm={() => handleDeleteDevice(integration)}\r\n            className={classes.editButton}\r\n          />\r\n\r\n          <Button\r\n            variant={variant}\r\n            size=\"small\"\r\n            color={color}\r\n            className={classes.editButton}\r\n            onClick={() => handleEditIntegration(integration)}\r\n          >\r\n            <EditIcon />\r\n          </Button>\r\n          <Button\r\n            variant={variant}\r\n            size=\"small\"\r\n            color={color}\r\n            className={classes.editButton}\r\n            onClick={() => console.log(\"coming soon...\")}\r\n            disabled\r\n          >\r\n            <AddIcon />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit className={classes.buttonBarMobile}>\r\n        <div className={classes.buttonBarMobileWrapper}>\r\n          <Popover\r\n            variant={variant}\r\n            color={color}\r\n            onConfirm={() => handleDeleteDevice(integration)}\r\n            className={classes.editButton}\r\n          />         \r\n          <Button\r\n            variant={variant}\r\n            size=\"small\"\r\n            color={color}\r\n            className={classes.editButtonMobile}\r\n            onClick={() => handleEditIntegration(integration)}\r\n          >\r\n            <EditIcon />\r\n          </Button>\r\n        </div>\r\n      </Collapse>\r\n      </CardActions>\r\n     \r\n    </Card>\r\n  ) :(\r\n    <></>\r\n  )\r\n}\r\n\r\nexport default IntegrationCard\r\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\nimport IntegrationCard from './IntegrationCard/IntegrationCard';\r\nimport NoYet from '../../components/NoYet';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardWrapper: {\r\n    display: 'flex', flexWrap: 'wrap', margin: '-0.5rem', justifyContent: 'center'\r\n  },\r\n  '@media (max-width: 580px)' : {\r\n    cardWrapper:{\r\n      justifyContent: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nconst Integrations = () => {\r\n  const classes = useStyles();\r\n  const getIntegrations = useStore((state) => state.getIntegrations);\r\n  const integrations = useStore((state) => state.integrations);\r\n\r\n  useEffect(() => {\r\n    getIntegrations();\r\n  }, [getIntegrations]);\r\n  return (\r\n    <div className={classes.cardWrapper}>\r\n    {integrations && Object.keys(integrations).length ? Object.keys(integrations).map((integration, i) => (\r\n      <IntegrationCard integration={integration} key={i} />\r\n    )) : (<NoYet type=\"Integration\" />)}\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Integrations;\r\n","import { useEffect } from 'react';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useStore from './utils/apiStore';\r\nimport ScrollToTop from './utils/scrollToTop';\r\nimport ws, { WsContext, HandleWs } from \"./utils/Websocket\";\r\nimport { BladeDarkTheme, BladeLightTheme } from './AppThemes'\r\nimport useStyles from './App.styles';\r\nimport './App.css';\r\nimport './assets/materialdesignicons.css';\r\nimport LeftBar from './components/Bars/BarLeft';\r\nimport TopBar from './components/Bars/BarTop';\r\nimport BottomBar from './components/Bars/BarBottom';\r\nimport MessageBar from './components/Bars/BarMessage';\r\nimport NoHostDialog from './components/Dialogs/NoHostDialog';\r\nimport Home from './pages/Home';\r\nimport Devices from './pages/Devices/Devices';\r\nimport Device from './pages/Device/Device';\r\nimport Scenes from './pages/Scenes/Scenes';\r\nimport Settings from './pages/Settings/Settings';\r\nimport Integrations from './pages/Integrations/Integrations';\r\nimport { initFrontendConfig } from './utils/helpers';\r\n\r\n\r\nexport default function App() {\r\n  const classes = useStyles();\r\n\r\n  const leftBarOpen = useStore((state) => state.ui.bars && state.ui.bars.leftBar.open);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n  const getSchemas = useStore((state) => state.getSchemas);\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    getSystemConfig();\r\n    getSchemas();\r\n  }, [getVirtuals, getSystemConfig, getSchemas]);\r\n\r\n  useEffect(() => {\r\n    initFrontendConfig();\r\n  }, []);\r\n\r\n  console.log()\r\n  return (\r\n    <MuiThemeProvider theme={BladeDarkTheme}>\r\n      <WsContext.Provider value={ws}>\r\n        <div className={classes.root}>\r\n          <CssBaseline />\r\n          <Router basename={process.env.PUBLIC_URL}>\r\n            <ScrollToTop />\r\n            <HandleWs />\r\n            <MessageBar />\r\n            <TopBar />\r\n            <LeftBar />\r\n            <main\r\n              className={clsx(classes.content, {\r\n                [classes.contentShift]: leftBarOpen,\r\n              })}\r\n            >\r\n              <div className={classes.drawerHeader} />\r\n              <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <Route path=\"/devices\" component={Devices} />\r\n                <Route path=\"/device/:virtId\" component={Device} />\r\n                <Route path=\"/scenes\" component={Scenes} />\r\n                <Route path=\"/integrations\" component={Integrations} />\r\n                <Route path=\"/settings\" component={Settings} />\r\n              </Switch>\r\n              <NoHostDialog />\r\n            </main>\r\n            <BottomBar />\r\n          </Router>\r\n        </div>\r\n      </WsContext.Provider>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  <App />,\r\n  // </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}